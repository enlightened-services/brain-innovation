"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6481],{17321:(e,t,n)=>{var o,r,a,i,l,u,s,c,d;n.d(t,{Nj:()=>w,Q2:()=>y,Vx:()=>m,gD:()=>h,lT:()=>p,m_:()=>f,y7:()=>g,y8:()=>v});let f=null==(o=globalThis["claude.web"])?void 0:o.QuickEntry,h=null==(r=globalThis["claude.web"])?void 0:r.Account,m=null==(a=globalThis["claude.web"])?void 0:a.Navigation,p=null==(i=globalThis["claude.web"])?void 0:i.DeepLink,g=null==(l=globalThis["claude.web"])?void 0:l.WindowState,v=null==(u=globalThis["claude.web"])?void 0:u.Toast,y=null==(s=globalThis["claude.web"])?void 0:s.FileSystem;null==(c=globalThis["claude.web"])||c.OpenDocuments;let w=null==(d=globalThis["claude.web"])?void 0:d.Auth},19069:(e,t,n)=>{n.d(t,{ThemeProvider:()=>c,D:()=>p});var o=n(54568),r=n(55562),a=n(18088),i=n(39613),l=n(7620);let u="(prefers-color-scheme: dark)",s=(0,l.createContext)(void 0);function c(e){let{initialTheme:t,children:n}=e,[i,c]=(0,l.useState)(t),h=(0,r.l)(),[p,g]=(0,l.useState)(!1);(0,l.useEffect)(()=>{g(!0)},[]);let[v,y]=(0,a.Vc)("userThemeMode","auto"),[w,b]=(0,l.useState)(m(v));(0,l.useEffect)(()=>{b(m(v))},[v]),(0,l.useEffect)(()=>d(i),[i]),(0,l.useEffect)(()=>f(v,h),[h,v]);let _=(0,l.useCallback)(()=>{f(v,h),b(m(v))},[h,v]);return(0,l.useEffect)(()=>{if("auto"!==v)return;let e=window.matchMedia(u);return e.addEventListener("change",_),()=>e.removeEventListener("change",_)},[v,_]),(0,l.useEffect)(()=>{var e,t;null==(t=window.electronWindowControl)||null==(e=t.setThemeMode)||e.call(t,"auto"===v?"system":v)},[v]),(0,o.jsx)(s.Provider,{value:{theme:i,mode:v,setMode:y,setTheme:c,resolvedMode:w,mounted:p},children:n})}let d=e=>{"undefined"!=typeof document&&(document.documentElement.dataset.theme=e,h())},f=(e,t)=>{if("undefined"==typeof document)return;let n=m(e);t.set(i.eT.COLOR_MODE,n),document.documentElement.dataset.mode=n,h()},h=()=>{let[e,t,n]=getComputedStyle(document.documentElement).getPropertyValue("--bg-200").split(" "),o="hsl(".concat(e,",").concat(t,",").concat(n,")"),r=document.querySelector('meta[name="theme-color"]');r||((r=document.createElement("meta")).setAttribute("name","theme-color"),document.head.appendChild(r)),r.setAttribute("content",o)},m=e=>{var t;return"auto"!==e?"auto"===e?"light":e:(null==(t=window)?void 0:t.matchMedia(u).matches)?"dark":"light"},p=()=>{let e=(0,l.useContext)(s);if(void 0===e)throw Error("useTheme must be used within a ThemeProvider");return e}},29670:(e,t,n)=>{n.d(t,{LegalDocsProvider:()=>i,S:()=>l});var o=n(54568),r=n(7620);let a=(0,r.createContext)(void 0),i=e=>{let{value:t,children:n}=e;return(0,o.jsx)(a.Provider,{value:t,children:n})};function l(){return(0,r.useContext)(a)}},39480:(e,t,n)=>{n.d(t,{ArkoseTokenProvider:()=>g,D5:()=>y,vr:()=>v});var o=n(54568),r=n(1613),a=n(68067),i=n(28044),l=n(56929),u=n(23792),s=n(7620),c=n(44995),d=n(18088);let f="ak-session-token",h=e=>{let{host:t,apiKey:n,nonce:r,integrity:a,onCompleted:i,onShown:l,onShow:c,onHide:d,onError:f,onScriptError:h,setArkoseEnforcement:m}=e,p=e=>{e.setConfig({onCompleted:i,onShown:l,onShow:c,onHide:d,onError:f}),m(e)};return(0,s.useEffect)(()=>()=>{window.setupEnforcement=void 0},[]),(0,o.jsx)(u.default,{id:"arkose-script",src:"https://".concat(t,"/v2/").concat(n,"/api.js"),type:"text/javascript","data-callback":"setupEnforcement",async:!0,defer:!0,onLoad:()=>{window.setupEnforcement||(window.setupEnforcement=p)},onError:h,nonce:r,integrity:a,crossOrigin:"anonymous"})},m=()=>{let e=(0,i.V)(),t=(0,c.fZ)(),n=(0,a.fS)("ak_enabled");return!e&&t&&n},p=(0,s.createContext)({isReady:!1,isChallenging:!1,lastCallerId:void 0,needsToken:!1,startTokenFlow:()=>{}});function g(e){let{host:t,apiKey:n,nonce:r,integrity:a,children:i}=e,[u,c]=(0,s.useState)(m()&&!!t&&!!n&&!!a),[g,v]=(0,s.useState)(void 0),[y,w]=(0,s.useState)(void 0),[b,_]=(0,s.useState)(void 0),[C,E]=(0,s.useState)(!1),[T,S]=(0,d.Vc)(f,void 0),k=u&&!T;return(0,o.jsxs)(p.Provider,{value:{isReady:!!g,isChallenging:C,needsToken:k,lastCallerId:y,startTokenFlow:(e,t)=>{w(e),_(t),null==g||g.run()}},children:[i,u&&(0,o.jsx)(h,{host:t,apiKey:n,nonce:r,integrity:a,onCompleted:e=>{S(e.token),b&&(b(),_(void 0))},onShown:()=>E(!0),onShow:()=>E(!0),onHide:()=>E(!1),onError:e=>{(0,l.Cp)(e.error)},onScriptError:e=>{c(!1),(0,l.Cp)(e)},setArkoseEnforcement:v})]})}function v(){return(0,s.useContext)(p)}let y=()=>{let e=m(),[t,n,o]=(0,d.Vc)(f,void 0),{mutateAsync:a}=(0,r.L2)("api/arkose/verify","POST");return(0,s.useCallback)(async()=>{e&&t&&(o(),await a({session_token:t}))},[e,a,t,o])}},39951:(e,t,n)=>{n.d(t,{IQ:()=>a,Jd:()=>o,lx:()=>r});let o=["proMonthlyPromoCode","proAnnualPromoCode","welcomeMessageTitle","utmParams","max5xMonthlyPromoCode","max20xMonthlyPromoCode"],r=e=>{if(!e)return null;try{return JSON.parse(e)}catch(e){return null}},a=(e,t)=>(null==t?void 0:t.overrides)?{...e,...t.overrides}:e},46302:(e,t,n)=>{n.d(t,{EX:()=>_,Jh:()=>C,KN:()=>y,Ws:()=>p,bH:()=>E,f0:()=>g,fH:()=>T,v5:()=>v,z5:()=>b});var o=n(54568),r=n(74813),a=n(1613),i=n(44995),l=n(64328),u=n(16178),s=n(80688),c=n(68067),d=n(65315),f=n(4869),h=n(81562),m=n(59666);let p="This application requires one of these plans",g="This application is not authorized",v={"user:profile":{messageId:"oauth.scope.user.profile",description:(0,o.jsx)(m.A,{defaultMessage:"Access your Anthropic profile information",id:"EvXAQK/bGO"})},"user:inference":{messageId:"oauth.scope.user.inference",description:(0,o.jsx)(m.A,{defaultMessage:"Contribute to your Claude subscription usage",id:"Srbd8zdRfZ"})},"user:chat:read":{messageId:"oauth.scope.user.chat.read",description:(0,o.jsx)(m.A,{defaultMessage:"Read your conversations",id:"tP+tU2ijW1"})},"user:chat":{messageId:"oauth.scope.chat",description:(0,o.jsx)(m.A,{defaultMessage:"Create, continue, and delete your conversations",id:"ABf9wj7LhM"})},"user:file_upload":{messageId:"oauth.scope.user.file_upload",description:(0,o.jsx)(m.A,{defaultMessage:"Upload files on your behalf",id:"JIdIkswZw2"})},"org:profile":{messageId:"oauth.scope.org.profile",description:(0,o.jsx)(m.A,{defaultMessage:"Access profile information for all members in your organization",id:"5CqC2vx+3K"})},"org:inference":{messageId:"oauth.scope.org.inference",description:(0,o.jsx)(m.A,{defaultMessage:"Make API calls on behalf of your organization",id:"l/AJQVR0UT"})},"org:create_api_key":{messageId:"oauth.scope.org.create_api_key",description:(0,o.jsx)(m.A,{defaultMessage:"Generate API keys on your behalf",id:"Li8bwfrwx/"})}};function y(e){let{activeOrganization:t}=(0,l.YL)();return(0,a.Sk)("/v1/oauth/".concat(null==t?void 0:t.uuid,"/authorize?client_id=").concat(e),{enabled:!!e})}function w(e,t){return new Promise((n,o)=>{if("undefined"==typeof chrome||!chrome.runtime)return void o(Error("Chrome extension API not available"));chrome.runtime.sendMessage(e,{type:"oauth_redirect",redirect_uri:t},()=>{chrome.runtime.lastError?o(Error(chrome.runtime.lastError.message)):n()})})}function b(e,t,n){let{activeOrganization:o}=(0,l.YL)(),{claudeBrowserExtensionClientId:s,claudeBrowserExtensionId:d,antOnlyClaudeBrowserExtensionId:f}=(0,i._r)(),{track:h}=(0,r.st)(),m=(0,c.fS)("crochet_eligible_for_ant_only_build");return(0,a.L2)("/v1/oauth/".concat(null==o?void 0:o.uuid,"/authorize"),"POST",{meta:{noToast:e=>{var t,o;return!!(null==n?void 0:n.suppressToast)&&((null==(t=e.message)?void 0:t.includes(p))||(null==(o=e.message)?void 0:o.includes(g)))}},onSuccess:async(t,n)=>{if(h({event_key:"oauth.authorize.success",client_id:n.client_id,client_name:e}),t.redirect_uri)if(n.client_id===s)if("undefined"!=typeof chrome&&chrome.runtime)if(m&&f)try{await w(f,t.redirect_uri)}catch(e){await w(d,t.redirect_uri)}else await w(d,t.redirect_uri);else throw Error("Chrome extension API not available. Ensure there is an installed extension connectable from this domain.");else window.location.assign(t.redirect_uri)},onError:(n,o)=>{let r="unknown";n instanceof u.LG&&(r=n.type),h({event_key:"oauth.authorize.failure",client_id:o.client_id,client_name:e,error_type:r}),t&&t(n)}})}function _(e){let{activeOrganization:t}=(0,l.YL)(),n=null==t?void 0:t.uuid;return(0,a.Sk)("/api/account/tengu_waitlist/".concat(n),{queryKey:[s.Af,n],enabled:!!n,...e})}function C(e){let{activeOrganization:t}=(0,l.YL)(),n=null==t?void 0:t.uuid,o="/api/oauth/organizations/".concat(n,"/oauth_tokens");if(e){let t=new URLSearchParams({application_slug:e});o="".concat(o,"?").concat(t.toString())}return(0,a.Sk)(o,{enabled:!!n})}function E(){let{activeOrganization:e}=(0,l.YL)(),t=null==e?void 0:e.uuid;return(0,a.L2)(e=>"/api/oauth/organizations/".concat(t,"/oauth_tokens/").concat(e,"/revoke"),"POST",{enabled:!!t})}function T(){let{activeOrganization:e}=(0,l.YL)(),t=null==e?void 0:e.uuid,{data:n,refetch:o}=C((0,d.wc)()[d.j$]||""),r=(0,f.useQueryClient)(),a=E(),i=(0,h.useMutation)({mutationFn:async()=>{if(!n||0===n.length)return;let e=[];for(let t of n)try{await a.mutateAsync(t.id)}catch(t){e.push(t)}if(e.length===n.length)throw Error("Failed to revoke any Cuttlefish tokens")},onSuccess:()=>{r.invalidateQueries({queryKey:["/api/oauth/organizations/".concat(t,"/oauth_tokens")]}),o()}});return{mutate:i.mutate,isPending:i.isPending||a.isPending}}},64371:(e,t,n)=>{n.d(t,{C:()=>s,u:()=>u});var o=n(54568),r=n(89626),a=n(73356),i=n(72902),l=n(7620);function u(e){let{didCopy:t,className:n,...a}=e;return(0,o.jsxs)("div",{className:"relative",children:[(0,o.jsx)(r.B0c,{className:(0,i.A)(n,"transition-all",t?"opacity-0 scale-50":"opacity-100 scale-100"),...a}),(0,o.jsx)(r.Jlk,{className:(0,i.A)(n,"absolute top-0 left-0 transition-all",t?"opacity-100 scale-100":"opacity-0 scale-50")})]})}function s(){let[e,t]=(0,l.useState)(!1),[n,o]=(0,l.useState)(void 0);return{didCopy:e,copyToClipboard:(0,l.useCallback)(async e=>{let r,i,l=()=>{t(!0),o(setTimeout(()=>t(!1),2e3))};if(n&&clearTimeout(n),"string"==typeof e)r=e.trim();else if(e&&"object"==typeof e)r=e.text.trim(),i=e.html;else throw Error("Invalid clipboard input; no plain text provided");try{if(i)try{await navigator.clipboard.write([new ClipboardItem({"text/plain":new Blob([r],{type:"text/plain"}),"text/html":new Blob([i],{type:"text/html"})})]),l();return}catch(e){try{let e=new ClipboardEvent("copy",{bubbles:!0,cancelable:!0}),t=new DataTransfer;if(t.setData("text/plain",r),t.setData("text/html",i),Object.defineProperty(e,"clipboardData",{value:t,writable:!1}),document.dispatchEvent(e),e.defaultPrevented)return void l()}catch(e){}}await navigator.clipboard.writeText(r),l()}catch(e){a.v.error(a.u.CLIPBOARD,"Clipboard copy failed",e)}},[n])}}},66411:(e,t,n)=>{n.d(t,{Cu:()=>k,F7:()=>E,NA:()=>A,VL:()=>S,Vq:()=>x,WX:()=>C,bl:()=>T,nY:()=>_});var o=n(39480),r=n(44995),a=n(55562),i=n(64328),l=n(35984),u=n(29670),s=n(93112),c=n(3743),d=n(39613),f=n(77001),h=n(80688);n(28);var m=n(68067),p=n(4869),g=n(27541),v=n(7620),y=n(94295),w=n(77062),b=n(40459);let _=()=>{let e=(0,g.useRouter)(),t=(0,a.l)();return{refresh:()=>{e.refresh()},switchAndRefresh:(e,n)=>{t.set(d.eT.LAST_ACTIVE_ORG,e),n?location.pathname=n:location.reload()}}},C=(e,t,n)=>{let o=(0,u.S)(),{mutateAsync:r}=(0,y.nX)();return(0,v.useCallback)(async()=>{if(!e||!o||0===t.length)return;let a=t.map(e=>({document_id:"v3:".concat(e,":").concat(o[e]),accepted_via_checkbox:n}));await r({acceptances:a})},[e,o,t,r,n])},E=e=>{let t=(0,u.S)(),{mutateAsync:n}=(0,y.nX)();return(0,v.useCallback)(async o=>{if(!e||!t)return;let r=Object.entries(o).map(e=>{let[n,o]=e;return{document_id:"v3:".concat(n,":").concat(t[n]),accepted_via_checkbox:o}});0!==r.length&&await n({acceptances:r})},[e,t,n])},T=(e,t)=>{let{account:n,refetch:o,setActiveOrganizationUuid:r}=(0,i.YL)(),[a,u]=(0,v.useState)(!1),[s,c]=(0,v.useState)(!1),d=S(),{addSuccess:f}=(0,l.Y)(),{data:m}=(0,y.kd)(e),g=(0,p.useQueryClient)();return(0,v.useEffect)(()=>{n&&a&&s&&(t?t(d):d())},[s,d,a,n,t]),(0,v.useCallback)(async()=>{u(!0);let e=await o();if(await g.invalidateQueries({queryKey:[h.Jz]}),(null==m?void 0:m.organization_uuid)&&(r(m.organization_uuid),f("Successfully joined ".concat(m.organization_name))),e&&"google"in window){var t,n,a;null==(a=window.google)||null==(n=a.accounts)||null==(t=n.id)||t.cancel()}c(!0)},[m,f,o,r,g])},S=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=(0,g.useSearchParams)().get("returnTo"),n=k(e);return(0,v.useCallback)(()=>{n(t)},[n,t])},k=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],{account:t}=(0,i.YL)(),[n,a]=(0,v.useState)(!1),l=(0,g.useRouter)(),[u,d]=(0,v.useState)(null),f=(0,g.usePathname)(),h=(0,g.useSearchParams)(),p=(0,r.fZ)(),y=(e=>{let{account:t}=(0,i.YL)(),n=(0,s.y_)(e),r=(0,o.D5)(),a=(0,m.fS)("age_gate_reverification");return((0,v.useEffect)(()=>{t&&r()},[t,r]),t&&((0,c.VH)({account:t,isClaudeDot:e})||(0,c.Bs)(t,e)))?"/onboarding":t&&(0,c.u5)(t,e,a)?"/age-verification":t&&(0,c.NJ)(t,e)?"/invites":t&&(0,c.Ah)(t,e)?"/create":t&&n?"/upgrade":e?"/new":"/dashboard"})(p);return(0,v.useEffect)(()=>{(n||e)&&!t&&l.push((0,w.rt)(f,h.toString()))},[t,l,n,e,f,h]),(0,v.useEffect)(()=>{if(n&&t){let e=(0,w.Cy)(t,u,y,p,!!b.env.NEXT_PUBLIC_SHOW_US_GOVT_SYSTEM_USE_NOTIFICATION);e!==window.location.href.replace(window.location.origin,"")&&(l.push(e),l.refresh())}},[t,l,n,u,y,p]),(0,v.useCallback)(e=>{e&&d(decodeURIComponent(e)),a(!0)},[])};function x(){let[e,t]=(0,v.useState)(!1);return{getRecaptchaToken:(0,v.useCallback)(async(e,n)=>b.env.NEXT_PUBLIC_DISABLE_RECAPTCHA||(0,f.Vm)()?Promise.resolve("recaptcha-ignore-token"):(t(!0),new Promise((o,r)=>{if("undefined"==typeof grecaptcha)return t(!1),r(Error("Recaptcha failed to load"));grecaptcha.enterprise.ready(()=>{grecaptcha.enterprise.execute(e,{action:n}).then(e=>{o(e),t(!1)},e=>{t(!1),r(e)})})})),[]),isLoading:e}}function A(e){let[t,n]=(0,v.useState)(!1);(0,v.useEffect)(()=>{if(!t){let t=setInterval(()=>{(window.grecaptcha||b.env.NEXT_PUBLIC_DISABLE_RECAPTCHA)&&(n(!0),e())},10);return()=>clearInterval(t)}},[t,n,e])}},77062:(e,t,n)=>{n.d(t,{CZ:()=>c,Cy:()=>a,HT:()=>u,TR:()=>s,q:()=>l,rt:()=>i});var o=n(3743),r=n(39613);let a=(e,t,n,a,i)=>{if(i&&!localStorage.getItem(r.EB.ACCEPTED_US_GOVERNMENT_SYSTEM_NOTIFICATION))return"/us-govt-system-warning";if(!t||!t.startsWith("/")||"/"===t||"/?"===t)return n;if((0,o.Xs)(e,a)){let e=new URL(n,window.location.origin),o=new URLSearchParams(e.search);return o.set("returnTo",t),"".concat(e.pathname,"?").concat(o.toString())}return l(t)},i=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"/login",o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r="".concat(e,"?").concat(t),a=new URLSearchParams(o);return a.append("returnTo",r),"".concat(n,"?").concat(a.toString())};function l(e){let t=new URL(e,"http://example.com");return t.pathname.replace(/^\/+/,"/")+t.search}function u(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1];return t&&e.push(...Object.keys(localStorage).filter(e=>e.startsWith("".concat(r.sn,".")))),e.reduce((e,t)=>{let n=localStorage.getItem(t);return null!==n&&e.push([t,n]),e},[])}function s(e){e.forEach(e=>{let[t,n]=e;localStorage.setItem(t,n)})}function c(e){if(!e)return null;try{let t=decodeURIComponent(e);return new URL(t,window.location.origin).searchParams}catch(e){return null}}},93112:(e,t,n)=>{n.d(t,{Hc:()=>m,XK:()=>p,Zl:()=>v,hz:()=>h,y_:()=>g});var o=n(1613),r=n(55562),a=n(35984),i=n(39613),l=n(80688),u=n(68067),s=n(7620),c=n(10369),d=n(24407),f=n(39951);function h(){var e;let t=(0,r.l)(),n=null!=(e=t.get(i.eT.PROMOTION))?e:null;return{data:(0,f.lx)(n),mutate:(0,s.useCallback)(e=>{t.set(i.eT.PROMOTION,JSON.stringify(e),{maxAgeSeconds:7776e3})},[t]),delete:(0,s.useCallback)(()=>{t.delete(i.eT.PROMOTION)},[t])}}function m(){var e,t,n;let{data:r}=h(),a=(t=null!=(e=null==r?void 0:r.promotionId)?e:null,n=e=>(0,f.IQ)(e,r),(0,o.Sk)("/api/billing/promotion/".concat(t),{queryKey:[l.t6,t],enabled:!!t,meta:{noToast:!0}},e=>(e.promotionId=t,n)?n(e):e));return{...a,isPending:a.isPending&&!!(null==r?void 0:r.promotionId)}}function p(){let{data:e,mutate:t}=h();(0,s.useEffect)(()=>{(null==e?void 0:e.needsCheckout)&&(e.needsCheckout=void 0,t(e))},[e,t])}function g(e){let{data:t,mutate:n}=h(),o=null==t?void 0:t.promotionId,r=(0,u.T9)("claude_ai_targeted_promotion","promotionId",null,d.z.string().nullable());return(0,s.useEffect)(()=>{!o&&r&&n({promotionId:r})},[o,r,n]),!!e&&!!(null==t?void 0:t.needsCheckout)&&!!(null==t?void 0:t.promotionId)}let v=()=>{let e=(0,s.useRef)(!1),t=(0,a.Y)(),n=(0,c.A)(),{delete:o}=h();return(0,s.useCallback)(r=>{(null==r?void 0:r.offerError)&&!e.current&&(e.current=!0,t.addError(n.formatMessage({defaultMessage:"This promotion is not available for your account",id:"Vu9kt6ezVH"}),{error:Error(r.offerError),messageForLogging:"This promotion is not available for your account"}),o())},[t,o,n])}}}]);