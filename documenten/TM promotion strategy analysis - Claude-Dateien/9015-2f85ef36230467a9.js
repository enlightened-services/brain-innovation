"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9015],{3424:(e,t,a)=>{async function s(e){let t,a="CaptureController"in window?new CaptureController:null;null==a||a.setFocusBehavior("no-focus-change");try{t=await navigator.mediaDevices.getDisplayMedia({video:!0,controller:a})}catch(e){if(e instanceof DOMException&&"NotAllowedError"===e.name)return null;throw e}let s=document.createElement("video");s.srcObject=t,await new Promise((e,t)=>{s.onloadedmetadata=()=>{s.play().then(e,t)}});let n=document.createElement("canvas");if(e){let t=Math.min(e.width/Math.min(s.videoWidth,e.width),e.height/Math.min(s.videoHeight,e.height));n.width=s.videoWidth*t,n.height=s.videoHeight*t}else n.width=s.videoWidth,n.height=s.videoHeight;let l=n.getContext("2d");if(!l)throw Error("Could not create 2D context");l.drawImage(s,0,0,n.width,n.height);let i=n.toDataURL("image/png");return t.getTracks().forEach(e=>e.stop()),{imageDataUrl:i}}a.d(t,{U_:()=>M,pi:()=>_,Cn:()=>j});var n=a(74813),l=a(35984),i=a(11930),r=a(2e3),o=a(56929),d=a(10369),c=a(86141),u=a(45538),m=a(79052),p=a(36016),h=a(90370),f=a(88775),x=a(4114),g=a(11717),y=a(88801),v=a(49629),b=a(17044);let j=e=>{let{setMcpDirectoryModalIsOpen:t,setStyleModalOpenWithScreen:a,setCreateProjectModalIsOpen:s,setGithubModalIsOpen:n,setGmailAuthModalIsOpen:l,setCreatePromptArgumentModalIsOpen:r}=e,o=k(),d=_(),c=w(),{openFeaturePreviewModal:u}=(0,g.go)(),{checkIsGithubAuthenticated:h,initGithubAuth:f}=(0,p.nB)(),{initDriveAuth:x}=(0,m.cI)();return{onAddScreenshot:()=>{o()},openGithubModal:()=>{h().then(e=>{if(!e)return void f();n(!0)})},openGmailAuthModal:()=>{l(!0)},openMcpDirectoryModal:()=>{t(!0)},initDriveAuth:x,createDriveSyncSource:C(),onStyleChange:e=>{d(e)},openStyleModal:()=>{a(i.I.LIST)},onSelectProject:(e,t)=>{c(e,t)},onCreateProject:e=>{s({isOpen:!0,moveAttachments:e})},openFeaturePreviewModal:u,onEnterPromptArguments:(e,t)=>{r({isOpen:!0,serverUuid:e,prompt:t})}}},C=()=>{let{addError:e}=(0,l.Y)(),{setSyncSourceUuids:t}=(0,f.Jy)(e=>({setSyncSourceUuids:e.setSyncSourceUuids})),{setIsUploadingDriveSync:a}=(0,h.oM)(),{mutate:s}=(0,c.EF)({onMutate:()=>{a(!0)},onSuccess:e=>{a(!1),t(t=>[...t,e.uuid])},onError:t=>{a(!1),e((0,v.J)(t),{error:t,errorContext:{tags:{source:"chat_input_drive_sync_create"}}})},meta:{noToast:!0}});return e=>s({sync_source_type:r.v8.GDRIVE,sync_source_config:{uri:e}})},M=e=>{var t;null==(t=document.getElementById("chat-input-file-upload-".concat(e)))||t.click()},w=()=>{let e=(0,f.QN)(),{setProjectUuid:t,conversation:a}=(0,h.oM)(),{moveToProject:s}=(0,b.j)(),{removeFromProject:n}=(0,u.nl)();return async(l,i)=>{e===l?(null==a?void 0:a.id)?await n([a.id],{showSuccess:!1}):t(void 0):(null==a?void 0:a.id)&&l?await s([a.id],l,i,{enableNavigation:!0}):t(l)}},k=()=>{let{addError:e}=(0,l.Y)(),t=(0,d.A)(),{handleUpload:a}=(0,h.oM)(),i=(0,n.st)();return async()=>{i.track({event_key:"claudeai.plus_menu.screenshot_clicked"});let n=null;try{n=await s({width:1568,height:1568})}catch(a){(0,o.Cp)(a),e(t.formatMessage({defaultMessage:"Could not capture screen",id:"GT8HkzCHoM"}),{error:a,messageForLogging:"Could not capture screen"})}if(!n)return;let l=new File([await fetch(n.imageDataUrl).then(e=>e.blob())],"screenshot.png",{type:"image/png"});await a([l])}},_=()=>{let{setPersonalizedStyle:e}=(0,h.oM)(),t=(0,n.st)(),{personalizedStyleOptions:a,setStoredStyle:s}=(0,x.p)();return n=>{let l=a.find(e=>e.key===n);if(!l)return;e(l);let i=(0,y.X)(l);s({styleKey:i,timestamp:new Date}),t.track({event_key:"styles.selected",style_key:i})}}},5690:(e,t,a)=>{a.d(t,{Kk:()=>j});var s=a(54568),n=a(64328),l=a(13750),i=a(23812),r=a(84617),o=a(2e3),d=a(91073),c=a(43692),u=a(72902),m=a(7620),p=a(59666),h=a(10369),f=a(13644),x=a(45538),g=a(85492),y=a(15848);let v=(0,s.jsx)(p.A,{defaultMessage:"Everyone in your organization can view and use this project",id:"o6dyBu92Ad"}),b=(0,s.jsx)(p.A,{defaultMessage:"Only invited members can view and use this project",id:"r65HKpZU8I"});function j(e){var t,a,j,C,M,w;let{syncSources:k=[],onProjectCreated:_,onError:A,onCancel:N,strings:S}=e,E=(0,h.A)(),I=(0,n.mV)(),T=(0,y.AI)(),{customInstructions:O,type:R,subtype:D}=null!=T?T:{},[P,z]=(0,m.useState)({name:"",description:null!=(t=S.createProjectDescriptionDefault)?t:"",type:R,subtype:D,is_private:!0}),[F,L]=(0,m.useState)({}),[G,U]=(0,m.useState)(!1),Y=k.length>0,H=k.some(e=>e.type===o.v8.GITHUB),V=k.some(e=>e.type===o.v8.GDRIVE),W=H&&V?(0,s.jsx)(p.A,{defaultMessage:"Github and GDrive attachments can only be added to private projects",id:"rqNebqAfPF"}):H?(0,s.jsx)(p.A,{defaultMessage:"Github attachments can only be added to private projects",id:"eyujXWQfg4"}):V?(0,s.jsx)(p.A,{defaultMessage:"GDrive attachments can only be added to private projects",id:"DMBgAV43lL"}):(0,s.jsx)(p.A,{defaultMessage:"Some of these attachments can only be added to private projects",id:"2ssKO1VReL"}),{mutateAsync:J}=(0,x.bL)(),{activeOrganization:B}=(0,n.YL)(),{data:K}=(0,x.BN)(),{data:q,isLoading:X}=(0,x.PL)(),{data:Z}=(0,f.q)(),$=Z&&!Y,Q=!X&&(null==q?void 0:q.count)===0,ee=e=>t=>{z(a=>({...a,[e]:t.target.value})),L(t=>({...t,[e]:null}))},et=e=>{z(t=>({...t,is_private:e.target.checked&&"private"===e.target.value}))},ea=async e=>{if(e.preventDefault(),!G&&(()=>{let e={};return""===P.name.trim()&&(e.name=E.formatMessage({defaultMessage:"Project name is required",id:"n5cqkMmIMW"})),L(e),0===Object.keys(e).length})()){U(!0);try{let e={...P};O&&(e.prompt_template=O.replaceAll("{{PROJECT_NAME}}",P.name));let t=await J(e);_(t)}catch(e){A(e)}finally{U(!1)}}};return(0,s.jsxs)("form",{className:"grid grid-cols-1 gap-4",onSubmit:e=>ea(e),children:[Q&&!T&&(0,s.jsxs)("div",{className:"bg-bg-300 border-border-400/10 text-text-300 flex w-full flex-col items-start justify-start gap-2 rounded-xl border px-5 pb-5 pt-4 text-sm",children:[(0,s.jsx)("div",{className:"flex items-center gap-1 font-medium",children:(0,s.jsx)(p.A,{defaultMessage:"How to use projects",id:"moKJkVk/qB"})}),I?(0,s.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,s.jsx)("div",{children:(0,s.jsx)(p.A,{defaultMessage:"Use Projects with your team to do things like:",id:"fcUpqajVgl"})}),(0,s.jsxs)("ul",{className:"list-disc pl-4",children:[(0,s.jsx)("li",{children:(0,s.jsx)(p.A,{defaultMessage:"Query and analyze information about customers, sales calls, and project plans",id:"1YyB53/KOc"})}),(0,s.jsx)("li",{children:(0,s.jsx)(p.A,{defaultMessage:"Upload files from your codebase to understand, improve, and contribute",id:"HXj87AQH0P"})}),(0,s.jsx)("li",{children:(0,s.jsx)(p.A,{defaultMessage:"Generate analysis and reports from one consistent set of materials",id:"3XvEQYrcUv"})}),(0,s.jsx)("li",{children:(0,s.jsx)(p.A,{defaultMessage:"Create content informed by company policies and documentation",id:"HrODk029zr"})})]}),(0,s.jsx)("p",{children:(0,s.jsx)(p.A,{defaultMessage:"Start by creating a memorable title and description to organize your project. You can always edit it later.",id:"qEWJMy5mr7"})})]}):(0,s.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,s.jsx)("p",{children:(0,s.jsx)(p.A,{defaultMessage:"Projects help organize your work and leverage knowledge across multiple conversations. Upload docs, code, and files to create themed collections that Claude can reference again and again.",id:"7HFalNigyO"})}),(0,s.jsx)("p",{children:(0,s.jsx)(p.A,{defaultMessage:"Start by creating a memorable title and description to organize your project. You can always edit it later.",id:"qEWJMy5mr7"})})]}),K&&(0,s.jsx)("div",{children:(0,s.jsx)(p.A,{defaultMessage:"Curious to learn more? <link>Try an example project</link>",id:"+AcqvUzRry",values:{link:e=>(0,s.jsx)(r.Y,{href:"/project/".concat(K),children:e})}})})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(l.ks,{autoFocus:!0,name:"name",className:"w-full",label:null!=(a=S.createProjectNameLabel)?a:E.formatMessage({defaultMessage:"What are you working on?",id:"R2IogQsIBI"}),placeholder:null!=(j=S.createProjectNamePlaceholder)?j:E.formatMessage({defaultMessage:"Name your project",id:"BtIbm/e/WX"}),size:"lg",onChange:ee("name"),error:!!F.name,"data-1p-ignore":!0}),F.name&&(0,s.jsx)("div",{className:"text-danger-000 mt-1 text-right text-xs font-medium",children:F.name})]}),!T&&(0,s.jsx)("div",{children:(0,s.jsx)(l.fs,{name:"description",className:"w-full",label:null!=(C=S.createProjectDescriptionLabel)?C:E.formatMessage({defaultMessage:"What are you trying to achieve?",id:"RPsTh+NBxY"}),placeholder:null!=(M=S.createProjectDescriptionPlaceholder)?M:E.formatMessage({defaultMessage:"Describe your project, goals, subject, etc...",id:"WStTnUWlP8"}),minRows:3,onChange:ee("description"),error:F.description})}),I?(0,s.jsxs)("fieldset",{children:[(0,s.jsx)("div",{className:"mb-2 text-sm font-medium",children:(0,s.jsx)(p.A,{defaultMessage:"Visibility",id:"JAkIqbzRj5"})}),(0,s.jsxs)("label",{className:(0,u.A)("mb-2 flex w-full gap-2",!$&&"opacity-40"),children:[(0,s.jsx)("input",{name:"visibility",className:"mt-0.5",type:"radio",value:"open",checked:!P.is_private,onChange:et,disabled:!$}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"text-sm",children:[(0,s.jsx)(d.m,{size:16,className:"-mt-1 mr-1 inline-block"}),null!=(w=null==B?void 0:B.name)?w:(0,s.jsx)(p.A,{defaultMessage:"Organization",id:"K56Dims7Up"})]}),(0,s.jsx)("div",{className:"text-text-300 text-xs",children:Z?Y?W:v:(0,s.jsx)(p.A,{defaultMessage:"Public projects are disabled by your organization",id:"c2HBgZtgDR"})})]})]}),(0,s.jsxs)("label",{className:"flex w-full gap-2",children:[(0,s.jsx)("input",{name:"visibility",className:"mt-0.5",type:"radio",value:"private",checked:P.is_private,onChange:et}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"text-sm",children:[(0,s.jsx)(c.W,{size:16,className:"-mt-1 mr-1 inline-block"}),(0,s.jsx)(p.A,{defaultMessage:"Private",id:"viXE3205/2"})]}),(0,s.jsx)("div",{className:"text-text-300 text-xs",children:b})]})]})]}):null,(0,s.jsx)("div",{className:"mt-2 flex justify-end",children:(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)(i.$,{onClick:N,href:N?void 0:"/projects",variant:"secondary",disabled:G,children:(0,s.jsx)(p.A,{defaultMessage:"Cancel",id:"47FYwba+bI"})}),(0,s.jsx)(g.i,{children:(0,s.jsx)(i.$,{type:"submit",loading:G,children:(0,s.jsx)(p.A,{defaultMessage:"Create project",id:"VUN1K7kSzC"})})})]})})]})}},9140:(e,t,a)=>{a.d(t,{d:()=>h});var s=a(2348),n=a(54568),l=a(13750),i=a(84284),r=a(59922),o=a(23812),d=a(27541),c=a(10369),u=a(59666);function m(){let e=(0,s._)(["\n  text-text-400\n  text-sm\n  font-medium\n"]);return m=function(){return e},e}function p(){let e=(0,s._)(["\n  text-xs\n  font-normal\n"]);return p=function(){return e},e}let h=e=>{let{category:t,setCategory:a,notes:s,setNotes:r,reporterEmail:m,setReporterEmail:p,reporterName:h,setReporterName:g,optOutOfTraining:y,setOptOutOfTraining:v,onSubmit:b,onClose:j,additionalFields:C}=e,M=(0,c.A)(),w=(0,d.useRouter)(),k=(()=>{let e=(0,c.A)();return{COPYRIGHT_INFRINGEMENT:e.formatMessage({defaultMessage:"Copyright infringement",id:"KBxpgB8JHb"}),TRADEMARK_INFRINGEMENT:e.formatMessage({defaultMessage:"Trademark infringement",id:"vYjeaNdXif"}),CHILD_SAFETY:e.formatMessage({defaultMessage:"Child safety/sexual abuse",id:"ddXREI8PNV"}),FRAUD:e.formatMessage({defaultMessage:"Fraud",id:"YoXOdinNC1"}),SEXUALLY_EXPLICIT_CONTENT:e.formatMessage({defaultMessage:"Sexually Explicit content",id:"D0NxeIKdoR"}),VIOLENCE_AND_HATE:e.formatMessage({defaultMessage:"Violence and/or hate speech",id:"vyV1zGTEEH"}),ILLEGAL_GOODS:e.formatMessage({defaultMessage:"Illegal goods",id:"13OdRQYanm"}),COURT_ORDER:e.formatMessage({defaultMessage:"Court order",id:"2mmEfFQIze"}),PRIVATE_OR_CONFIDENTIAL_INFORMATION:e.formatMessage({defaultMessage:"Private/confidential information",id:"qndjDTg0gE"}),DEFAMATION:e.formatMessage({defaultMessage:"Defamation",id:"h9Y5N1xs5X"}),OTHER_ILLEGAL:e.formatMessage({defaultMessage:"Other illegal or unlawful content",id:"Bjp5vOloME"}),VIOLATION_OF_TERMS:e.formatMessage({defaultMessage:"Violation of terms or usage policy",id:"8Aa/HbeJSY"})}})(),_=null;return"COPYRIGHT_INFRINGEMENT"===t||"TRADEMARK_INFRINGEMENT"===t||"PRIVATE_OR_CONFIDENTIAL_INFORMATION"===t||"COURT_ORDER"===t?_=(0,n.jsx)("div",{className:"text-text-300 border-0.5 border-border-300 rounded-lg p-12 text-sm",children:(0,n.jsx)(u.A,{defaultMessage:"Please use this <link>form</link> to report copyright infringement.",id:"6Ovg0gmxY3",values:{link:e=>(0,n.jsx)("a",{href:"https://docs.google.com/forms/d/e/1FAIpQLSeO9Hzkyf_hQ2fYkfP_cqAcJG5kdlkg1wF4drQEFK9Z6db7jg/viewform",target:"_blank",className:"underline",children:e})}})}):t&&(_=(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(f,{htmlFor:"reporter-name",children:(0,n.jsx)(u.A,{defaultMessage:"Your name",id:"vlKhIlKczK"})}),(0,n.jsx)(l.ks,{id:"reporter-name",value:h,onChange:e=>g(e.target.value),placeholder:M.formatMessage({defaultMessage:"Optional",id:"InWqysQtIQ"})}),C,(0,n.jsxs)(f,{htmlFor:"reporter-email",children:[(0,n.jsx)(u.A,{defaultMessage:"Your email",id:"nONnTwYJzw"}),(0,n.jsx)(x,{children:(0,n.jsx)(u.A,{defaultMessage:"If provided, we may contact you for additional information or updates on this report",id:"76+sVeXWuh"})})]}),(0,n.jsx)(l.ks,{id:"reporter-email",value:m,onChange:e=>p(e.target.value),placeholder:M.formatMessage({defaultMessage:"Optional",id:"InWqysQtIQ"})}),(0,n.jsxs)(f,{htmlFor:"notes",children:[(0,n.jsx)(u.A,{defaultMessage:"Additional information",id:"gh/lBJ3ybG"}),(0,n.jsxs)(x,{className:"flex flex-col gap-1",children:[(0,n.jsx)("div",{children:(0,n.jsx)(u.A,{defaultMessage:"Please provide any additional information to help us understand your request.",id:"iqT0iuZphp"})}),(0,n.jsx)("div",{children:(0,n.jsx)(u.A,{defaultMessage:"If you are reporting the content as illegal/unlawful, please describe in detail why you believe the identified content is illegal/unlawful, citing specific provisions of law wherever possible.",id:"FtDimnJZ6A"})}),(0,n.jsx)("div",{children:(0,n.jsx)(u.A,{defaultMessage:"If you are reporting the content as violating our policies (including our terms or Usage Policy), please describe in detail why you believe the identified content is in violation of our policies, with specific citations to our policies wherever possible.",id:"4XdZthEtcv"})})]})]}),(0,n.jsx)(l.fs,{id:"notes",value:s,onChange:e=>r(e.target.value),placeholder:M.formatMessage({defaultMessage:"Optional",id:"InWqysQtIQ"})}),(0,n.jsxs)(f,{children:[(0,n.jsxs)("div",{className:"flex justify-between",children:[(0,n.jsx)(u.A,{defaultMessage:"Opt out of training on this report",id:"mREcB0MAuE"}),(0,n.jsx)(i.j,{checked:y,onChange:()=>v(!y)})]}),(0,n.jsx)(x,{children:(0,n.jsx)(u.A,{defaultMessage:"We value user reports to uphold our platform’s integrity and improve our ability to enforce our Usage Policy. Unless you opt out, reports may be used to train models for use by our Trust & Safety team, consistent with Anthropic’s safety mission. Opt out of this use by changing the toggle above.",id:"2IiG1AGCna"})})]}),(0,n.jsxs)("div",{className:"flex justify-end gap-3",children:[(0,n.jsx)(o.$,{variant:"secondary",onClick:j,children:(0,n.jsx)(u.A,{defaultMessage:"Close",id:"rbrahOGMC3"})}),(0,n.jsx)(o.$,{onClick:()=>{b(),w.push("/reported")},variant:"primary",children:(0,n.jsx)(u.A,{defaultMessage:"Report",id:"x5Tz6MZH82"})})]})]})),(0,n.jsxs)("div",{className:"flex w-full flex-col gap-2 pt-6",children:[(0,n.jsx)(f,{htmlFor:"report-reason-dropdown",children:(0,n.jsx)(u.A,{defaultMessage:"Why are you reporting this?",id:"0nCKXihfO0"})}),(0,n.jsxs)(l.l6,{id:"report-reason-dropdown",value:null!=t?t:"select-report-reason",onChange:e=>a(e.target.value),children:[(0,n.jsx)("option",{value:"select-report-reason",disabled:!0,children:(0,n.jsx)(u.A,{defaultMessage:"Select report reason",id:"bk8tuJl/tJ"})}),Object.entries(k).map(e=>{let[t,a]=e;return(0,n.jsx)("option",{value:t,children:a},t)})]}),_]})},f=r.J.label(m()),x=r.J.div(p())},9533:(e,t,a)=>{a.d(t,{sF:()=>eg,Qg:()=>ex,Id:()=>ef});var s=a(54568),n=a(19736),l=a(86545),i=a(34003),r=a(64328),o=a(35984),d=a(21266),c=a(23812),u=a(71462),m=a(68067),p=a(2e3),h=a(95617),f=a(28044),x=a(69335),g=a(7620),y=a(59666),v=a(48579),b=a(93714),j=a(79052),C=a(50571),M=a(22167),w=a(55839),k=a(69524),_=a(58841),A=a(54671),N=a(52500),S=a(90370),E=a(88775),I=a(73619),T=a(37e3),O=a(19977),R=a(96547),D=a(45271);let P=()=>{let e=(0,R.lu)();return(0,s.jsxs)(T.x,{children:[(0,s.jsx)("p",{className:"text-[13px] text-text-200",children:e?(0,s.jsx)(y.A,{defaultMessage:"Connect your tools to Claude",id:"exSmFaQCLC"}):(0,s.jsx)(y.A,{defaultMessage:"Upgrade to connect your tools to Claude",id:"kIvAPf8iSA"})}),(0,s.jsxs)("div",{className:"flex flex-row items-center gap-2",children:[(0,s.jsxs)("div",{className:"flex flex-row",children:[e&&["https://mcp.notion.com/mcp","https://mcp.canva.com/mcp","https://mcp.linear.app/sse","https://mcp.atlassian.com/v1/sse","https://mcp.asana.com/sse"].map(e=>(0,s.jsx)("div",{className:"w-3",children:(0,s.jsx)(D.z,{size:18,imageSize:13,type:"favicon",src:e})},e)),["/images/icons/messages-app.svg","/images/icons/notes-app.svg","/images/icons/chrome-app.svg"].map(e=>(0,s.jsx)("div",{className:"w-3",children:(0,s.jsx)(D.z,{size:18,imageSize:13,type:"external",src:e})},e))]}),(0,s.jsx)(O.J,{size:16,className:"text-text-500"})]})]})};var z=a(84617),F=a(10369),L=a(6149);function G(){let e=(0,r.Kq)(),t=(0,F.A)();return(0,s.jsx)(L.q,{actionButton:null,title:t.formatMessage({defaultMessage:"Team plan canceled",id:"KuqVOfg9/0"}),children:e?(0,s.jsx)(y.A,{defaultMessage:"You can no longer chat with Claude. To restore full access, <link>renew your subscription</link>.",id:"L2pC0kiNNO",values:{link:e=>(0,s.jsx)(z.Y,{className:"whitespace-nowrap",href:"/settings/billing",children:e})}}):(0,s.jsx)(y.A,{defaultMessage:"You can no longer chat with Claude.",id:"hxcpUUnV0b"})})}var U=a(68034);let Y=()=>{let{limitActionButton:e}=(0,U.h)({allowSelfUpgrade:!1});return(0,s.jsx)(L.q,{actionButton:e,children:(0,s.jsx)(y.A,{defaultMessage:"Due to capacity constraints, chatting with Claude is currently not available. Please try again shortly.",id:"kfyWX0MxKQ"})})};var H=a(72522),V=a(18849),W=a(35580),J=a(72902);let B=e=>{let{className:t,...a}=e;return(0,s.jsx)("div",{className:(0,J.A)("text-text-100 font-medium underline hover:no-underline",t),...a})},K=e=>{var t;let a,{inaccessibleSyncSources:n}=e,{chatResourceState:l}=(0,_.i)(),i=(0,H.v)(),{isDrawerExpanded:r,setIsDrawerExpanded:o}=(0,V.x)(),d=n[0],c=(null==d?void 0:d.type)===p.v8.MCP_RESOURCES?d.config.server_uuid:void 0,u=(0,W.Uz)({type:"remote",uuid:c}),m=n.every(e=>e.status.state===p.I5.UNAUTHENTICATED)&&1===new Set(n.map(e=>e.type)).size,h=null==(t=n[0])?void 0:t.type,f=(0,s.jsx)("button",{onClick:()=>{o(!0)},children:(0,s.jsx)(B,{children:(0,s.jsx)(y.A,{defaultMessage:"Show {count, plural, one {# Item} other {# Items}}",id:"1HlfJxfH7H",values:{count:n.length}})})}),x=c&&u[0]?{uuid:u[0].uuid,url:u[0].url}:void 0;if(m&&null!==h){if(h===p.v8.MCP_RESOURCES&&!x)return;a=(0,s.jsx)("button",{onClick:()=>i(h,x),children:(0,s.jsx)(B,{children:(0,s.jsx)(y.A,{defaultMessage:"Reconnect with {sourceName}",id:"dUareRZF9G",values:{sourceName:p.sb[h]}})})})}else l.conversationUuid&&!r&&(a=f);return(0,s.jsx)(T.x,{children:(0,s.jsx)(y.A,{defaultMessage:"Some of your content could not be loaded. {actionButton}",id:"Ibsz06ys2B",values:{actionButton:a}})})};var q=a(24407);let X=q.z.array(q.z.object({text:q.z.string(),href:q.z.string().optional(),button:q.z.boolean().optional()})).nullable();function Z(e){let{messageComponents:t}=e;return(0,s.jsx)(T.x,{children:(0,s.jsx)($,{messageComponents:t})})}function $(e){let{messageComponents:t}=e;return(0,s.jsx)("div",{children:t.map((e,t)=>e.button?(0,s.jsx)(c.$,{href:e.href,target:"_blank",children:e.text},t):e.href?(0,s.jsx)(z.Y,{href:e.href,...e.href.startsWith("/")?{}:{target:"_blank"},children:e.text},t):(0,s.jsx)("span",{children:e.text},t))})}var Q=a(28483),ee=a(87784),et=a(44894),ea=a(74813),es=a(3075),en=a(34385),el=a(11717);function ei(e){let{isOpen:t,setIsOpen:a,files:n,isNewConversation:l}=e,i=(0,F.A)();return(0,s.jsxs)(es.aF,{isOpen:t,hasCloseButton:!0,title:i.formatMessage({defaultMessage:"Analysis tool required",id:"jvGhSl5Gpz"}),onClose:()=>a(!1),children:[(0,s.jsxs)("div",{className:"my-4 text-pretty flex flex-col gap-2",children:[(0,s.jsx)("div",{children:(0,s.jsx)(y.A,{defaultMessage:"Claude requires the analysis tool to be enabled to analyze the following files:",id:"DWgtKtw1y9"})}),(0,s.jsx)("ul",{className:"list-disc pl-4",children:n.map(e=>(0,s.jsx)("li",{children:e.file_name},e.file_uuid))}),(0,s.jsx)("div",{children:l?i.formatMessage({defaultMessage:"If you start this conversation without turning on the analysis tool, these files will not be available to Claude.",id:"0r1iTiKoSi"}):i.formatMessage({defaultMessage:"Please enable the analysis tool and then start a new chat in this project to analyze these files.",id:"YLHCS8L8fc"})})]}),(0,s.jsx)(es.vW,{layout:"right",children:(0,s.jsx)(es.yl,{type:"button",size:"lg",onClick:()=>a(!1),children:(0,s.jsx)(y.A,{defaultMessage:"OK",id:"kAEQyVFWDv"})})})]})}function er(e){let{files:t,isNewConversation:a}=e,{track:n}=(0,ea.st)(),{openFeaturePreviewModal:l}=(0,el.go)(),[i,r]=(0,g.useState)(!1);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(ei,{isOpen:i,setIsOpen:r,isNewConversation:a,files:t}),(0,s.jsx)(T.x,{children:(0,s.jsxs)("div",{className:"flex w-full items-center justify-between",children:[(0,s.jsx)("div",{children:(0,s.jsx)(y.A,{defaultMessage:"Claude cannot access some of the <a>files attached</a> to this conversation",id:"dlrqZaDnOO",values:{a:e=>(0,s.jsx)(z.Y,{href:"#",onClick:()=>r(!0),children:e})}})}),(0,s.jsx)("div",{children:(0,s.jsx)("a",{className:"text-accent-secondary-000 font-medium",href:"#",onClick:()=>{n({event_key:"claudeai.settings.preview_feature.opened",source:"ooc_files_warning"}),l()},children:(0,s.jsx)(y.A,{defaultMessage:"Enable analysis tool",id:"UDUWEABw3p"})})})]})})]})}var eo=a(78334),ed=a(96614),ec=a(18088),eu=a(98304),em=a(16685);let ep=q.z.object({id:q.z.string(),bodyMd:q.z.string(),isDismissable:q.z.boolean(),proUpsell:q.z.boolean(),alertForModels:q.z.array(q.z.string())}).nullable(),eh=e=>{let{alert:t,setHideAlert:a}=e,n=(0,r.UC)(),{limitActionButton:l}=(0,U.h)();return(0,s.jsxs)(T.x,{children:[(0,s.jsx)(eo.Lv,{children:(0,s.jsx)(em.o,{children:t.bodyMd})}),n&&t.proUpsell&&l,t.isDismissable&&(0,s.jsx)(c.$,{className:"ml-2 h-4 w-4 translate-y-[0.5px] rounded",size:"unset",variant:"ghost",onClick:()=>a(!0),children:(0,s.jsx)(eu.X,{size:12})})]})},ef=()=>{let e=(0,M.X0)(p.v8.GMAIL),t=(0,M.X0)(p.v8.GCAL),a=(0,j.$f)();return!(0,f.V)()&&(e||t||a)},ex=e=>{var t,a,l,o,d,c,h,f,g,j,M,k,O,R,D,z;let F,{placement:L,onRetry:U}=e,{isPromptUnsafe:H}=(0,E.QT)(),{attachments:V,files:W}=(0,E.Jy)(e=>({attachments:e.attachments,files:e.files})),{conversation:J}=(0,S.oM)(),B=(0,E.QN)(),q=(0,n.WZ)(null==J?void 0:J.id),{setMcpDirectoryModalIsOpen:$}=(0,A.tl)(),ea=(0,ee.h)(null==J?void 0:J.id,null==J?void 0:J.model),es=(null==J?void 0:J.id)&&ea?(0,s.jsx)(ee.g,{conversationUuid:J.id,model:J.model,lastMessage:ea.lastMessage,stopReason:ea.stopReason,onRetryWithFallback:async()=>{if(!ea.lastMessage.parent_message_uuid)return;let{model:e}=await q.mutateAsync();U(ea.lastMessage.parent_message_uuid,e)}}):null,{exceededMessageLimitWarning:el,approachingMessageLimitWarning:ei,overageExceededWarning:eo}=(0,Q.IK)(null!=(t=null==J?void 0:J.id)?t:null),{isRavenCanceled:eu}=(0,v.bF)(),em=eu?(0,s.jsx)(G,{}):void 0,ex=(0,r.r$)()?(0,s.jsx)(Y,{}):void 0,eg=(()=>{let{chatResourceState:e}=(0,_.i)();return[...e.syncSources||[],...(0,b.CO)(B).data||[]].filter(e=>{var t;return p.xj.includes(null==e||null==(t=e.status)?void 0:t.state)})})(),ey=eg.length?(0,s.jsx)(K,{inaccessibleSyncSources:eg}):void 0,ev=(0,w.CD)(),eb=(0,r.mV)(),ej=ev&&!eb?(0,s.jsx)(T.x,{children:(0,s.jsxs)("div",{className:"text-danger-000 flex items-center gap-1",children:[(0,s.jsx)(x.N,{className:"h-4 w-4 shrink-0",weight:"regular"}),(0,s.jsx)("span",{children:(0,s.jsx)(y.A,{defaultMessage:"Less accurate Google Drive search results while Claude catalogs your Drive files",id:"ljvRWwDUyf"})})]})}):void 0,eC=(0,I.U)(B)?(0,s.jsx)(T.x,{children:(0,s.jsxs)("div",{className:"text-danger-000 flex items-center gap-1",children:[(0,s.jsx)(x.N,{className:"h-4 w-4 shrink-0",weight:"regular"}),(0,s.jsx)("span",{children:(0,s.jsx)(y.A,{defaultMessage:"Project knowledge exceeds maximum. Remove files to continue.",id:"IqUMWBoy4d"})})]})}):void 0,{systemAlertFromConfig:eM}=(e=>{let t=(0,m.T9)("claude_ai_system_alerts","alert",null,ep),[a,n]=(0,ec.Vc)("".concat(e,":").concat(null==t?void 0:t.id,":hideAlertOnConversation"),!1),l=null==t?void 0:t.alertForModels,i=(0,ed.Z3)(e);return e&&(!l||l.includes(i))&&t&&!a?{systemAlertFromConfig:{alert:t,component:(0,s.jsx)(eh,{alert:t,setHideAlert:n})}}:{}})(null!=(a=null==J?void 0:J.id)?a:null),ew=eM?eM.component:null,ek=(0,i.u9)(),e_=function(e,t,a){let{data:n=[]}=(0,en.uE)(a),l=(0,et.cV)(),i=[...e,...t?t.files:[],...n].filter(e=>e.file_kind===u.M.Blob);return!l&&i.length?(0,s.jsx)(er,{files:i,isNewConversation:!t}):null}(W,J,B),eA=ek?null:e_,eN=function(){let e=(0,m.T9)("claudeai_warning_message","components",null,X);return e?(0,s.jsx)(Z,{messageComponents:e}):null}(),eS=ef(),eE=(0,m.fS)("claudeai_unsafe_prompt_inline"),eI=H&&eS&&eE?(0,s.jsx)(T.x,{children:(0,s.jsxs)("div",{className:"text-danger-000 flex items-center gap-1",children:[(0,s.jsx)(x.N,{className:"h-4 w-4 shrink-0",weight:"regular"}),(0,s.jsx)("span",{children:(0,s.jsx)(y.A,{defaultMessage:"Use caution before running this prompt. Malicious conversation content could trick Claude into attempting harmful actions or sharing your data.",id:"bWRp6wwzXA"})})]})}):null,eT=V.some(e=>e.origin===u.R.URLParameter)?(0,s.jsx)(T.x,{children:(0,s.jsxs)("div",{className:"text-danger-000 flex items-center gap-1",children:[(0,s.jsx)(x.N,{className:"h-4 w-4 shrink-0",weight:"regular"}),(0,s.jsx)("span",{children:(0,s.jsx)(y.A,{defaultMessage:"Artifacts are user-generated and may contain unverified or potentially unsafe content.",id:"/0GesG9R4n"})})]})}):null,eO=null!=(o=null!=(l=null!=es?es:eI)?l:eT)?o:null,eR=(0,C.ko)({shouldTrack:"onpage"===L})&&"onpage"===L?(0,s.jsx)(P,{}):null,eD=null!=(z=null!=(D=null!=(R=null!=(O=null!=(k=null!=(M=null!=(j=null!=(g=null!=(f=null!=(h=null!=(c=null!=(d=null!=eO?eO:null!=eC?eC:null)?d:el)?c:eo)?h:em)?f:ex)?g:ey)?j:eA)?M:ew)?k:ej)?O:eN)?R:ei)?D:eR)?z:null;eD===eR&&(F=()=>$(!0));let eP=eM&&eM.alert.proUpsell;return(0,s.jsx)(N.L,{warning:eD,placement:L,theme:eP?"pro":el||eA||ej||ei?"info":eR?"chin":"danger",onClick:F})};function eg(e){var t,a;let{model:n,conversationUuid:i,lastMessage:r,fallback:o,onRetryWithFallback:u}=e,[p,h]=(0,g.useState)(!1),{allModelOptions:f}=(0,l.A9)(),x=f.find(e=>e.model===n),v=(null==x||null==(t=x.name)?void 0:t.replace("Claude",""))||n,b=null!=(a=(0,m.T9)("hiking_boots","value",null,m.Lu))?a:"";return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(ey,{isOpen:p,onClose:()=>h(!1),conversationUuid:i,lastMessage:r}),(0,s.jsx)("div",{className:"mx-2 md:mx-0",children:(0,s.jsxs)("div",{className:"flex flex-col md:flex-row min-h-[99px] py-4 px-6 shadow-[0_0.25rem_1.25rem_hsl(var(--always-black)/3.5%)] rounded-2xl bg-bg-000 md:items-center gap-4 md:gap-6 border-0.5 border-border-300",children:[(0,s.jsxs)("div",{className:"flex flex-col gap-1 text-sm flex-1",children:[(0,s.jsx)("h4",{className:"font-bold",children:(0,s.jsx)(y.A,{defaultMessage:"Chat paused",id:"bL7dVUkHa0"})}),(0,s.jsx)("p",{className:"text-text-300",children:(0,s.jsx)(d.YX,{id:"howdy",dangerouslyVisiblePublicValues:{currentModelName:v,fallbackModelName:o.displayName,feedback:e=>(0,s.jsx)("button",{className:"underline cursor-pointer",onClick:()=>{h(!0)},children:e}),learnMore:e=>(0,s.jsx)("a",{className:"underline cursor-pointer",href:b,target:"_blank",children:e})}})})]}),(0,s.jsx)("div",{className:"w-full md:w-auto",children:(0,s.jsx)(c.$,{onClick:u,className:"w-full md:w-auto",children:(0,s.jsx)(y.A,{defaultMessage:"Retry with {fallbackModelName}",id:"SH+4I4XTEI",values:{fallbackModelName:o.displayName}})})})]})}),(0,s.jsx)("div",{className:"bg-bg-100 w-full h-2"})]})}function ey(e){let{isOpen:t,onClose:a,conversationUuid:n,lastMessage:l}=e,i=(0,o.Y)();return(0,s.jsx)(k.B,{isOpen:t,showOptions:!1,conversationUuid:n,message:l,requestedFeedbackType:h.kj.SC_FALSE_POSITIVE,setRequestedFeedbackType:()=>{},onClose:a,onSuccess:()=>{a(),i.addSuccess((0,s.jsx)(y.A,{defaultMessage:"Thanks for your feedback!",id:"coh2h6fh1P"}))}})}},9596:(e,t,a)=>{a.d(t,{$z:()=>d,cY:()=>o});var s=a(1613),n=a(64328),l=a(73356),i=a(68067),r=a(66365);function o(){let e=(0,r.useLayer)("frontend"),t=(0,i.fS)("chat_suggestion_chips_enabled"),a=e.get("chat_suggestion_chips",!1);return t||a}function d(e){let{mutateAsync:t,enabled:a}=function(){let{activeOrganization:e}=(0,n.YL)(),t=(0,i.fS)("chat_autocomplete"),a=(0,s.L2)("/api/organizations/".concat(null==e?void 0:e.uuid,"/dust/chat_autocomplete"),"POST",{enabled:t,onError:()=>{l.v.warn(l.u.CHAT_COMPLETION,"Failed to fetch completion")},meta:{noToast:!0}});return{mutateAsync:a.mutateAsync,isPending:a.isPending,isIdle:a.isIdle,enabled:t}}();return{fetchInputAutocompletion:async s=>{if(!a||!e)return"";let[n,l]=(await t({conversationUuid:null!=e?e:"",prompt:s})).prompt.split("\n").map(e=>e.trim());return"Yes"===n?" "===s[s.length-1]?l||"":" "+(l||""):"No"===n&&l||""}}}},11717:(e,t,a)=>{a.d(t,{TW:()=>I,go:()=>E,wU:()=>S});var s=a(54568),n=a(94295),l=a(32049),i=a(34003),r=a(74813),o=a(64328),d=a(35984),c=a(84284),u=a(21266),m=a(3075),p=a(73996),h=a(84617),f=a(67453),x=a(68067),g=a(99969),y=a.n(g),v=a(32536),b=a(7620),j=a(59666),C=a(10369),M=a(24407),w=a(30639);let k=M.z.object({title:M.z.string(),description:M.z.string(),shortDescription:M.z.string().optional(),titleKey:M.z.string().optional(),descriptionKey:M.z.string().optional(),shortDescriptionKey:M.z.string().optional()}),_=M.z.object({preview_feature_uses_artifacts:k.optional(),preview_feature_uses_latex:k.optional(),preview_feature_uses_citations:k.optional(),enabled_artifacts_attachments:k.optional(),enabled_turmeric:k.optional(),enabled_gdrive:k.optional(),enabled_bananagrams:k.optional(),enabled_web_search:k.optional(),enabled_sourdough:k.optional(),enabled_foccacia:k.optional()}),A={},N=(0,b.createContext)({openFeaturePreviewModal:y()}),S=e=>{let{children:t}=e,[a,n]=(0,b.useState)(!1);return(0,s.jsxs)(N.Provider,{value:{openFeaturePreviewModal:()=>n(!0)},children:[t,(0,s.jsx)(m.aF,{modalSize:"xl",isOpen:a,onClose:()=>n(!1),hasCloseButton:!0,title:(0,s.jsx)(j.A,{defaultMessage:"Feature preview",id:"3H/t1552xG"}),children:(0,s.jsx)(I,{})})]})},E=()=>(0,b.useContext)(N);function I(e){let{includeTitle:t}=e,a=function(){let e=(0,x.T9)("fp_menu","features",A,_),{value:t,source:a}=(0,l.N)({}),s=(0,i.Gh)(),n=(0,x.fS)("wiggle_graduated"),{preview_feature_uses_artifacts:r,enabled_artifacts_attachments:o,preview_feature_uses_latex:d,enabled_turmeric:c,...u}=e,m={...u};return t&&"experiment"===a&&r||(m.enabled_artifacts_attachments=o),s&&!n&&(m.enabled_monkeys_in_a_barrel={title:"Code execution and file creation",description:"Claude can execute code and create and edit docs, spreadsheets, presentations, PDFs, and data reports."}),m}(),r=Object.keys(a).length>0,{account:d}=(0,o.YL)(),{mutate:c}=(0,n.yJ)(),u=(0,b.useRef)(!1);if((0,b.useEffect)(()=>{if(!(null==d?void 0:d.settings)||u.current)return;u.current=!0;let e=d.settings.enabled_monkeys_in_a_barrel,t=d.settings.preview_feature_uses_artifacts,a=d.settings.enabled_artifacts_attachments;e&&!t&&c({preview_feature_uses_artifacts:!0}),e&&a&&c({enabled_artifacts_attachments:!1})},[null==d?void 0:d.settings,c]),!r)return;let m=(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(p.eE,{id:"feature-preview",children:(0,s.jsx)(j.A,{defaultMessage:"Preview and provide feedback on upcoming enhancements to our platform. Please note: experimental features might influence Claude’s behavior and some interactions may differ from the standard experience.",id:"TJ0Nj7aQ5C"})}),(0,s.jsx)("div",{className:"flex flex-col gap-4",children:Object.entries(a).map((e,t)=>{let[a,n]=e;return(0,s.jsxs)("div",{className:"flex flex-col gap-4",children:[t>0&&(0,s.jsx)("div",{className:"border-t border-border-300"}),(0,s.jsx)(T,{label:a,...n})]},a)})})]});return t?(0,s.jsxs)(p.XY,{children:[(0,s.jsx)(p.F9,{children:(0,s.jsx)(j.A,{defaultMessage:"Experimental",id:"GOx7x4mbZd"})}),m]}):m}function T(e){var t;let{label:a,...l}=e,m=(0,C.A)(),{track:p}=(0,r.st)(),{addSuccess:g}=(0,d.Y)(),{account:y}=(0,o.YL)(),{mutate:M,isPending:k}=(0,n.yJ)(),{checked:_}=O(a),A=(0,i.t5)(),N="enabled_monkeys_in_a_barrel"===a&&!A,S=(0,o.mV)(),E=(0,x.fS)("claudeai_wiggle_egress_settings"),I=(0,i.ut)(),T=(0,i.UA)(),D=(0,i.EG)(),P=(0,b.useCallback)(()=>{if(!y||N)return;p({event_key:"claudeai.settings.preview_feature.toggled",account_uuid:y.uuid,feature_id:a,action:!0===_?"disable":"enable"});let e=!_;if(g(m.formatMessage({defaultMessage:"{title} {action}",id:"XuGv50sPs9"},{title:l.title,action:_?"disabled":"enabled"})),e){var t,s,n;if("enabled_monkeys_in_a_barrel"===a){let e=null==(t=y.settings)?void 0:t.enabled_artifacts_attachments,a=[];e&&a.push("Analysis Tool"),a.length>0&&g(m.formatMessage({defaultMessage:"Automatically disabled: {features}",id:"7StJBCedWA"},{features:a.join(", ")})),(null==(s=y.settings)?void 0:s.preview_feature_uses_artifacts)||g(m.formatMessage({defaultMessage:"Automatically enabled: Artifacts",id:"v5zt5SRUyk"}))}else"enabled_artifacts_attachments"===a&&(null==(n=y.settings)?void 0:n.enabled_monkeys_in_a_barrel)&&g(m.formatMessage({defaultMessage:"Automatically disabled: Files feature",id:"8T9PGQkYRT"}))}M({[a]:e,..."enabled_monkeys_in_a_barrel"===a&&e&&{enabled_artifacts_attachments:!1,preview_feature_uses_artifacts:!0},..."enabled_artifacts_attachments"===a&&e&&{enabled_monkeys_in_a_barrel:!1}})},[y,p,a,_,g,m,l.title,M,N]);return(0,s.jsxs)("div",{className:"flex flex-col w-full gap-4",children:[(0,s.jsxs)("div",{className:"flex flex-row w-full gap-4 items-start",children:[(0,s.jsx)(v.default,{src:"/images/feature-preview/square/".concat(null!=(t=R[a])?t:"generic",".png"),style:{objectFit:"cover",width:62,height:62},className:"rounded-lg border border-border-300",width:248,height:248,alt:m.formatMessage({defaultMessage:"Preview image of feature",id:"6VliGZPeZA"})}),(0,s.jsxs)("div",{className:"flex flex-col gap-2 flex-grow",children:[(0,s.jsx)("h3",{className:"text-text-100 font-base-bold",id:"feature-".concat(a,"-title"),children:l.titleKey?(0,s.jsx)(u.X5,{id:l.titleKey}):l.title}),(0,s.jsx)("p",{className:"text-text-300 font-base",children:l.descriptionKey?(0,s.jsx)(u.X5,{id:l.descriptionKey}):l.description}),"enabled_monkeys_in_a_barrel"===a&&!E&&(0,s.jsx)("span",{className:"text-xs text-text-500",children:(0,s.jsx)(j.A,{defaultMessage:"This feature gives Claude network access to create and analyze files, which has <a>security risks</a>. Monitor chats closely when using this feature.",id:"2tm+lICYTm",values:{a:e=>(0,s.jsx)(h.Y,{href:"https://support.claude.com/en/articles/12111783-create-and-edit-files-with-claude#h_0ee9d698a1",target:"_blank",children:e})}})})]}),(0,s.jsx)("label",{className:"cursor-pointer mt-2",children:(0,s.jsx)(f.Tooltip,{tooltipContent:N?(0,s.jsx)(j.A,{defaultMessage:"This feature has been disabled by your administrator.",id:"Jpvq2WYysx"}):"enabled_monkeys_in_a_barrel"===a?(0,s.jsx)(j.A,{defaultMessage:"This is an upgrade to the analysis tool. It does not support versioning or remixing of Artifacts.",id:"OT4Z/tnKXZ"}):null,children:(0,s.jsx)("div",{children:(0,s.jsx)(c.j,{checked:!!_,onChange:P,"aria-labelledby":"feature-".concat(a,"-title"),disabled:N},a)})})})]}),"enabled_monkeys_in_a_barrel"===a&&_&&!S&&E&&(0,s.jsx)(w.wi,{enabled:I,allowedHosts:T,hostsTemplate:D,onUpdate:M,isPending:k})]})}let O=e=>{var t,a,s,n,r,d,c;let{account:u}=(0,o.YL)(),{value:m,source:p}=(0,l.N)(null!=(n=null==u?void 0:u.settings)?n:{}),h=(0,i.u9)(),f=null!=(r=null==u||null==(t=u.settings)?void 0:t.preview_feature_uses_artifacts)&&r,x="flag"===p&&m||null!=(d=null==u||null==(a=u.settings)?void 0:a.enabled_artifacts_attachments)&&d;return"enabled_monkeys_in_a_barrel"===e?{checked:null!=h&&h}:"enabled_artifacts_attachments"===e?{checked:x}:"preview_feature_uses_artifacts"===e?{checked:f}:{checked:null!=(c=null==u||null==(s=u.settings)?void 0:s[e])&&c}},R={preview_feature_uses_artifacts:"artifacts",preview_feature_uses_latex:"latex",preview_feature_uses_citations:"generic",enabled_artifacts_attachments:"analyse",enabled_turmeric:"turmeric",enabled_gdrive:"google-drive",enabled_web_search:"web-search",enabled_bananagrams:"bananagrams",enabled_foccacia:"foccacia",enabled_sourdough:"sourdough",enabled_monkeys_in_a_barrel:"wiggle"}},11930:(e,t,a)=>{a.d(t,{I:()=>s});var s=function(e){return e.CREATE="create",e.CREATE_MANUALLY="create_manually",e.LIST="list",e.EDIT="edit",e}({})},15912:(e,t,a)=>{a.d(t,{V:()=>r});var s=a(54568);a(19736),a(96614),a(86545),a(64328);var n=a(89626),l=a(22147);a(68067),a(10665);var i=a(93220);a(88775);let r=e=>{let{anchorRef:t,canShowNux:a,text:r,id:o,nuxItem:d,side:c,align:u="center"}=e,{shouldShow:m,dismiss:p}=(0,i.z)(o,d);return m&&a?(0,s.jsx)(l.U,{side:c,anchorRef:t,onClose:p,accentColor:"secondary",introDelay:.5,align:u,children:(0,s.jsxs)("div",{className:"flex flex-row gap-2 min-w-[13rem]",children:[(0,s.jsx)(n.g5W,{}),(0,s.jsx)("p",{className:"whitespace-normal",children:r})]})}):null}},16256:(e,t,a)=>{a.d(t,{A:()=>s});let s={snappyOut:[.19,1,.22,1],inOutQuart:[.77,0,.175,1],outCirc:[.075,.82,.165,1],inOutBase:[.25,.1,.25,1]}},18800:(e,t,a)=>{a.d(t,{V:()=>o});var s=a(54568);a(2e3);var n=a(7620),l=a(86141),i=a(88775),r=a(46868);function o(e){let{uuid:t,syncSource:a,onRemove:o,isEditable:d}=e,{mutateAsync:c}=(0,l.Ql)(),u=(0,n.useCallback)(()=>{c(t),null==o||o()},[c,t,o]),{projectUuid:m}=(0,i.lE)();return(0,s.jsx)(r.br,{location:"chat",projectUuid:m,syncSource:a,handleRemove:d?u:void 0,isEditable:d})}},18849:(e,t,a)=>{a.d(t,{_:()=>c,x:()=>d});var s=a(54568),n=a(18088),l=a(27541),i=a(7620),r=a(91755);let o=(0,i.createContext)({isDrawerExpanded:!1,setIsDrawerExpanded:()=>void 0});function d(){return(0,i.useContext)(o)}function c(e){let{children:t,conversationUuid:a}=e,d=function(e){let t=!!(0,l.useSearchParams)().get("controls")&&!(window.matchMedia&&window.matchMedia("(max-width: 767px)").matches),[a]=(0,n.Vc)("".concat(e,":chatControlsSidebarIsOpen"),t);return a}(a),{isExpanded:c,setIsExpanded:u}=(0,r.V)(),[m,p]=(0,i.useState)(d),h=(0,i.useRef)({reopenMain:!1}),f=(0,i.useCallback)(e=>{e&&(c&&(h.current.reopenMain=!0),u(!1)),!e&&h.current.reopenMain&&(h.current.reopenMain=!1,u(!0)),p(e)},[c,u,p]),x=(0,i.useMemo)(()=>({isDrawerExpanded:m,setIsDrawerExpanded:f}),[m,f]);return(0,s.jsx)(o.Provider,{value:x,children:t})}},19920:(e,t,a)=>{a.d(t,{s:()=>c});var s=a(54568),n=a(89626),l=a(47592),i=a(95617),r=a(72902),o=a(10369),d=a(95839);let c=e=>{let{path:t,inputMenuSearchQuery:a,setInputMenuSearchQuery:c,handleBack:u,className:m}=e,p=(0,o.A)(),h=(0,l.fJ)(),f={[i.xd.DRIVE]:p.formatMessage({defaultMessage:"Search Google Drive",id:"1bbXc6Z3S1"}),[i.xd.PROJECTS]:p.formatMessage({defaultMessage:"Search projects",id:"doPT7U8q21"}),[i.xd.STYLES]:p.formatMessage({defaultMessage:"Search styles",id:"9oQ0JkPwFY"})},x=t&&t in f?f[t]:p.formatMessage({defaultMessage:"Search menu",id:"lL4HM3zEqr"}),g=null===t||!!a.trim().length;return(0,s.jsxs)("div",{className:(0,r.A)("flex flex-row items-center gap-2.5 px-1.5 w-full rounded-md h-[2rem]",m),children:[(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("div",{className:"w-4 h-4 flex items-center justify-center",children:(0,s.jsx)(n.vji,{className:(0,r.A)("text-text-500/50 transition-opacity",g?"opacity-100":"opacity-0")})}),(0,s.jsx)("button",{onClick:u,className:(0,r.A)("transition-opacity text-text-500 hover:text-text-100 absolute left-0 top-0",g?"opacity-0":"opacity-100"),disabled:g,children:(0,s.jsx)("div",{className:"w-4 h-4 flex items-center justify-center",children:(0,s.jsx)(n.nkM,{})})})]}),(0,s.jsx)("input",{autoFocus:!h,id:d.I,className:"block bg-transparent hide-focus-ring leading-6 placeholder:text-text-500/70 font-base text-text-300 w-full",placeholder:x,value:a,onChange:e=>c(e.target.value)})]})}},22147:(e,t,a)=>{a.d(t,{U:()=>d});var s=a(54568),n=a(23812),l=a(72902),i=a(61295),r=a(7620);let o={FROM_ANCHOR:8,POINTER_OFFSET:26,POINTER_HEIGHT:16},d=e=>{let{anchorRef:t,children:a,side:d,align:u="center",accentColor:m="default",onClose:p,className:h,introDelay:f=0,spacing:x={},buttonText:g,onClickButton:y,buttonAlignment:v="start"}=e,b={...o,...x},j=(0,r.useRef)(null),[C,M]=(0,r.useState)(d),[w,k]=(0,r.useState)(u);(0,r.useEffect)(()=>{if(!j.current||!t.current)return;let e=()=>{let{current:e}=j,{current:a}=t;if(!e||!a)return;let s=a.getBoundingClientRect(),n=e.getBoundingClientRect(),l=window.innerWidth,i=window.innerHeight,r=C,o=w,d=0,c=0,u=()=>{d="top"===r?s.top-n.height-b.FROM_ANCHOR:"bottom"===r?s.bottom+b.FROM_ANCHOR:s.top-b.POINTER_OFFSET+.5*s.height-.5*b.POINTER_HEIGHT},m=()=>{if("left"===r)c=s.left-n.width-b.FROM_ANCHOR;else if("right"===r)c=s.right+b.FROM_ANCHOR;else switch(o){case"start":c=s.left-b.FROM_ANCHOR;break;case"center":c=s.left+(s.width-n.width)/2;break;case"end":c=s.right-n.width+b.FROM_ANCHOR}};u(),m(),c<0?"top"===r||"bottom"===r?o="start":r="bottom":c+n.width>l&&("top"===r||"bottom"===r?o="end":r="bottom"),d<0?r="bottom":d+n.height>i&&(r="top"),u(),m(),e.style.top="".concat(d,"px"),e.style.left="".concat(c,"px"),r!==C&&M(r),o!==w&&k(o)};e();let a=new ResizeObserver(e);t.current&&(a.observe(t.current),t.current.parentElement&&a.observe(t.current.parentElement));let s=e=>{if(p){var t;(null==(t=j.current)?void 0:t.contains(e.target))||p()}};return window.addEventListener("resize",e),window.addEventListener("scroll",e),document.addEventListener("click",s,{capture:!0}),()=>{a.disconnect(),window.removeEventListener("resize",e),window.removeEventListener("scroll",e),document.removeEventListener("click",s,{capture:!0})}},[C,w,t,p,b.FROM_ANCHOR,b.POINTER_HEIGHT,b.POINTER_OFFSET]);let _={};switch(C){case"right":_={translateX:-b.FROM_ANCHOR,opacity:0};break;case"left":_={translateX:b.FROM_ANCHOR,opacity:0};break;case"bottom":_={translateY:-b.FROM_ANCHOR,opacity:0};break;case"top":_={translateY:b.FROM_ANCHOR,opacity:0}}return(0,s.jsxs)(i.P.div,{ref:j,initial:_,animate:{translateY:0,translateX:0,opacity:1,transition:{delay:f,ease:"easeOut",duration:.3}},exit:{scale:.985,opacity:0,filter:"blur(24px)",transition:{ease:"easeIn",duration:.3,opacity:{duration:.2}}},className:(0,l.A)("font-base fixed z-tooltip rounded-xl p-4 border-0.5 shadow-sm max-w-[16.6rem]","default"===m&&"bg-bg-200 border-border-300","secondary"===m&&"text-accent-secondary-000 bg-accent-secondary-900 border-accent-secondary-100/50",h),role:"dialog",style:{willChange:"transform",backfaceVisibility:"hidden",WebkitBackfaceVisibility:"hidden"},children:[(0,s.jsx)(c,{side:C,align:w,accentColor:m,spacing:b}),(0,s.jsxs)("div",{className:(0,l.A)("flex flex-col gap-4","start"===v&&"items-start","end"===v&&"items-end"),children:[a,!!g&&!!y&&(0,s.jsx)(n.$,{variant:"secondary",className:(0,l.A)("!gap-0 !text-sm !rounded-lg  !px-3 !min-w-0 !w-fit","secondary"===m&&"!text-accent-secondary-000 !border-accent-secondary-100/50 hover:!bg-accent-secondary-100 hover:!text-oncolor-100"),onClick:()=>{y(),null==p||p()},size:"sm",children:(0,s.jsx)("p",{className:"inline",children:g})})]})]})},c=e=>{let{accentColor:t,side:a,align:n,spacing:i=o}=e,r="fill-bg-200",d="fill-border-300";"secondary"===t&&(r="fill-accent-secondary-900",d="fill-accent-secondary-100/50");let c={};switch(a){case"top":c={top:"100%",left:"50%",marginTop:"-5px",transform:"rotate(-90deg) translateY(-25%)"};break;case"bottom":c={bottom:"100%",left:"50%",marginBottom:"-5px",transform:"rotate(90deg) translateY(25%)"};break;case"right":c={top:i.POINTER_OFFSET};break;case"left":c={top:i.POINTER_OFFSET,left:"100%",transform:"rotate(180deg)"}}if("top"===a||"bottom"===a)switch(n){case"start":c.left=i.POINTER_OFFSET;break;case"end":c.left="auto",c.right=i.POINTER_OFFSET}return(0,s.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",height:i.POINTER_HEIGHT,viewBox:"0 0 6 16",className:(0,l.A)("absolute origin-center pointer-events-none","right"===a&&"right-full"),style:c,children:[(0,s.jsx)("path",{className:r,d:"M6 0h-.5v1.55c0 .55-.27 1.06-.71 1.55-.53.6-1.16 1.05-1.79 1.51-.57.42-1.15.85-1.65 1.37C.87 6.48.5 7.06.5 7.74c0 .68.37 1.26.85 1.77.5.52 1.08.94 1.65 1.36.63.47 1.26.93 1.79 1.51.44.5.71 1 .71 1.56V16H6V0Z"}),(0,s.jsx)("path",{className:d,fillRule:"evenodd",clipRule:"evenodd",d:"M6 0v1.55c0 .74-.36 1.36-.85 1.9-1.01 1.13-2.4 1.8-3.44 2.89-.45.47-.71.92-.71 1.4 0 .48.26.93.7 1.4 1.05 1.1 2.44 1.76 3.45 2.89.5.54.85 1.17.85 1.9V16h-.5v-2.06c0-.56-.27-1.06-.71-1.56-1.01-1.12-2.4-1.79-3.44-2.87C.87 9 .5 8.42.5 7.74c0-.68.37-1.26.85-1.76C2.4 4.89 3.78 4.22 4.8 3.1c.44-.5.71-1 .71-1.55V0H6Z"})]})}},26250:(e,t,a)=>{a.d(t,{L:()=>l,NuxProvider:()=>i});var s=a(54568),n=a(7620);let l=(0,n.createContext)(null);function i(e){let{children:t}=e,[a,i]=(0,n.useState)({items:{},currentlyShowing:null}),[o,d]=(0,n.useState)(!1),c=(0,n.useCallback)((e,t)=>{i(a=>{if(a.items[e])return a;let s={...a.items,[e]:t};return{items:s,currentlyShowing:r(s,!0)}})},[]),u=(0,n.useCallback)(e=>{i(t=>{let{[e]:a,...s}=t.items;return{items:s,currentlyShowing:t.currentlyShowing===e?r(s):t.currentlyShowing}})},[]),m=(0,n.useCallback)(e=>{d(e),e||i(e=>({...e,currentlyShowing:r(e.items)}))},[]),p=(0,n.useMemo)(()=>({items:a.items,currentlyShowing:o?null:a.currentlyShowing,registerNux:c,unregisterNux:u,setSpotlightActive:m}),[a.items,a.currentlyShowing,o,c,u,m]);return(0,s.jsx)(l.Provider,{value:p,children:t})}let r=(e,t)=>{let a=Object.entries(e).sort((e,t)=>{let a=e[1].priority||0,s=t[1].priority||0;return a!==s?s-a:new Date(t[1].dateAdded).getTime()-new Date(e[1].dateAdded).getTime()});if(t){var s,n;return null!=(n=null==(s=a[0])?void 0:s[0])?n:null}for(let[e,t]of a)if(t.showAfterOthersDismiss)return e;return null}},26924:(e,t,a)=>{a.d(t,{V:()=>sq});var s=a(54568),n=a(19736),l=a(68067),i=a(9679),r=a(72902),o=a(39109),d=a(61295),c=a(7620),u=a(86141),m=a(9596),p=a(10665),h=a(9533),f=a(83158),x=a(47479),g=a(18800);let y=e=>{let{attachments:t,files:a,syncSourceResults:n,onRemoveAttachment:l,onRemoveFile:i,onRemoveSyncSource:r,isUploadingFile:o,isUploadingSync:d}=e;return(0,s.jsxs)("div",{className:"border-border-300/25 border-t-0.5 rounded-b-2xl bg-bg-100 !p-3.5 !m-0 flex flex-row overflow-x-auto gap-3 px-3.5 py-2.5 -my-1",children:[t.map((e,t)=>(0,s.jsx)(f.NM,{file:e,size:"md",onRemoveFile:()=>l(t),isEditable:!0},t)),a.map((e,t)=>(0,s.jsx)(f.NM,{file:e,showWarnings:!0,size:"md",onRemoveFile:()=>i(t),isEditable:!0},e.file_uuid)),(0,s.jsx)(x.NG,{isShown:o}),n.map(e=>{let{syncSource:t,uuid:a}=e;return(0,s.jsx)(g.V,{uuid:a,syncSource:t,onRemove:()=>r(a),isEditable:!0},a)}),(0,s.jsx)(x.NG,{isShown:d})]})};var v=a(90370),b=a(2348),j=a(59922);function C(){let e=(0,b._)(["\n  bg-bg-100 \n  w-full \n  h-2\n"]);return C=function(){return e},e}function M(){let e=(0,b._)(["\n  !box-content\n  flex\n  flex-col\n  bg-bg-000\n  mx-2\n  md:mx-0\n  items-stretch\n  transition-all\n  duration-200\n  relative\n  cursor-text\n  z-10\n  rounded-2xl\n"]);return M=function(){return e},e}function w(){let e=(0,b._)(["\n  flex \n  w-full \n  min-w-0 \n  flex-col\n"]);return w=function(){return e},e}function k(){let e=(0,b._)(["\n  [outline:none!important]\n  resize-none\n  w-full\n  bg-transparent\n  text-text-100\n  placeholder:text-text-400\n"]);return k=function(){return e},e}let _=j.J.div(C()),A=j.J.div(M()),N=j.J.fieldset(w()),S=j.J.textarea(k());var E=a(55188),I=a(48663);let T="prog_chat_input",O={isTipTapReady:!1,promptInputSsrEnabled:!1,promptInputSsrTextareaRef:{current:null},handleTipTapReady:()=>{}};function R(){let e=(0,l.fS)(T);(0,c.useEffect)(()=>{(0,I.BM)(T)},[]);let t=(0,c.useRef)(null),[a,s]=(0,c.useState)(!1),n=(0,c.useCallback)(a=>{if(!e)return;let n=()=>{var e;let n=null==(e=t.current)?void 0:e.value;n&&a.commands.setContent(n),a.commands.focus("end"),s(!0)};requestAnimationFrame(()=>{requestAnimationFrame(n)})},[e]);return e?{isTipTapReady:a,promptInputSsrEnabled:e,promptInputSsrTextareaRef:t,handleTipTapReady:n}:O}function D(e){let{promptInputSsrEnabled:t}=R(),a=t?P:c.Fragment;return(0,s.jsx)(a,{children:e.children})}function P(e){return(0,s.jsx)("div",{className:"[grid-area:1/1] min-w-0","data-testid":"chat-input-grid-area",children:e.children})}function z(e){let{promptInputSsrEnabled:t}=R(),a=t?F:c.Fragment;return(0,s.jsx)(a,{children:e.children})}function F(e){return(0,s.jsx)("div",{className:"grid","data-testid":"chat-input-grid-container",children:e.children})}var L=a(47592),G=a(10369);function U(e){let{isNewConversation:t,placeholder:a}=e,s=(0,G.A)();return null!=a?a:t?s.formatMessage({defaultMessage:"How can I help you today?",id:"XLcM6WHfQR"}):s.formatMessage({defaultMessage:"Reply to Claude...",id:"kSt28+RchS"})}function Y(e){let{hidden:t,placeholder:a,placement:n,textareaRef:i,className:r}=e;return(0,l.fS)("prog_chat_input")?(0,s.jsx)(V,{hidden:t,placeholder:a,placement:n,textareaRef:i,className:r}):(0,s.jsx)(H,{placement:n})}function H(e){let{placement:t}=e;return(0,s.jsxs)(N,{"data-testid":"prompt-input-ssr-inert",children:[(0,s.jsx)(A,{className:"bottom"===t?"h-[99px]":"h-[123px]"}),"bottom"===t&&(0,s.jsx)(_,{})]})}function V(e){let t=(0,G.A)(),a=(0,r.A)("shadow-[0_0.25rem_1.25rem_hsl(var(--always-black)/3.5%),0_0_0_0.5px_hsla(var(--border-300)/0.15)] hover:shadow-[0_0.25rem_1.25rem_hsl(var(--always-black)/3.5%),0_0_0_0.5px_hsla(var(--border-200)/0.3)] focus-within:shadow-[0_0.25rem_1.25rem_hsl(var(--always-black)/7.5%),0_0_0_0.5px_hsla(var(--border-200)/0.3)] hover:focus-within:shadow-[0_0.25rem_1.25rem_hsl(var(--always-black)/7.5%),0_0_0_0.5px_hsla(var(--border-200)/0.3)]"),n=(0,r.A)("max-h-96 w-full overflow-y-auto font-large break-words transition-opacity duration-200","bottom"===e.placement?"min-h-[1.5rem]":"min-h-[3rem]"),l=t.formatMessage({defaultMessage:"Write your prompt to Claude",id:"Lxn7p6AQvE"}),i=!(0,L.Fr)(),o=U({placeholder:e.placeholder,isNewConversation:!0});return(0,s.jsxs)(N,{"data-testid":"prompt-input-ssr-interactive",className:(0,r.A)("relative",e.hidden&&"opacity-0 pointer-events-none",e.className),children:[(0,s.jsx)(A,{className:a,children:(0,s.jsxs)("div",{className:"flex flex-col gap-3.5 m-3.5",children:[(0,s.jsx)("div",{className:"relative",children:(0,s.jsx)(S,{autoFocus:i,"data-testid":"chat-input-ssr","aria-invalid":!1,"aria-label":l,"aria-multiline":!0,"aria-required":!1,defaultValue:"",placeholder:o,ref:e.textareaRef,className:(0,r.A)(n,"[field-sizing:content]"),rows:"bottom"===e.placement?1:2})}),(0,s.jsx)("div",{className:"h-8 w-full","aria-hidden":"true"})]})}),"bottom"===e.placement&&(0,s.jsx)(_,{})]})}var W=a(88775),J=a(73619),B=a(44894),K=a(64328),q=a(35984),X=a(2e3),Z=a(59666),$=a(44007),Q=a(79052),ee=a(50571),et=a(22167),ea=a(51561),es=a(49629),en=a(35580),el=a(40925),ei=a(96614),er=a(87784),eo=a(61605),ed=a(90458),ec=a(89626),eu=a(71462),em=a(18727),ep=a(66365),eh=a(24407),ef=a(35415),ex=a(17421),eg=a(74326),ey=a(86545),ev=a(47831);let eb=e=>{var t,a;let{model:n,projectUuid:l}=e,{allModelOptions:i}=(0,ey.A9)(),r=(0,ev.ED)(l),o=(0,ev.Pb)(l),d=null!=(a=null==(t=i.find(e=>e.model===n))?void 0:t.slow_kb_warning_threshold)?a:155e3,c=!o&&(null!=r?r:0)>d?(0,s.jsx)("div",{className:"max-md:hidden",children:(0,s.jsx)(Z.A,{defaultMessage:"Large knowledge may slow responses",id:"d6mr4c6d+8"})}):void 0;return(0,s.jsx)("div",{className:"text-text-400 text-xs ml-2",children:null!=c?c:void 0})};var ej=a(52135),eC=a(60687),eM=a(21266);function ew(){return(0,c.useMemo)(()=>({"rainbow-garden-echo":(0,s.jsx)(eM.YX,{id:"rainbow_garden_echo"}),"crystal-meadow-sunrise":(0,s.jsx)(eM.YX,{id:"crystal_meadow_sunrise"})}),[])}var ek=a(23812),e_=a(87483),eA=a(67453),eN=a(65315),eS=a(17560),eE=a(19977),eI=a(8468),eT=a(97595),eO=a(66912);let eR=e=>{var t;let{model:a}=e,n=ew()[null!=(t=a.name_i18n_key)?t:""],l=a.name.replace("Claude",""),i=l.startsWith("\uD83E\uDD2B")?(0,s.jsx)(eA.Tooltip,{tooltipContent:l,children:(0,s.jsx)("span",{children:"\uD83E\uDD2B"})}):l;return(0,s.jsx)("div",{className:"font-claude-response inline-flex gap-[3px] text-[14px] h-[14px] leading-none items-baseline",children:(0,s.jsx)("div",{className:"flex items-center gap-[4px]",children:(0,s.jsx)("div",{className:"whitespace-nowrap select-none",children:n||i})})})};var eD=a(74813),eP=a(26819),ez=a(22147),eF=a(93220);let eL=e=>{let{anchorRef:t,canShowTooltip:a,onDismiss:n,onCtaClick:l,nuxId:i,nuxItem:o,badgeText:d,title:c,ctaLabel:u,modelId:m}=e,{track:p}=(0,eD.st)(),{shouldShow:h,dismiss:f}=(0,eF.z)(i,o),x=()=>{p({event_key:"claudeai.model_upsell.tooltip.dismissed",...m&&{model_id:m}}),f(),n()};return a&&h?(p({event_key:"claudeai.model_upsell.tooltip.viewed",...m&&{model_id:m}}),(0,s.jsx)(ez.U,{anchorRef:t,side:"bottom",align:"center",onClose:x,introDelay:.2,accentColor:"secondary",buttonText:u,onClickButton:()=>{p({event_key:"claudeai.model_upsell.tooltip.clicked",...m&&{model_id:m}}),l()},buttonAlignment:"end",className:"!max-w-[14.5rem]",children:(0,s.jsxs)("div",{className:"flex flex-col",children:[(0,s.jsxs)("div",{className:(0,r.A)("flex items-center mb-3",d?"justify-between":"justify-end"),children:[d&&(0,s.jsx)(eP.E,{color:"flat",className:"!bg-accent-secondary-200 !text-always-white",size:"default",children:d}),(0,s.jsx)(ek.$,{variant:"ghost",size:"unset",onClick:x,className:"!text-accent-secondary-000 hover:!text-accent-secondary-100 hover:!bg-transparent",children:(0,s.jsx)(ec.X,{size:12})})]}),(0,s.jsx)("div",{className:"flex flex-col",children:(0,s.jsx)("p",{className:"font-base text-accent-secondary-000",children:c})})]})})):null};function eG(){let e=(0,b._)(["\n  uppercase\n  mt-0.3\n  bg-accent-pro-100/10\n  text-accent-pro-000\n  rounded-full\n  px-2\n  ml-2\n  -mr-1\n  border-0.5\n  border-accent-pro-100/10\n  leading-4\n  h-4\n  text-[0.6rem]\n  flex-shrink-0\n"]);return eG=function(){return e},e}function eU(){let e=(0,b._)(["\n  border-0.5\n  border-border-300\n  -mr-1\n  ml-2\n  translate-y-px\n  rounded-full\n  px-2\n  py-px\n  text-xs\n  text-text-500\n  group-hover:bg-bg-100\n"]);return eU=function(){return e},e}let eY=j.J.div(eG()),eH=j.J.div(eU()),eV=(0,s.jsx)(Z.A,{defaultMessage:"Upgrade to Claude Pro to use our best and latest models",id:"GFsmqWxmnh"}),eW={model:"missing-model",name:"Legacy Model",description:"",inactive:!0},eJ=(e,t,a,s,n)=>!!a&&!t&&e!==s&&!n.includes(e),eB=e=>{var t,a,n,l;let{model:i,currentModelOption:o,defaultModel:d,opensInNewChat:u,onSelect:m,tag:p,tooltip:h,onUpgradeClick:f,isRestrictedBySeatTier:x}=e,g=ew(),y=(0,c.useMemo)(()=>({"haiku-3-5-description":(0,s.jsx)(Z.A,{defaultMessage:"Fastest for quick answers",id:"V6uMo5CPHU",description:"A description of the AI model"}),"haiku-current-gen-description":(0,s.jsx)(Z.A,{defaultMessage:"Fastest for quick answers",id:"V6uMo5CPHU",description:"A description of the AI model"}),"sonnet-3-7-description":(0,s.jsx)(Z.A,{defaultMessage:"Our most intelligent model yet",id:"WW0Apyq96E",description:"A description of the AI model"}),"telescope-cinnamon-lampshade":(0,s.jsx)(Z.A,{defaultMessage:"Legacy brainstorming model. Consumes usage faster.",id:"X7zn3yqaZ6",description:"A description of the AI model"}),"origami-glacier-marmalade":(0,s.jsx)(Z.A,{defaultMessage:"Smartest for everyday tasks",id:"2d50lKJw6F",description:"A description of the AI model"}),"rainbow-butterfly-stream":(0,s.jsx)(eM.YX,{id:"rainbow_butterfly_stream"}),"crystal-mountain-breeze":(0,s.jsx)(eM.YX,{id:"crystal_mountain_breeze"})}),[]),v=(0,K.h0)(),b=(0,ey.qv)(),j=i.model===(null==o?void 0:o.model),C=i.name.replace("Claude","").trim(),M=eJ(i.model,j,!v,d,b)?"Upgrade":p,w=x&&!j;return(0,s.jsx)(eA.Tooltip,{tooltipContent:h,side:"right",children:(0,s.jsx)("div",{children:(0,s.jsxs)(e_.tJ,{onClick:()=>{(!x||j)&&(j||M?("Upgrade"===M||"PRO"===M)&&(null==f||f()):m(i))},className:(0,r.A)("group pr-1 py-1.5",("Upgrade"===M||"PRO"===M)&&"cursor-pointer",x&&!j&&"opacity-40 cursor-not-allowed"),disabled:w,children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("div",{className:"flex-1 text-sm",children:(0,s.jsx)("div",{className:"flex items-center gap-1.5",children:(0,s.jsx)("div",{className:"font-ui-serif",children:null!=(a=g[null!=(t=i.name_i18n_key)?t:""])?a:C})})}),M&&!j&&"Upgrade"===M?(0,s.jsx)(eO.M,{as:"button",className:"mt-0.3 ml-2 -mr-1 flex-shrink-0",onClick:e=>{e.stopPropagation(),null==f||f()}}):M&&!j?(0,s.jsx)(eY,{children:M}):null,!j&&u&&!M&&(0,s.jsx)(eH,{children:(0,s.jsx)(Z.A,{defaultMessage:"New chat",id:"ATDyLPIoxz"})})]}),(0,s.jsx)("div",{className:"text-text-500 pr-4 text-xs mt-1",children:null!=(l=y[null!=(n=i.description_i18n_key)?n:""])?l:i.description})]}),j&&(0,s.jsx)(eS.J,{className:"text-accent-secondary-100 mb-1 mr-1.5",size:16,weight:"bold"})]})})})},eK=e=>{let{models:t,currentModelOption:a,defaultModel:n,opensInNewChat:l,handleModelSelect:i,hasMultiModalContent:r}=e,o=(0,G.A)(),d=(0,c.useMemo)(()=>({"velvet-bicycle-thunderstorm":(0,s.jsx)(eM.YX,{id:"velvet_bicycle_thunderstorm"})}),[]),u=(0,K.h0)(),m=(0,K.Ox)(),p=(0,ey.qv)(),h=!u,f=()=>{window.location.href="/upgrade"};return(0,s.jsx)(s.Fragment,{children:t.map(e=>{let t=m(e.model);return(0,s.jsx)(eB,{model:e,currentModelOption:a,defaultModel:n,opensInNewChat:l,onSelect:i,hasMultiModalContent:r,tag:(()=>{if(eJ(e.model,e.model===(null==a?void 0:a.model),h,n,p))return o.formatMessage({defaultMessage:"Upgrade",id:"0h/lPMeYkq"})})(),tooltip:(e=>{var t,l;return m(e.model)&&e.model!==(null==a?void 0:a.model)?(0,s.jsx)(Z.A,{defaultMessage:"This model is not available for your current plan",id:"FhHD7lBh9l"}):eJ(e.model,e.model===(null==a?void 0:a.model),h,n,p)?eV:null!=(l=d[null!=(t=e.notice_text_i18n_key)?t:""])?l:e.notice_text})(e),onUpgradeClick:f,isRestrictedBySeatTier:t},e.model)})})},eq=e=>{let{selectedModel:t,conversationUuid:a,onSelect:n,placement:i,hasMultiModalContent:u,open:m,onOpenChange:h,isNewConversation:f}=e,x=!f,{allModelOptions:g,mainModels:y,overflowModels:v}=(0,ey.A9)(),b=(0,ei.Z3)(a||null),j=null!=t?t:b,C=(0,c.useRef)(null),M=(0,p.vP)("paprika_mode"),w=(0,eg.j)(),k=(0,eI.G8)(),{toggleConversationSetting:_}=(0,p.rX)(),A=(0,eN.wc)(),N=(0,K.Ox)(),S=g.find(e=>e.model===j);S||(S=eW);let E=(0,l.fS)("model_selector_enabled"),I=(0,K.h0)(),{selectedTier:T,shouldOverrideFeatureAccess:O,isTierSelectorEnabled:R}=(0,eC.t)(),D=R&&O&&!!T,{setStickyModelPreference:P}=(0,ej.F)(),[z,F]=(0,c.useState)(!1),G=(0,l.fS)("starlight_whisper_meadow_nux"),U=(0,ey.qv)(),Y=e=>{!N(e.model)&&(E||D&&"free"!==T||!eJ(e.model,!1,!I,b,U))&&(M&&!w(e.model)&&_("paprika_mode",null),k(e.model)||_("compass_mode",null),P(e.model),n(e))};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(e_.ms,{className:(0,r.A)("relative"),..."bottom"===i?{side:"top",sideOffset:4}:{side:"bottom",sideOffset:4},align:"end",unstyledTrigger:!0,onCloseAutoFocus:e=>e.preventDefault(),open:m,onOpenChange:e=>{h&&h(e),e||F(!1)},trigger:(0,s.jsx)(d.P.div,{initial:{opacity:0,scale:.6},animate:{opacity:1,scale:1},transition:{type:"spring",stiffness:700,damping:32,mass:.7},className:"overflow-hidden shrink-0 p-1 -m-1",children:(0,s.jsx)(ek.$,{ref:C,variant:"ghost",size:"sm","data-testid":"model-selector-dropdown",append:(0,s.jsx)(ec.biH,{className:"opacity-75"}),children:(0,s.jsx)(eR,{model:S})})}),children:[(0,s.jsx)(eK,{models:y,currentModelOption:S,defaultModel:b,opensInNewChat:x,handleModelSelect:Y,hasMultiModalContent:u}),v.length>0&&((0,L.Fr)()?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(e_.DG,{}),(0,s.jsx)("div",{className:"text-xs text-text-500 pt-2 pb-1 px-2",children:(0,s.jsx)(Z.A,{defaultMessage:"More models",id:"9yxvA9+l6B"})}),(0,s.jsx)(eK,{models:v,currentModelOption:S,defaultModel:b,opensInNewChat:x,handleModelSelect:Y,hasMultiModalContent:u})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(e_.DG,{}),(0,s.jsxs)(e_.MS,{children:[(0,s.jsxs)(e_.Wn,{className:"pl-2 py-1.5 gap-2",children:[(0,s.jsx)("div",{className:"group-hover:text-text-100  text-sm",children:(0,s.jsx)(Z.A,{defaultMessage:"More models",id:"9yxvA9+l6B"})}),(0,s.jsx)(eE.K,{className:"text-text-500 group-hover:text-text-300 mr-1",size:16})]}),(0,s.jsx)(e_.cm,{children:(0,s.jsx)(e_.FV,{sideOffset:4,children:(0,s.jsx)(eK,{models:v,currentModelOption:S,defaultModel:b,opensInNewChat:x,handleModelSelect:Y,hasMultiModalContent:u})})})]})]}))]}),(0,s.jsx)(o.N,{children:(0,s.jsx)(eL,{anchorRef:C,canShowTooltip:G,onDismiss:()=>void 0,onCtaClick:()=>{let e=A[eN.hH];if(e){let t=g.find(t=>t.model===e);t&&Y(t)}},nuxId:"starlight-tooltip-nux",nuxItem:{dateAdded:"2025-10-10",priority:eT.c.HIGH,showAfterOthersDismiss:!1},badgeText:(0,s.jsx)(eM.YX,{id:"silver_mountain_echo"}),title:(0,s.jsx)(eM.YX,{id:"crimson_butterfly_garden"}),ctaLabel:(0,s.jsx)(eM.YX,{id:"amber_forest_whisper"}),modelId:A[eN.hH]})})]})};var eX=a(11739),eZ=a(72446),e$=a(13784),eQ=a(23820),e0=a(3075);let e1=e=>{let{isOpen:t,onClose:a,onConfirm:n,isLoading:l=!1}=e,i=(0,c.useCallback)(e=>{"Enter"!==e.key||l||n()},[n,l]);return(0,c.useEffect)(()=>(t&&window.addEventListener("keydown",i),()=>{window.removeEventListener("keydown",i)}),[t,i]),(0,s.jsxs)(e0.aF,{isOpen:t,onClose:a,title:(0,s.jsx)(Z.A,{defaultMessage:"Want to stop researching?",id:"H+/TRHeeuc"}),children:[(0,s.jsx)("div",{className:"mt-4 mb-6",children:(0,s.jsx)(Z.A,{defaultMessage:"This can’t be undone. If you want to research this topic again, you can ask in this chat or start a new session.",id:"RuV1dagwp6"})}),(0,s.jsxs)(e0.vW,{children:[(0,s.jsx)(ek.$,{variant:"danger",onClick:n,disabled:l,autoFocus:!0,children:(0,s.jsx)(Z.A,{defaultMessage:"Stop research",id:"l3tljn/kXe"})}),(0,s.jsx)(ek.$,{variant:"secondary",onClick:a,children:(0,s.jsx)(Z.A,{defaultMessage:"Keep researching",id:"ODR/0L48DC"})})]})]})},e4=e=>{let{isPromptEmpty:t,files:a,attachments:n,syncSourceUuids:l,conversation:i,onSend:r,onStop:d,isSending:c,isDisabled:u,disabledReason:m,currentCompassTask:p,skipInitialAnimation:h=!1}=e,f=(0,ed.Z)(null==i?void 0:i.id),x=(()=>{if(p)return"researching";if(i){let{isSampling:e,isStoppingSampling:t}=i;if(!f&&e)return t?"stopping":"sampling"}return!t||a.length>0||n.length>0||l.length>0?"drafting":"empty"})();return(0,s.jsx)(o.N,{children:"sampling"===x||"stopping"===x?(0,s.jsx)(e5,{onStop:d,isLoading:"stopping"===x},"stop"):"researching"===x?(0,s.jsx)(e2,{conversationId:null==i?void 0:i.id,taskId:p},"stop_research"):(0,s.jsx)(e3,{isSending:c,isDisabled:u,disabledReason:m,onSend:r,skipInitialAnimation:h},"send")})},e2=e=>{let{conversationId:t,taskId:a}=e,n=(0,G.A)(),[l,i]=(0,c.useState)(!1),{mutate:r,isPending:o}=(0,eI.hs)(t,null!=a?a:""),d=(0,c.useCallback)(()=>{t&&a&&(r(),i(!1))},[t,a,r]),u=(0,c.useCallback)(()=>{i(!0)},[]);return(0,c.useEffect)(()=>{let e=e=>{"Escape"!==e.key||o||i(!0)};return window.addEventListener("keydown",e),()=>{window.removeEventListener("keydown",e)}},[o]),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(eA.Tooltip,{tooltipContent:(0,s.jsx)(Z.A,{defaultMessage:"Stop Claude response",id:"BonFmr6O3r"}),keyboardShortcut:"Esc",children:(0,s.jsx)(ek.$,{variant:"secondary",size:"icon_sm",className:"!rounded-lg",onClick:u,"aria-label":n.formatMessage({defaultMessage:"Stop response",id:"RANC4/S/j1"}),children:o?(0,s.jsx)(eZ.N,{className:"animate-spin",size:18}):(0,s.jsx)(e$.X,{weight:"bold",size:16})})}),(0,s.jsx)(e1,{isOpen:l,onClose:()=>i(!1),onConfirm:d,isLoading:o})]})},e5=e=>{let{onStop:t,isLoading:a}=e,n=(0,G.A)();return(0,c.useEffect)(()=>{let e=e=>{"Escape"!==e.key||a||t()};return window.addEventListener("keydown",e),()=>{window.removeEventListener("keydown",e)}},[t,a]),(0,s.jsx)(eA.Tooltip,{tooltipContent:(0,s.jsx)(Z.A,{defaultMessage:"Stop Claude response",id:"BonFmr6O3r"}),keyboardShortcut:"Esc",children:(0,s.jsx)(ek.$,{variant:"secondary",size:"icon_sm",className:"!rounded-lg",onClick:()=>t(),"aria-label":n.formatMessage({defaultMessage:"Stop response",id:"RANC4/S/j1"}),children:a?(0,s.jsx)(eZ.N,{className:"animate-spin",size:18}):(0,s.jsx)(e$.X,{weight:"bold",size:16})})})},e3=e=>{let{isSending:t,isDisabled:a,disabledReason:n,onSend:l,skipInitialAnimation:i=!1}=e,r=(0,G.A)(),o=(0,c.useCallback)(()=>{(0,eX.R)("event","msg_sent",{location:"chat_input"}),l()},[l]);return(0,s.jsx)(d.P.div,{initial:i?{scale:1,opacity:1}:{scale:.3,opacity:0},animate:{scale:1,opacity:1,transition:{delay:.15,scale:{type:"spring",stiffness:600,damping:30},opacity:{duration:.1}}},children:(0,s.jsx)(eA.Tooltip,{tooltipContent:n,children:(0,s.jsx)("div",{children:(0,s.jsx)(ek.$,{variant:"claude",size:"icon_sm",className:"!rounded-lg !h-8 !w-8",disabled:a,onClick:()=>o(),"aria-label":r.formatMessage({defaultMessage:"Send message",id:"Xx0WZVz8QS"}),children:t?(0,s.jsx)(eZ.N,{className:"animate-spin",weight:"bold",size:16}):(0,s.jsx)(eQ.D,{weight:"bold",size:16})})})})})};var e9=a(52595),e6=a(4244),e8=a(99797),e7=a(73887),te=a(72267),tt=a(59385);let ta=e=>{let{children:t,className:a,collisionPadding:n=10,collisionBoundary:l="clipping-ancestors",...i}=e;return(0,s.jsx)(te.g,{children:(0,s.jsx)(tt.y,{className:(0,r.A)("rounded-xl border-0.5 border-border-200 p-2 min-w-[240px] max-w-[320px]","bg-bg-000 shadow-diffused shadow-[hsl(var(--always-black)/6%)]",a),collisionPadding:n,collisionBoundary:l,...i,children:t})})};var ts=a(61508),tn=a(80425),tl=a(91070),ti=a(46695),tr=a(68404),to=a(60370);let td=["text-sm min-h-8 p-2 cursor-pointer relative flex items-center justify-between gap-4","group","data-[disabled]:cursor-not-allowed data-[disabled]:opacity-50","data-[highlighted]:before:content-[’ ’] data-[highlighted]:before:-z-[1] data-[highlighted]:before:absolute data-[highlighted]:before:inset-0 data-[highlighted]:before:rounded-lg data-[highlighted]:before:bg-bg-200"],tc=e=>{let{className:t,...a}=e;if("separator"===a.type)return(0,s.jsx)(ts.w,{className:(0,r.A)("h-[0.5px] bg-border-300 my-2 mx-2",t)});let{tooltip:n,...l}=a;return n?(0,s.jsx)(eA.Tooltip,{tooltipContent:n,children:(0,s.jsx)(tu,{...l})}):(0,s.jsx)(tu,{...l})},tu=e=>{switch(e.type){case"button":{let{className:t,icon:a,label:n,subtitle:l,suffix:i,...o}=e;return(0,s.jsxs)(tn.D,{...o,className:(0,r.A)(td,t),children:[(0,s.jsx)(tm,{icon:a,label:n,subtitle:l}),(0,s.jsx)(tp,{suffix:i})]})}case"checkbox":{let{className:t,icon:a,label:n,subtitle:l,suffix:i,...o}=e;return(0,s.jsxs)(tl.s,{...o,className:(0,r.A)(td,"data-[checked]:text-accent-secondary-100 transition-colors",t),children:[(0,s.jsx)(tm,{icon:a,label:n,subtitle:l}),i?(0,s.jsx)(tp,{suffix:i}):(0,s.jsx)(ti.F,{className:"ml-auto",children:(0,s.jsx)(ec.Jlk,{})})]})}case"submenu":{let{align:t="end",alignOffset:a=-8,open:n,onOpenChange:l,openOnHover:i,className:o,icon:d,label:c,subtitle:u,suffix:m,items:p,...h}=e;return(0,s.jsxs)(tr.h,{open:n,onOpenChange:l,openOnHover:i,children:[(0,s.jsxs)(to.f,{...h,className:(0,r.A)(td,o),children:[(0,s.jsx)(tm,{icon:d,label:c,subtitle:u}),(0,s.jsxs)("div",{className:"flex items-center gap-2 min-w-0",children:[(0,s.jsx)(tp,{suffix:m}),(0,s.jsx)(ec.K3R,{className:"text-text-500 shrink-0",size:12})]})]}),(0,s.jsx)(ta,{align:t,alignOffset:a,children:(0,s.jsx)(e8._,{children:p.map((e,t)=>(0,s.jsx)(tc,{...e},"".concat(e.label,"-").concat(t)))})})]})}}},tm=e=>{let{icon:t,label:a,subtitle:n}=e;return(0,s.jsxs)("div",{className:"flex items-start gap-2 truncate",children:[t,(0,s.jsxs)("div",{className:"flex flex-col min-w-0 flex-1",children:[(0,s.jsx)("div",{className:"truncate",children:a}),(0,s.jsx)("div",{className:"font-small text-text-500 truncate",children:n})]})]})},tp=e=>{let{suffix:t}=e;return t?(0,s.jsx)("div",{className:"min-w-0 truncate flex items-center",onClick:e=>e.stopPropagation(),onMouseDown:e=>e.stopPropagation(),children:t}):null};var th=a(27541),tf=a(12142),tx=a(84284);let tg=e=>{let{onClick:t,checked:a}=e;return(0,s.jsx)("div",{onClick:e=>{e.stopPropagation(),e.preventDefault(),t(e)},onPointerDown:e=>{e.stopPropagation()},children:(0,s.jsx)(tx.j,{readOnly:!0,height:16,width:28,checked:a})})};var ty=a(45271);let tv=(0,s.jsx)(ec.k0E,{}),tb=e=>{let{enabledCount:t,totalCount:a,onClick:n}=e,l=t===a||0===t;return(0,s.jsx)("div",{className:"inline-flex items-center gap-2",children:l?(0,s.jsx)(tg,{onClick:n,checked:t>0}):(0,s.jsxs)("div",{className:"text-accent-secondary-200 h-5 text-xs bg-bg-400/50 rounded-full px-2 inline-flex items-center gap-1",children:[t,(0,s.jsx)("span",{className:"text-text-500 opacity-70",children:(0,s.jsx)(Z.A,{defaultMessage:"of",id:"C9WGEuJVec"})}),(0,s.jsx)("span",{className:"text-text-500 opacity-70",children:a})]})})};var tj=a(9398);let tC=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,G.A)();return(0,c.useMemo)(()=>({disabled:!0,tooltip:t.formatMessage({defaultMessage:"Select a different model to use this feature",id:"/9vSDy2Wm0"}),...e}),[t,e])},tM=e=>{let{text:t}=e;return t?(0,s.jsx)("span",{className:"flex-initial text-right shrink font-base text-accent-secondary-100 text-ellipsis break-words whitespace-nowrap min-w-0 overflow-hidden",children:t}):null};var tw=a(54671),tk=a(97208),t_=a(65016);let tA=(0,s.jsx)(tj.ft,{size:16}),tN=(0,s.jsx)(tj.HI,{size:16}),tS=(0,s.jsx)(tj.kw,{size:16}),tE="inputMenu",tI=e=>{let{overrideCopy:t}=e,a=(0,G.A)();return(0,s.jsx)("div",{className:"opacity-0 group-hover:opacity-100 transition-opacity text-xs text-accent-secondary-100 font-[430]",children:t||a.formatMessage({defaultMessage:"Connect",id:"+vVZ/G11Zg"})})},tT=(0,s.jsx)(ec.aRR,{});ec.wB_;var tO=a(36016);let tR=(0,s.jsx)(tj.A9,{type:X.v8.GITHUB,size:20}),tD=(0,s.jsx)(tj.A9,{type:X.v8.GDRIVE,size:16}),tP=(0,s.jsx)(tj.A9,{type:X.v8.GDRIVE,variant:tj.UF.DOCS,size:16});var tz=a(96547);let tF=(0,s.jsx)(ec.ryu,{size:16}),tL=(0,s.jsx)(ec.ZHH,{size:16});var tG=a(45538),tU=a(22624),tY=a(17044);let tH=(0,s.jsx)(ec.JtL,{}),tV=(0,s.jsx)(ec.OMN,{}),tW=(0,s.jsx)(ec.dcV,{});var tJ=a(11930),tB=a(4114),tK=a(88801);let tq=(0,s.jsx)(ec.P_O,{}),tX=(0,s.jsx)(ec.OMN,{});var tZ=a(29847);let t$=(0,s.jsx)(ec.o3O,{}),tQ=()=>{let{shortcutString:e}=(0,eo.wk)("file_upload");return(0,s.jsx)("p",{className:"opacity-0 group-hover:opacity-100 transition-opacity text-xs text-text-500",children:e})};var t0=a(35391);let t1=(0,s.jsx)(ec.qzq,{}),t4=e=>{let{trigger:t,chatInputPlacement:a}=e,n=(0,c.useCallback)(e=>t||(0,s.jsx)(t5,{...e}),[t]);return(0,s.jsxs)(e9.i,{children:[(0,s.jsx)(e6.c,{render:n}),(0,s.jsx)(ta,{align:"start",alignOffset:-15.5,side:"top",sideOffset:-1,children:(0,s.jsxs)(e8._,{children:[(0,s.jsx)(e7.J,{}),(0,s.jsx)(t2,{chatInputPlacement:a})]})})]})},t2=e=>{let{chatInputPlacement:t}=e,a=(e=>{let{placement:t}=e,a=(e=>{let t=(0,G.A)(),a=(0,c.useCallback)(()=>(0,tZ.U)(e),[e]);return(0,c.useMemo)(()=>({type:"button",label:t.formatMessage({defaultMessage:"Add files or photos",id:"0S+iNJivmx"}),icon:t$,onClick:a,suffix:(0,s.jsx)(tQ,{})}),[t,a])})(t),n=(()=>{let e=(0,G.A)(),t=(()=>{let{addError:e}=(0,q.Y)(),{setIsUploadingDriveSync:t}=(0,W.fT)(),{setSyncSourceUuids:a}=(0,W.lE)(),{mutate:s}=(0,u.EF)({onMutate:()=>{t(!0)},onSuccess:e=>{t(!1),a(t=>[...t,e.uuid])},onError:a=>{t(!1),e((0,es.J)(a),{error:a,errorContext:{tags:{source:"chat_input_drive_sync_create"}}})},meta:{noToast:!0}});return e=>s({sync_source_type:X.v8.GDRIVE,sync_source_config:{uri:e}})})(),a=(0,Q.LP)(),{isDriveAuthenticated:s}=(0,Q.cI)(),{recentDriveDocs:n,isLoading:l}=(0,Q.zH)(!0),i=(0,c.useMemo)(()=>({icon:tD,label:e.formatMessage({defaultMessage:"Add from {drive}",id:"hwJ50OkM/9"},{drive:"Google Drive"})}),[e]),r=(0,c.useMemo)(()=>l?[{type:"button",label:e.formatMessage({defaultMessage:"{drive} documents loading...",id:"PjuSZ/7RIb"},{drive:"Drive"}),disabled:!0}]:n.length?n.slice(0,8).map(e=>{var a;return{type:"button",label:null!=(a=e.title)?a:"Untitled",icon:tP,onClick:()=>t(e.uri)}}):[{type:"button",label:e.formatMessage({defaultMessage:"No recent {drive} documents",id:"XepM9W1Mo/"},{drive:"Drive"}),disabled:!0}],[t,e,l,n]);return(0,c.useMemo)(()=>a&&s?{...i,type:"submenu",items:r,align:"start"}:null,[i,s,a,r])})(),l=(()=>{let e=(0,G.A)(),t=(0,tO.Cq)(),{isGithubAuthenticated:a}=(0,tO.nB)(),{setGithubModalIsOpen:s}=(0,tw.CH)(),n=(0,c.useCallback)(()=>{s(!0)},[s]);return(0,c.useMemo)(()=>t&&a?{type:"button",icon:tR,label:e.formatMessage({defaultMessage:"Add from {github}",id:"h3J3E4bRfj"},{github:"GitHub"}),onClick:n}:null,[e,a,n,t])})(),i=(()=>{let e=(0,G.A)(),t=(0,en.Uz)({isConnected:!0,hasPromptsOrResources:!0}),a=(0,tz.R4)(),n=(0,tz.vW)(),{setCreatePromptArgumentModalIsOpen:l}=(0,tw.CH)(),i=(0,c.useCallback)((e,t)=>{l({isOpen:!0,serverUuid:e,prompt:t})},[l]);return(0,c.useMemo)(()=>t.map(t=>{let l=t.prompts.map(e=>({type:"button",icon:tF,label:e.displayName,onClick:()=>{var a;return(null==(a=e.arguments)?void 0:a.length)?i(t.uuid,e):void n({serverUuid:t.uuid,prompt:e,args:{}})}})),r=t.resources.map(e=>({type:"button",icon:tL,label:e.displayName,onClick:()=>void a({serverUuid:t.uuid,resource:e})}));return{type:"submenu",label:e.formatMessage({defaultMessage:"Add from {server}",id:"qEj6u51OfR"},{server:t.name}),icon:(0,s.jsx)("div",{className:"flex justify-center items-center size-5",children:(0,s.jsx)(ty.z,{size:16,type:t.iconType,src:t.iconSrc,name:t.name})}),items:[...l,...r]}}),[n,a,e,i,t])})(),r=(()=>{let e,t=(0,G.A)(),{setModel:a,conversation:s,model:n}=(0,v.oM)(),l=(0,p.vP)("compass_mode"),i=(0,eI.g7)(),r=(0,eI.BU)(),o=null!=s?s:void 0,d=(0,eI.Gm)(o),u=(0,ei.Z3)((null==s?void 0:s.id)||null),m=null!=n?n:u,h=(0,eI.G8)()(m),f=(0,eI.G8)()(u),{toggleResearchMode:x,canAutoEnableWebSearch:g}=(0,t_.D$)(o),y=(0,tk.lS)(),b=!s&&!h&&f,j="advanced"===l,C=(0,c.useMemo)(()=>t.formatMessage({defaultMessage:"Research",id:"JEe7dVso7F"}),[t]),M=(0,c.useMemo)(()=>t.formatMessage({defaultMessage:"Your administrator must enable a search tool to use research",id:"CzjOV5rgPZ"}),[t]),w=(0,c.useMemo)(()=>t.formatMessage({defaultMessage:"Enable a search integration to use research",id:"WyiVeak7w5"}),[t]),k=!1,_=!1;y?(k=!0,e="Coming soon"):r?d||g?h||b||(_=!0):(k=!0,e=w):(k=!0,e=M);let A=(0,c.useCallback)(()=>{_||(b&&a(u),x(!j))},[j,u,a,b,x,_]),N=tC({checked:!1});return(0,c.useMemo)(()=>i?{type:"checkbox",label:C,icon:tW,checked:j,disabled:k,tooltip:e,onClick:A,..._?{...N,checked:!1}:{}}:null,[i,C,j,k,e,A,_,N])})(),o=(()=>{let e,t,a=(0,G.A)(),n=(0,th.useRouter)(),{conversation:l,model:i}=(0,v.oM)(),r=(0,ei.Z3)((null==l?void 0:l.id)||null),o=(0,tk.Ob)(),d=(0,t0.Eu)(null!=i?i:r),u=(0,t0.be)(),m=(0,t0.WJ)(),p=(0,t0.fy)(l),{toggleSearchTool:h}=(0,t_.D$)(l),f=tC(),x=!u&&o,g=p&&d,y=!1,b=!1;x?(g=!1,t=(0,s.jsx)(eO.M,{})):m?d||(b=!0):(y=!0,e=a.formatMessage({defaultMessage:"This feature has been disabled by your administrator.",id:"Jpvq2WYysx"}));let j=(0,c.useCallback)(()=>{if(x)return n.push("/upgrade");h("enabled_web_search",!g)},[g,n,x,h]),C=!u&&!o;return(0,c.useMemo)(()=>C?null:{type:"checkbox",label:a.formatMessage({defaultMessage:"Web search",id:"x0W7xxxEcv"}),icon:t1,checked:g,disabled:y,onClick:j,tooltip:e,suffix:t,...b?f:{}},[g,y,C,f,a,b,j,t,e])})(),d=(()=>{let e=(0,th.useRouter)(),t=(0,G.A)(),{connectedSearchOptions:a}=(()=>{let{model:e}=(0,W.TQ)(),{conversation:t}=(0,W.lE)(),a=(0,ei.Z3)((null==t?void 0:t.id)||null),n=null!=e?e:a,l=(0,tk.lS)(),i=(e=>{let{currentModel:t}=e,a=(0,G.A)(),n=(0,th.useRouter)(),{conversation:l}=(0,W.lE)(),i=(0,tk.Ob)(),{toggleSearchTool:r,toggleConversationSetting:o}=(0,t_.D$)(l),d=(0,Q.K6)(),c=(0,ey.Wq)()(t,"gsuite_tools"),u=(0,Q.$f)(l),{isDriveAuthenticated:m,initDriveAuth:p}=(0,Q.cI)({callerIdentifier:tE,handleAuthSuccess:()=>{o("enabled_bananagrams",!0)}}),h=(0,et.kO)(),f=(0,et.dJ)(X.v8.GDRIVE),{startAuth:x,authBreakdown:g}=(0,et.ob)(X.v8.GDRIVE,{callerIdentifier:tE,handleAuthSuccess:()=>{o("enabled_foccacia",!0)}}),y=tC();if(h&&f&&m||h&&!f||f&&!g.firstParty||!d&&!i)return null;let v={icon:tA,label:a.formatMessage({defaultMessage:"{drive} search",id:"nUykp097rV"},{drive:"Drive"})};if(!d&&i)return{item:{...v,type:"button",suffix:(0,s.jsx)(eO.M,{}),onClick:()=>{n.push("/upgrade")}},isConnected:!1};if(!m){let e=a.formatMessage({defaultMessage:"Connect",id:"+vVZ/G11Zg"}),t=a.formatMessage({defaultMessage:"Reconnect",id:"Eg11ZYmdyO"});return{isConnected:!1,item:{...v,type:"button",suffix:(0,s.jsx)(tI,{overrideCopy:h?t:e}),onClick:()=>p(),...h?{tooltip:a.formatMessage({defaultMessage:"Sign back into Google to use our improved connectors",id:"NHTRwY1ogC"})}:{},...c?null:y}}}let b=m&&u;return{isConnected:!0,item:{...v,type:"button",suffix:(0,s.jsx)(tg,{checked:b,onClick:()=>{r("enabled_bananagrams",!b)}}),onClick:()=>{r("enabled_bananagrams",!b)},closeOnClick:!1,...c?null:y}}})({currentModel:n}),r=(e=>{let{currentModel:t}=e,a=(0,G.A)(),n=(0,th.useRouter)(),{setGmailAuthModalIsOpen:l}=(0,tw.CH)(),{conversation:i}=(0,W.lE)(),r=(0,tk.Ob)(),{toggleSearchTool:o,toggleConversationSetting:d}=(0,t_.D$)(i),u=(0,et.Ys)(X.v8.GMAIL),m=(0,ey.Wq)()(t,"gsuite_tools"),p=(0,et.X0)(X.v8.GMAIL,i),h=tC(),f=(0,et.vm)(),x=(0,et.dJ)(X.v8.GMAIL),{isAuthenticated:g,startAuth:y,authBreakdown:v}=(0,et.ob)(X.v8.GMAIL,{callerIdentifier:tE,handleAuthSuccess:()=>{d("enabled_sourdough",!0)}}),b=(0,c.useCallback)(()=>{l(!0)},[l]);if(f&&x&&g||f&&!x||f&&!v.firstParty||!u&&!r)return null;let j=a.formatMessage({defaultMessage:"Gmail search",id:"v0qteoUCm+"}),C=a.formatMessage({defaultMessage:"Gmail",id:"2hslSeuDXe"}),M={label:f?C:j,icon:tS};if(!u&&r)return{item:{...M,type:"button",suffix:(0,s.jsx)(eO.M,{}),onClick:()=>{n.push("/upgrade")}},isConnected:!1};if(!g){let e=a.formatMessage({defaultMessage:"Connect",id:"+vVZ/G11Zg"}),t=a.formatMessage({defaultMessage:"Reconnect",id:"Eg11ZYmdyO"});return{isConnected:!1,item:{...M,type:"button",suffix:(0,s.jsx)(tI,{overrideCopy:f?t:e}),onClick:()=>{f?y():b()},...f?{tooltip:a.formatMessage({defaultMessage:"Sign back into Google to use our improved connectors",id:"NHTRwY1ogC"})}:{},...m?null:h}}}let w=g&&p;return{isConnected:!0,item:{...M,type:"button",suffix:(0,s.jsx)(tg,{checked:w,onClick:()=>{o("enabled_sourdough",!w)}}),onClick:()=>{o("enabled_sourdough",!w)},closeOnClick:!1,...m?null:h}}})({currentModel:n}),o=(e=>{let{currentModel:t}=e,a=(0,G.A)(),n=(0,th.useRouter)(),{conversation:l}=(0,W.lE)(),i=(0,tk.Ob)(),{toggleSearchTool:r,toggleConversationSetting:o}=(0,t_.D$)(l),d=(0,et.Ys)(X.v8.GCAL),c=(0,ey.Wq)()(t,"gsuite_tools"),u=(0,et.X0)(X.v8.GCAL,l),m=(0,et.vm)(),p=(0,et.dJ)(X.v8.GCAL),{isAuthenticated:h,startAuth:f,authBreakdown:x}=(0,et.ob)(X.v8.GCAL,{callerIdentifier:tE,handleAuthSuccess:()=>{o("enabled_foccacia",!0)}}),g=tC();if(m&&p&&h||m&&!p||m&&!x.firstParty||!d&&!i)return null;let y=a.formatMessage({defaultMessage:"Calendar search",id:"b7aUhdL5nd"}),v=a.formatMessage({defaultMessage:"Google Calendar",id:"kjenxGoM59"}),b={label:m?v:y,icon:tN};if(!d&&i)return{item:{...b,type:"button",suffix:(0,s.jsx)(eO.M,{}),onClick:()=>{n.push("/upgrade")}},isConnected:!1};if(!h){let e=a.formatMessage({defaultMessage:"Connect",id:"+vVZ/G11Zg"}),t=a.formatMessage({defaultMessage:"Reconnect",id:"Eg11ZYmdyO"});return{isConnected:!1,item:{...b,type:"button",suffix:(0,s.jsx)(tI,{overrideCopy:m?t:e}),onClick:()=>f(),...m?{tooltip:a.formatMessage({defaultMessage:"Sign back into Google to use our improved connectors",id:"NHTRwY1ogC"})}:{},...c?null:g}}}let j=h&&u;return{isConnected:!0,item:{...b,type:"button",suffix:(0,s.jsx)(tg,{checked:j,onClick:()=>{r("enabled_foccacia",!j)}}),onClick:()=>{r("enabled_foccacia",!j)},closeOnClick:!1,...c?null:g}}})({currentModel:n});return(0,c.useMemo)(()=>{if(l)return{connectedSearchOptions:[],disconnectedSearchOptions:[]};let e=[],t=[];return i&&(i.isConnected?e.push(i.item):t.push(i.item)),o&&(o.isConnected?e.push(o.item):t.push(o.item)),r&&(r.isConnected?e.push(r.item):t.push(r.item)),{connectedSearchOptions:e,disconnectedSearchOptions:t}},[i,o,r,l])})(),{connectedServers:n}=(()=>{var e;let t=(0,G.A)(),a=null!=(e=(0,p.vP)("enabled_mcp_tools"))?e:{},n=(0,tf.Q)(),l=(0,en.Uz)({isConnecting:!1,isConnected:!0}),{toggleMcpToolEnabled:i}=(0,ee.es)(),r=[],o=[];return l.forEach(e=>{let l={label:e.name,icon:(0,s.jsx)(ty.z,{size:16,type:e.iconType,src:e.iconSrc,name:e.name})};if(!e.isConnected)return void o.push({...l,type:"button",suffix:t.formatMessage({defaultMessage:"Connect",id:"+vVZ/G11Zg"}),onClick:()=>n({uuid:e.uuid,url:e.url})});let d=e.tools.map(t=>{let n=t.enabledKey,l=!1!==a[n];return{type:"checkbox",label:t.displayName,icon:(0,s.jsx)(ty.z,{size:16,type:e.iconType,src:e.iconSrc,name:e.name}),checked:l,onClick:()=>i(n,!l,e.url)}}),c=d.filter(e=>e.checked).length,u=c>0,m=e.tools.length,p=[];d.length>1&&p.push({type:"button",label:u?t.formatMessage({defaultMessage:"Disable all tools",id:"8A9N39nihk"}):t.formatMessage({defaultMessage:"Enable all tools",id:"x4/g36jIjW"}),onClick:()=>{i(e.tools.map(e=>e.enabledKey),!u,e.url)},closeOnClick:!1},{type:"separator",label:"server-tools-separator"}),p.push(...d),0===p.length&&p.push({type:"button",label:t.formatMessage({defaultMessage:"No tools available",id:"+XSkrzcF/0"}),icon:tv,disabled:!0}),r.push({...l,type:"submenu",suffix:(0,s.jsx)(tb,{enabledCount:c,totalCount:m,onClick:()=>{i(e.tools.map(e=>e.enabledKey),!u,e.url)}}),items:p,openOnHover:!1})}),{connectedServers:r,disconnectedServers:o}})(),l=(0,c.useCallback)(()=>{e.push("/settings/connectors")},[e]);return(0,c.useMemo)(()=>({type:"button",label:a.length>0||n.length>0?t.formatMessage({defaultMessage:"Manage connectors",id:"cqx+RdJnHp"}):t.formatMessage({defaultMessage:"Connectors",id:"2mMJRvsAg1"}),icon:tT,onClick:l}),[a.length,n.length,t,l])})(),m=(()=>{let e=(0,G.A)(),t=(0,W.QN)(),{isProjectLocked:a}=(0,W.Jy)(e=>({isProjectLocked:e.isProjectLocked})),n=(0,tU.K)(),{data:l=[]}=(0,tG.CB)({enabled:n,creatorFilter:"is_creator",limit:8}),{data:i=[]}=(0,tG.CB)({enabled:n,creatorFilter:"is_not_creator",limit:8}),r=(0,c.useMemo)(()=>[...l,...i],[l,i]),{data:o}=(0,tG.fo)(t),d=(()=>{let{projectUuid:e,conversation:t}=(0,W.lE)(),a=(0,W.EL)(),{moveToProject:s}=(0,tY.j)(),{removeFromProject:n}=(0,tG.nl)();return(0,c.useCallback)(async(l,i)=>{e===l?(null==t?void 0:t.id)?await n([t.id],{showSuccess:!1}):a(void 0):(null==t?void 0:t.id)&&l?await s([t.id],l,i,{enableNavigation:!0}):a(l)},[null==t?void 0:t.id,s,e,n,a])})(),{setCreateProjectModalIsOpen:u}=(0,tw.CH)(),m=e.formatMessage({defaultMessage:"Add to project",id:"+mqxxzVczn"});return(0,c.useMemo)(()=>{if(a||!n)return null;let l=(null==r?void 0:r.slice(0,8).map(e=>({type:"checkbox",label:e.name,subtitle:e.creator.full_name,onClick:()=>void d(e.uuid,e.name),icon:tH,checked:e.uuid===t})))||[];return{type:"submenu",icon:tH,label:m,suffix:(0,s.jsx)(tM,{text:null==o?void 0:o.name}),items:[...l,{type:"separator",label:"projects-separator"},{type:"button",variant:"primary",icon:tV,label:e.formatMessage({defaultMessage:"Start a new project",id:"0y7bg6nA29"}),onClick:()=>u({isOpen:!0,moveAttachments:!1})}]}},[a,n,r,m,null==o?void 0:o.name,e,t,d,u])})(),h=(()=>{let e=(0,G.A)(),{personalizedStyle:t}=(0,W.RK)(),a=(()=>{let e=(0,G.A)(),t=(0,eD.st)(),{personalizedStyle:a,setPersonalizedStyle:s}=(0,W.RK)(),{personalizedStyleOptions:n,setStoredStyle:l}=(0,tB.p)(),{setStyleModalOpenWithScreen:i}=(0,tw.CH)(),r=(0,c.useCallback)(e=>{let a=n.find(t=>t.key===e);if(!a)return;s(a);let i=(0,tK.X)(a);l({styleKey:i,timestamp:new Date}),t.track({event_key:"styles.selected",style_key:i})},[t,n,s,l]),o=(0,c.useCallback)(()=>{i(tJ.I.LIST)},[i]),d=(0,c.useMemo)(()=>n.map(t=>{let s=(null==a?void 0:a.key)===t.key;return{type:"checkbox",label:"default"===t.type&&t.nameKey?(0,eM.fl)({id:t.nameKey,intl:e}):t.name,icon:tq,onClick:()=>{s?r("Default"):r(t.key)},checked:s}}),[r,e,a,n]);return(0,c.useMemo)(()=>[...d,{type:"separator",label:"styles-separator"},{type:"button",icon:tX,label:e.formatMessage({defaultMessage:"Create & edit styles",id:"cY+Fgc8HvE"}),onClick:o}],[e,o,d])})(),n=e.formatMessage({defaultMessage:"Use style",id:"f7VY0ldE+0"});return(0,c.useMemo)(()=>({type:"submenu",icon:tq,label:n,suffix:(null==t?void 0:t.isDefault)?void 0:(0,s.jsx)(tM,{text:null==t?void 0:t.name}),items:a}),[n,null==t?void 0:t.isDefault,null==t?void 0:t.name,a])})();return(0,c.useMemo)(()=>[a,...m?[m]:[],...n?[n]:[],...l?[l]:[],...i.length>0?i:[],{type:"separator",label:"separator-1"},...r?[r]:[],...o?[o]:[],...h?[h]:[],...d?[d]:[]],[a,m,n,l,i,r,o,d,h])})({placement:t});return(0,s.jsx)(s.Fragment,{children:a.map(e=>(0,s.jsx)(tc,{...e},e.label))})},t5=e=>{let t=(0,G.A)();return(0,s.jsx)(ek.$,{...e,"aria-label":t.formatMessage({defaultMessage:"Toggle menu",id:"NuF5YcKWhi"}),className:"border border-0.5 !border-border-300 !rounded-lg",size:"icon_sm",variant:"ghost",children:(0,s.jsx)(ec.OMN,{})})};var t3=a(1720),t9=a(95617),t6=a(90215),t8=a(3424);let t7=e=>{let{remaining:t,total:a}=e;return(0,s.jsxs)("span",{className:"inline-flex items-center gap-0.5 text-accent-secondary-100 bg-bg-000 border-0.5 border-border-300 rounded-full px-2 py-0.5 text-xs ml-1",children:[(0,s.jsx)("span",{children:t}),(0,s.jsx)("span",{children:"/"}),(0,s.jsx)("span",{children:a})]})};var ae=a(785),at=a(98304),aa=a(85705);let as=c.forwardRef((e,t)=>{let{indicatorActive:a,disabled:n,text:l,tag:i,className:o,buttonClassName:c,tooltip:u,tooltipShortcut:m,hideIndicatorText:p,icon:h,showRemoveIcon:f,showCaretIcon:x,limitInfo:g,...y}=e,v=g?(0,s.jsxs)("div",{className:"flex items-center gap-1",children:[h,(0,s.jsx)(t7,{remaining:g.remaining,total:g.total})]}):h,b=(0,s.jsx)(d.P.div,{className:(0,r.A)("flex",l?"shrink min-w-8":"shrink-0",o),initial:{opacity:0,scale:.6},animate:{opacity:1,scale:1},transition:{type:"spring",stiffness:700,damping:32,mass:.7},children:(0,s.jsxs)("button",{className:(0,r.A)("border-0.5 transition-all h-8 min-w-8 rounded-lg flex items-center px-[7.5px] group !pointer-events-auto !outline-offset-1",a?"text-accent-secondary-100 bg-accent-secondary-100/[8%] border-accent-secondary-200/20":"text-text-300 border-border-300",!n&&(a?"active:scale-[0.98] hover:text-accent-secondary-000 hover:bg-accent-secondary-100/[12%]":"active:scale-[0.98] hover:text-text-200/90 hover:bg-bg-100"),n&&"opacity-50 cursor-not-allowed",c),disabled:n,"aria-pressed":a,...y,children:[v,!!l&&!p&&(0,s.jsxs)("div",{className:"min-w-0 flex items-center",children:[(0,s.jsx)("p",{className:"min-w-0 pl-1 text-xs text-ellipsis whitespace-nowrap break-words overflow-hidden shrink",children:l}),!!i&&(0,s.jsx)(aa.u,{tag:i,className:"!top-0 !ml-1"})]}),x&&(0,s.jsx)(ae.a,{size:12,className:"ml-1 opacity-70"}),!n&&f&&(0,s.jsx)("div",{className:"duration-100 w-0 group-hover:w-3 opacity-0 group-hover:opacity-70 transition-all ml-0 group-hover:ml-1",children:(0,s.jsx)(at.X,{size:12})})]})});return(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(eA.Tooltip,{tooltipContent:u,disableHoverableContent:!0,side:"bottom",align:"center",keyboardShortcut:m,children:b})})});as.displayName="InputMenuButton";let an=e=>{let{menuItem:t,handleClick:a,limitInfo:n,disabled:l,...i}=e,{handleClickItem:r}=(0,tw.CH)();if(!t||t.isDisabled||"pro"===t.tag||"new chat"===t.tag||!t.indicatorActive)return null;let{indicatorActive:o}=t,d=l||!!t.menuItemHidden,c=n?(0,s.jsxs)("div",{className:"flex items-center gap-1",children:[i.icon,(0,s.jsx)(t7,{remaining:n.remaining,total:n.total})]}):i.icon;return(0,s.jsx)(as,{onClick:null!=a?a:()=>r(t),indicatorActive:o,disabled:d,showRemoveIcon:!0,...i,icon:c})},al=e=>{let{hideIndicatorText:t,hideIndicators:a}=e,n=(0,G.A)();return a?null:(0,s.jsx)(t6.o,{children:(0,s.jsxs)("div",{className:"flex flex-row items-center gap-2 min-w-0",children:[(0,s.jsx)(ai,{itemKey:t9.xd.COMPASS,tooltip:n.formatMessage({defaultMessage:"Research mode",id:"lYf0AUt2RH"})}),(0,s.jsx)(ar,{hideIndicatorText:t}),(0,s.jsx)(ao,{hideIndicatorText:t})]})})},ai=e=>{let{itemKey:t,tooltip:a}=e,{menuView:{rootItems:n}}=(0,tw.CH)(),{menuView:{rootItems:l}}=(0,tw.tl)(),i=[...n,...l].find(e=>e.key===t);return i?(0,s.jsx)(an,{hideIndicatorText:!0,menuItem:i,icon:i.icon,tooltip:a}):null},ar=e=>{let{hideIndicatorText:t}=e,{menuView:{rootItems:a}}=(0,tw.tl)(),n=(0,t8.pi)(),l=a.find(e=>"styles"===e.key);return l&&"optionGroup"===l.type?(0,s.jsx)(an,{hideIndicatorText:t,menuItem:l,icon:(0,s.jsx)(ec.P_O,{size:16}),text:l.secondaryText,buttonClassName:"!shrink",handleClick:()=>n("Default")}):null},ao=e=>{let{hideIndicatorText:t}=e,{menuView:{rootItems:a}}=(0,tw.CH)(),n=(0,W.QN)(),{conversation:l,setProjectUuid:i,isProjectLocked:r,isNewConversation:o}=(0,v.oM)(),{removeFromProject:d,isRemovingConversation:c}=(0,tG.nl)(),u=a.find(e=>e.key===t9.xd.PROJECTS);if(!u||"optionGroup"!==u.type||r&&o)return null;let m=null!=l&&!!l.id&&c(l.id),p=async()=>{n&&!m&&((null==l?void 0:l.id)?await d([l.id]):i(void 0))};return(0,s.jsx)(an,{"data-testid":"projects-indicator",hideIndicatorText:t,menuItem:u,icon:m?(0,s.jsx)(t3.Loading,{size:"sm",inheritColor:!0}):(0,s.jsx)(ec.JtL,{size:16}),text:u.secondaryText,buttonClassName:"!shrink-[2]",handleClick:()=>p(),disabled:m})},ad=e=>{let{style:t,children:a,duration:n=200,delay:l=0,easing:i="ease-in-out",className:r="",onTransitionEnd:o=()=>void 0}=e,d=(0,c.useRef)(null),[u,m]=(0,c.useState)("auto"),p=(0,c.useRef)(null);return(0,c.useEffect)(()=>{if(d.current)return p.current=new ResizeObserver(e=>{for(let t of e){let e=t.contentRect.height;m("".concat(e,"px"))}}),p.current.observe(d.current),()=>{p.current&&p.current.disconnect()}},[]),(0,s.jsx)("div",{style:{height:u,transitionDelay:"".concat(l,"ms"),transitionTimingFunction:i,transitionDuration:"".concat(n,"ms"),transitionProperty:"height",...t},className:r,onTransitionEnd:()=>{o()},children:(0,s.jsx)("div",{className:"w-full",ref:d,children:a})})};var ac=a(16256),au=a(89835),am=a(15912),ap=a(23384),ah=a(85524);let af=e=>{let{path:t}=e,a={drive:(0,G.A)().formatMessage({defaultMessage:"Paste a Drive link in the chat to upload it",id:"ZJxjEilF0C"})},n=t&&t in a?a[t]:null;return n?(0,s.jsxs)("div",{className:"w-full bg-bg-100 border-t-0.5 border-border-300 opacity-80 text-text-500 flex flex-row items-center gap-2.5 px-3 py-1 font-small",children:[(0,s.jsx)(ah.R,{size:14}),n]}):null};var ax=a(19920),ag=a(16),ay=a(26982);let av=e=>{let{tooltip:t,text:a,tag:n,showCaretIcon:l,indicatorActive:i=!1,hideIndicatorText:r,canShowDot:o,onDoubleClick:u,menuType:m,menuView:p,inputMenuIsOpen:h,setInputMenuIsOpen:f,disabled:x,disabledTooltip:g}=e,y=(0,G.A)(),v=(0,c.useRef)(null),{rootItems:b}=p,j={indicatorActive:i,text:a||"",tooltip:t},C=(0,tk.gB)(),M="tools"===m&&C;if(x&&g)j.tooltip=g;else if(M){j.tooltip=y.formatMessage({defaultMessage:"Style",id:"7mL9QEUFav"});let e=b.find(e=>"option"===e.type&&e.isChecked);e&&"Default"!==e.key&&(j.indicatorActive=!0,j.text=e.label)}let w=b.filter(e=>{let{indicatorActive:t}=e;return t}).length,k=(0,s.jsxs)("div",{className:"flex flex-row items-center justify-center gap-1",children:["plus"===m?(0,s.jsx)(d.P.div,{animate:{rotate:45*!!h},transition:{type:"spring",stiffness:650,damping:32,duration:.1},children:(0,s.jsx)(ag.F,{size:16})}):"research"===m?(0,s.jsx)(ec.isz,{size:16}):M?(0,s.jsx)(ec.P_O,{size:16}):(0,s.jsx)(ay.l,{size:16}),(0,s.jsx)(ab,{isShown:o&&w>0})]}),_="plus"===m?y.formatMessage({defaultMessage:"attachments",id:"whkEDsy4V6",description:"Menu heading that will be used within the string ‘Open {menuType} menu’"}):"research"===m?y.formatMessage({defaultMessage:"research",id:"PUcnDUZD0/",description:"Menu heading that will be used within the string ‘Open {menuType} menu’"}):M?y.formatMessage({defaultMessage:"styles",id:"G91kUvt+GD",description:"Menu heading that will be used within the string ‘Open {menuType} menu’"}):y.formatMessage({defaultMessage:"tools",id:"yd3KUET1r+",description:"Menu heading that will be used within the string ‘Open {menuType} menu’"});return(0,s.jsx)("div",{className:"flex items-center",children:(0,s.jsx)(as,{disabled:x,tag:n,showCaretIcon:l,hideIndicatorText:!!r,icon:k,id:"input-".concat(m,"-menu-trigger"),ref:v,onClick:()=>{f(!h)},onKeyDown:e=>{h||"Space"!==e.code&&"ArrowDown"!==e.code||f(!0)},onDoubleClick:u?e=>{e.preventDefault(),null==u||u()}:void 0,"aria-expanded":h,"aria-haspopup":"listbox","aria-controls":"input-menu","data-testid":"input-menu-".concat(m),"aria-label":y.formatMessage({defaultMessage:"Open {menuType} menu",id:"Larie1pvYJ"},{menuType:_}),...j})})},ab=e=>{let{isShown:t}=e;return!!t&&(0,s.jsx)(d.P.div,{initial:{width:0,opacity:0},animate:{width:"auto",opacity:1},children:(0,s.jsx)("div",{className:"h-1.5 w-1.5 bg-accent-secondary-200 rounded-full mr-0.5"})})};var aj=a(81023);let aC={forward:{initial:{x:"20%",opacity:0},animate:{x:0,opacity:1}},back:{initial:{x:"-20%",opacity:0},animate:{x:0,opacity:1}},none:{initial:{x:0},animate:{x:0}}},aM=e=>{let{placement:t,canShowDot:a}=e,n=(0,c.useRef)(null),i=(0,G.A)(),r=(0,tw.tl)(),o=(0,ee.AY)(),d=(0,ee.M8)(),u=(0,eI.g7)(),m=(0,l.fS)("claudeai_research_button_moved_nux_enabled");return(0,s.jsxs)("div",{ref:n,children:[(0,s.jsx)(a_,{canShowDot:a,placement:t,menuType:"tools",...r,tooltip:i.formatMessage({defaultMessage:"Search and tools",id:"lhFEU+uT6i"})}),(0,s.jsx)(am.V,{canShowNux:d,anchorRef:n,side:"bottom",text:i.formatMessage({defaultMessage:"Add your everyday tools and apps to get the best out of Claude",id:"olaMSdwPL6"}),id:"research-rmcp-tools-nux-1",nuxItem:{dateAdded:"2025-05-14",priority:eT.c.HIGH,showAfterOthersDismiss:!0}}),(0,s.jsx)(am.V,{canShowNux:o,anchorRef:n,side:"bottom",text:i.formatMessage({defaultMessage:"MCP is here now! Access integrations in this menu.",id:"NkJar0wFk+"}),id:"mcp-tools-nux-1",nuxItem:{dateAdded:"2025-04-29",priority:eT.c.HIGH,showAfterOthersDismiss:!0}}),(0,s.jsx)(am.V,{canShowNux:m&&u,anchorRef:n,side:"bottom",align:"start",text:i.formatMessage({defaultMessage:"Research moved to a new spot",id:"8jLw1VEgKA"}),id:"research-moved-nux",nuxItem:{dateAdded:"2025-10-02",priority:eT.c.MEDIUM,showAfterOthersDismiss:!1}})]})},aw=e=>{let{placement:t,canShowDot:a}=e,n=(0,tw.CH)(),l=(0,tk.lS)();return(0,s.jsx)(a_,{placement:t,menuType:"plus",canShowDot:a,disabled:l,disabledTooltip:l?"Coming soon":void 0,...n})},ak={id:"mcp-add-connectors-nux",nuxItem:{dateAdded:"2025-07-11",priority:eT.c.HIGH,showAfterOthersDismiss:!0}},a_=e=>{let{text:t,tag:a,showCaretIcon:n,indicatorActive:l,canShowDot:i,hideIndicatorText:u,tooltip:m,placement:p,menuType:h,path:f,menuView:x,highlightedItemKey:g,setHighlightedItemKey:y,handleClickItem:v,inputMenuIsOpen:b,setInputMenuIsOpen:j,inputMenuSearchQuery:C,setInputMenuSearchQuery:M,handleBack:w,animationDirection:k,disabled:_,disabledTooltip:A}=e,{currentItems:N}=x,S=(0,au.L)(()=>{j(!1)},["mouseup","touchend"]),E=(0,c.useRef)(null),I=(0,c.useRef)(null),T=(0,c.useRef)(null),O=(0,c.useRef)(null),[R,D]=(0,c.useState)(void 0),[P,z]=(0,c.useState)("bottom"===p?"top":"bottom"),[F,L]=(0,c.useState)(0),G=(0,th.useSearchParams)(),{shouldShow:U}=(0,eF.z)(ak.id,ak.nuxItem),Y="true"===G.get(ap.HU)&&U&&"tools"===h;(0,c.useEffect)(()=>{Y&&(j(!0),T.current&&(T.current.scrollTop=T.current.scrollHeight))},[Y,j]),(0,c.useEffect)(()=>{if(!E.current||!I.current)return;let e=E.current.getBoundingClientRect(),{updatedHeightAvailable:t,updatedDropdownSide:a}=aA({placement:p,triggerRectTop:e.top,triggerRectBottom:e.bottom});D(Math.min(422,t)),z(a);let s=I.current.getBoundingClientRect();L(Math.min(0,window.innerWidth-s.right-8))},[p,b]);let H=(0,tk.Hd)(),V=("plus"===h||"tools"===h)&&H?(0,s.jsx)(ax.s,{path:f,inputMenuSearchQuery:C,setInputMenuSearchQuery:M,handleBack:w}):null;return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"relative shrink-0",onClick:e=>{e.preventDefault()},ref:S,children:[(0,s.jsx)("div",{ref:E,children:(0,s.jsx)(av,{disabled:_,disabledTooltip:A,tag:a,tooltip:m,text:t,showCaretIcon:n,indicatorActive:l,hideIndicatorText:u,canShowDot:i,menuType:h,menuView:x,inputMenuIsOpen:b,setInputMenuIsOpen:j,onDoubleClick:"plus"===h?()=>(0,t8.U_)(p):void 0})}),(0,s.jsx)("div",{ref:I,className:(0,r.A)("w-[20rem] absolute max-w-[calc(100vw-16px)]","top"===P?"bottom-10":"top-10",b?"block":"hidden"),children:(0,s.jsx)(o.N,{children:b&&(0,s.jsx)(d.P.div,{ref:T,initial:{opacity:0,scale:.95,y:"top"===P?8:-8,x:-8},animate:{opacity:1,scale:1,y:0,x:0},exit:{opacity:0,scale:.95,y:"top"===P?8:-8,x:-8},transition:{type:"spring",stiffness:650,damping:23,mass:.6,height:{ease:"easeInOut"}},className:(0,r.A)("relative w-full will-change-transform h-auto overflow-y-auto overscroll-auto flex z-dropdown bg-bg-000 rounded-xl overflow-hidden border-border-300 border-0.5 shadow-diffused shadow-[hsl(var(--always-black)/6%)]","top"===P?"flex-col-reverse":"flex-col"),onMouseEnter:()=>y(null),style:{maxHeight:R?"".concat(R,"px"):void 0,left:F},onClick:e=>{e.stopPropagation(),(0,aj.l)()},children:(0,s.jsxs)(ad,{duration:100,className:(0,r.A)("flex flex-col min-h-0 w-full !ease-out","top"===P?"justify-end":"justify-start"),children:[(0,s.jsxs)("div",{className:"p-1.5 flex flex-col",children:["bottom"===P&&V,(0,s.jsx)(d.P.div,{variants:aC[k],initial:"initial",animate:"animate",className:"flex flex-col",transition:{x:{duration:.15,ease:ac.A.outCirc},opacity:{duration:.25,ease:"easeInOut"}},children:("top"===P?[...N].reverse():N).filter(e=>{let{menuItemHidden:t}=e;return!t}).map(e=>"addIntegrations"===e.key?(0,s.jsx)("div",{ref:O,children:(0,s.jsx)(aa.$,{item:e,onClick:()=>v(e),isHighlighted:g===e.key})},e.key):(0,s.jsx)(aa.$,{item:e,onClick:()=>v(e),isHighlighted:g===e.key},e.key))},null!=f?f:"root"),"top"===P&&V]}),(0,s.jsx)(af,{path:f})]})})})})]}),(0,s.jsx)(am.V,{canShowNux:Y&&!!O.current&&b,anchorRef:O,side:"right",text:(0,s.jsx)(Z.A,{defaultMessage:"Find and add more of your favorite tools in <span>Add connectors</span>.",id:"2icgWBPsqj",values:{span:e=>(0,s.jsx)("span",{className:"font-bold",children:e})}}),...ak})]})},aA=e=>{let{placement:t,triggerRectTop:a,triggerRectBottom:s}=e,n=window.innerHeight-s-8-8;if("bottom"===t){let e=a-76-8;return e<160&&n>e?{updatedDropdownSide:"bottom",updatedHeightAvailable:n}:{updatedDropdownSide:"top",updatedHeightAvailable:e}}{let e=a-8-8;return n<160&&e>n?{updatedDropdownSide:"top",updatedHeightAvailable:e}:{updatedDropdownSide:"bottom",updatedHeightAvailable:n}}},aN=eh.z.object({enabled:eh.z.boolean(),system_prompt:eh.z.string().optional()}),aS=e=>{let t,{model:a,hideIndicatorText:n}=e,l=(0,G.A)(),{toggleConversationSetting:i}=(0,p.rX)(),r=(0,p.vP)("paprika_mode"),o=(0,eg.j)()(a),d=(0,K.h0)(),c=(0,ep.useLayer)("trials_freemium"),{data:u}=(0,ef.EY)(),m=!d,h=c.get("free_thinking",!1),f=m&&h&&(null==u?void 0:u.remaining)===0,x=(0,tk.lS)();if(f)return null;let g=m&&h&&u&&void 0!==u.remaining&&void 0!==u.limit&&!!r;x?t="Always on":o||(t=l.formatMessage({defaultMessage:"Select a different model to use this feature",id:"/9vSDy2Wm0"}));let y=x||!!t;return(0,s.jsx)(as,{disabled:y,tooltip:t||l.formatMessage({defaultMessage:"Extended thinking",id:"5j4WakKa2u"}),tooltipShortcut:y?void 0:"Cmd+Shift+E",hideIndicatorText:n,icon:(0,s.jsx)(ec.Sw4,{size:16}),onClick:()=>{y||i("paprika_mode",r?null:"extended")},indicatorActive:!y&&!!r||x,text:l.formatMessage({defaultMessage:"Extended thinking",id:"5j4WakKa2u"}),limitInfo:g?{remaining:u.remaining,total:u.limit}:null,className:"!shrink-0"})},aE=e=>{let{placement:t,isDisabled:a,skipInitialAnimation:n=!1}=e,i=(0,G.A)();(0,l.iW)("prompt_improver_config",{enabled:!1},aN);let r=(0,l.fS)("add_menu_simplification"),o=(0,W.N3)(),d=(0,W.QN)(),{attachments:u,files:m,syncSourceUuids:p}=(0,W.Jy)(e=>({attachments:e.attachments,files:e.files,syncSourceUuids:e.syncSourceUuids})),{model:h,setModel:f,sendMessage:x,stopSampling:g,conversation:y,isSending:b,isChatSyncing:j,isProjectSyncing:C,isModelSelectorOpen:M,setIsModelSelectorOpen:w,isNewConversation:k,currentCompassTask:_,improvePrompt:A,isImprovingPrompt:N}=(0,v.oM)(),S=(0,ei.Z3)((null==y?void 0:y.id)||null),E=null!=h?h:S,I=j||C?i.formatMessage({defaultMessage:"Syncing knowledge...",id:"QuwefnZNVj"}):void 0,T=(0,c.useMemo)(()=>{var e;return[...m,...null!=(e=null==y?void 0:y.files)?e:[]].some(e=>e.file_kind===eu.M.Image||e.file_kind===eu.M.SanitizedDocument)},[m,y]),O=(0,c.useCallback)(e=>f(e.model),[f]),[R,D]=(0,em.w)({box:"border-box"}),P=D.width||null,z=null===P||P<396;return(0,ex.QJ)(),(0,tk.nb)(),(0,s.jsxs)("div",{className:"flex gap-2.5 w-full items-center",ref:R,children:[(0,s.jsxs)("div",{className:"relative flex-1 flex items-center gap-2 shrink min-w-0",children:[r?(0,s.jsx)(t4,{chatInputPlacement:t}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(aw,{placement:t,canShowDot:null!==P&&z}),(0,s.jsx)(aM,{placement:t,canShowDot:null!==P&&z})]}),"",(0,s.jsx)(aS,{model:E,hideIndicatorText:!0}),"",null!==P&&(0,s.jsx)(al,{hideIndicatorText:null===P||P<480,hideIndicators:z}),(0,s.jsx)(eb,{model:h,projectUuid:d})]}),(0,s.jsx)(eq,{selectedModel:h,onSelect:O,hasMultiModalContent:T,placement:t,open:M,onOpenChange:w,isNewConversation:k}),(0,s.jsx)(e4,{isSending:b,isDisabled:a,disabledReason:I,isPromptEmpty:o,files:m,attachments:u,syncSourceUuids:p,conversation:y,currentCompassTask:_,onSend:()=>x(),onStop:()=>g(),skipInitialAnimation:n})]})};var aI=a(67441),aT=a(5231),aO=a(97509);let aR=e=>{let{width:t=64,height:a=64}=e;return(0,s.jsxs)("svg",{width:t,height:a,viewBox:"0 0 500 500",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,s.jsx)("path",{d:"M298.73 50.72L308.23 152.13C308.23 152.13 410.47 156.07 403.73 149.03C396.99 141.99 298.73 50.72 298.73 50.72Z",className:"fill-bg-400"}),(0,s.jsx)("path",{d:"M116.23 66.071C114.66 93.971 115.08 94.001 113.52 121.901C113.16 128.871 112.88 134.101 112.65 138.461C112.55 140.641 112.46 142.601 112.38 144.461C112.34 145.391 112.3 146.291 112.27 147.171C112.25 147.611 112.23 148.051 112.22 148.491L112.19 149.151V149.211C112.61 149.251 108.57 148.961 110.28 149.091V149.131C109.86 149.131 113.92 149.131 112.2 149.131V149.391C112.31 156.371 112.41 163.351 112.41 177.321C112.41 195.948 112.413 214.574 112.42 233.201C112.42 261.131 111.73 261.131 111.73 289.071C111.73 317.011 113.01 317.011 113.01 344.951C113.01 372.891 111.93 372.891 111.93 400.831C111.93 413.781 112.12 420.731 112.33 427.351C112.42 430.661 112.52 433.891 112.63 437.741C112.65 438.701 112.67 439.711 112.69 440.761C112.69 441.291 112.71 441.821 112.72 442.381C112.72 442.521 112.74 442.471 112.75 442.521C112.75 442.641 112.89 442.731 113.01 442.691C113.01 442.691 113.03 442.691 113.05 442.691C113.07 442.691 113.03 442.691 113.1 442.691C113.29 442.691 113.49 442.691 113.7 442.701C114.54 442.721 115.52 442.741 116.54 442.771C144.44 443.401 144.43 444.181 172.32 444.581C186.25 444.741 193.22 444.831 200.19 444.911C203.67 444.941 207.14 444.961 211.47 444.931C213.63 444.911 216.01 444.871 218.69 444.791C220.03 444.751 221.44 444.691 222.92 444.611C224.37 444.521 226.01 444.411 227.33 444.211L227.72 444.141L227.78 444.121C227.78 444.101 227.78 444.121 227.81 444.211L228.05 444.961C228.16 445.241 228.16 445.371 228.21 445.561C228.26 445.741 228.31 445.921 228.37 446.091C228.49 446.441 228.63 446.791 228.79 447.121C228.85 447.271 229.01 447.491 229.01 447.571C229.04 447.671 229.08 447.781 229.13 447.871C229.18 447.971 229.25 448.061 229.32 448.141C229.36 448.181 229.4 448.221 229.44 448.261L229.51 448.311C222.83 442.081 227.73 446.511 226.27 445.091C226.61 444.771 226.99 444.471 227.41 444.221C227.62 444.101 227.83 443.991 228.04 443.891L228.19 443.821L228.24 443.801L228.34 443.771L228.72 443.641L229.11 443.531L229.3 443.481L229.42 443.451C229.73 443.391 230.03 443.331 230.33 443.281C230.58 443.241 230.82 443.211 231.07 443.171C231.52 443.121 231.97 443.071 232.41 443.021C234.09 442.861 235.56 442.771 236.97 442.671C239.74 442.521 242.18 442.381 244.4 442.261C248.79 442.011 252.31 441.821 255.82 441.621C262.84 441.231 269.85 440.861 283.85 440.891C311.84 441.011 311.83 441.421 339.8 441.721C367.76 442.091 367.75 442.601 395.71 443.071C396.53 443.091 397.32 443.101 398.04 443.111C398.23 443.131 398.41 443.081 398.53 442.971C398.77 442.751 398.7 442.481 398.73 442.411C399.25 434.061 399.58 428.811 399.94 423.031C400.33 416.911 400.73 410.231 401.33 399.121C401.78 390.751 402.01 384.891 402.17 379.991C402.29 375.211 402.39 371.381 402.5 366.991C402.26 361.551 402.03 354.781 401.86 343.611C401.52 324.991 401.18 306.371 400.84 287.751C400.42 259.801 401 259.801 400.58 231.851C400.267 213.224 399.95 194.594 399.63 175.961C399.53 168.971 399.48 163.731 399.47 159.371C399.47 157.191 399.47 155.221 399.47 153.361V152.671L399.48 152.551C399.48 152.481 399.5 152.411 399.48 152.341C399.47 152.201 399.38 152.081 399.29 151.981C396.91 149.531 394.54 147.091 391.56 144.031C388.5 140.911 384.81 137.201 379.85 132.271C360.01 112.571 359.12 113.471 339.29 93.771C326.063 80.651 312.837 67.5344 299.61 54.421C298.35 53.161 297.17 51.991 296.15 50.971C296.15 50.971 296.15 50.951 296.15 50.941C291.57 50.851 287.94 50.771 284.7 50.711C281.31 50.611 278.33 50.531 275.21 50.441C268.96 50.261 262.11 50.091 250.08 50.041C222.1 49.921 222.1 49.751 194.12 49.681C166.15 49.641 166.14 49.311 138.19 49.401C127.41 49.461 121.84 49.021 118.99 48.201C116.12 47.361 115.89 46.081 115.84 44.521C115.79 42.961 115.92 41.431 118.8 40.221C121.71 39.001 127.3 38.181 138.13 38.121C166.11 38.031 166.1 38.491 194.06 38.531C222 38.601 221.99 39.391 249.93 39.511C262 39.561 268.86 39.481 275.12 39.381C278.25 39.331 281.24 39.281 284.66 39.231C286.37 39.211 288.18 39.201 290.18 39.181C292.33 39.181 294.67 39.171 297.29 39.161C299.09 39.141 301.63 39.731 303.71 41.791C304.91 42.981 306.3 44.361 307.79 45.831C327.61 65.521 327.84 65.281 347.66 84.961C360.853 98.1077 374.05 111.254 387.25 124.401C397.14 134.281 402.08 139.221 407.02 144.161C407.61 144.751 408.23 145.331 408.71 146.001C409.2 146.661 409.6 147.401 409.9 148.181C410.2 148.961 410.39 149.791 410.46 150.631C410.5 151.051 410.5 151.491 410.51 151.931C410.51 152.251 410.51 152.561 410.52 152.881C410.54 154.741 410.56 156.701 410.58 158.881C410.64 163.241 410.71 168.481 410.8 175.471C411.22 203.411 410.53 203.421 410.95 231.371C411.37 259.311 411.79 259.301 412.2 287.241C412.62 315.181 413.48 315.171 413.9 343.121C414.07 354.371 413.97 361.021 413.83 366.911C413.82 367.161 413.81 367.461 413.8 367.671L413.68 368.871C413.63 369.401 413.58 369.931 413.53 370.451C413.43 371.501 413.33 372.541 413.23 373.591C413.04 375.701 412.84 377.871 412.62 380.291C412.21 385.131 411.79 390.981 411.35 399.331C410.72 411.111 410.58 417.931 410.5 424.001C410.47 427.031 410.43 429.881 410.4 433.061C410.37 434.651 410.33 436.331 410.29 438.161C410.26 439.071 410.24 440.021 410.21 441.021C410.19 441.521 410.18 442.031 410.16 442.551C410.12 443.501 410.08 444.481 410.03 445.481C409.94 447.021 409.55 448.411 408.82 449.761C408.08 451.111 406.94 452.351 405.5 453.251C404.78 453.691 403.99 454.061 403.15 454.311C402.75 454.461 402.27 454.481 401.81 454.551C401.35 454.611 400.89 454.681 400.4 454.721C398.94 454.701 397.41 454.671 395.82 454.651C367.89 454.181 367.91 452.961 339.98 452.591C312.05 452.281 312.04 452.781 284.13 452.661C270.18 452.631 263.21 452.841 256.25 453.071C252.78 453.201 249.32 453.331 244.98 453.481C242.84 453.581 240.49 453.681 237.81 453.801C236.49 453.871 235.09 453.951 233.72 454.081C233.06 454.141 232.3 454.231 231.96 454.291L231.86 454.311H231.85C231.85 454.311 231.83 454.241 231.81 454.161L231.74 453.911L231.62 453.191C231.53 452.721 231.42 452.251 231.29 451.791C231.15 451.331 231 450.871 230.81 450.421L230.67 450.081C230.62 449.971 230.55 449.841 230.57 449.791C230.56 449.661 230.53 449.531 230.48 449.401C230.39 449.151 230.23 448.921 230.01 448.741C231.94 450.541 225.58 444.621 234.31 452.761L234.16 452.911L233.85 453.191C233.64 453.371 233.42 453.551 233.18 453.711C232.95 453.871 232.71 454.021 232.46 454.151L232.28 454.241L232.07 454.331C231.89 454.411 231.7 454.491 231.51 454.561C231.34 454.621 231.09 454.711 230.98 454.741L230.66 454.831L230.02 454.991L229.53 455.081C228.28 455.301 227.35 455.391 226.44 455.471C225.53 455.551 224.69 455.601 223.88 455.651C222.26 455.741 220.78 455.791 219.38 455.821C216.59 455.881 214.16 455.891 211.95 455.871C207.54 455.831 204.03 455.681 200.51 455.541C193.49 455.231 186.49 454.901 172.5 454.751C158.5 454.581 151.51 454.601 144.51 454.631C137.51 454.651 130.52 454.671 116.53 454.341C113.84 454.281 111.37 454.221 110.15 454.191C109.46 454.181 108.86 454.031 108.25 453.921C107.62 453.831 107.09 453.621 106.54 453.401C105.47 452.921 104.5 452.241 103.72 451.441C102.94 450.631 102.33 449.701 101.92 448.731C101.5 447.761 101.28 446.781 101.19 445.711C101.16 442.841 101.13 440.271 101.1 437.891C101.04 434.071 100.99 430.861 100.95 427.571C100.84 420.981 100.74 414.031 100.74 401.141C100.74 373.191 101.37 373.191 101.37 345.241C101.37 317.291 101.88 317.281 101.88 289.331C101.88 261.381 100.58 261.391 100.58 233.451C100.66 214.804 100.737 196.161 100.81 177.521C100.81 163.531 100.89 156.531 100.96 149.541C101.39 142.451 101.81 135.361 102.67 121.191C104.24 93.251 104.67 93.281 106.24 65.341C106.54 59.951 106.9 55.821 107.32 52.671C107.53 51.091 107.75 49.761 107.99 48.641C108.16 47.911 108.31 47.241 108.45 46.631C108.74 45.631 109.22 44.821 109.74 44.201C110.8 42.961 111.97 42.461 112.86 42.281C113.76 42.111 114.42 42.281 114.85 42.511C115.72 43.011 115.79 43.771 115.82 44.531C115.86 45.311 115.74 46.001 115.65 46.631C115.61 46.941 115.59 47.241 115.63 47.501C115.65 47.751 115.83 48.021 115.92 48.061C115.92 48.061 115.89 48.051 115.94 48.061C115.94 48.061 115.96 48.051 115.97 48.041H115.98V48.021C115.91 48.021 116.63 48.071 116.32 48.051C116.33 48.181 116.35 48.311 116.36 48.441C116.38 48.701 116.41 48.981 116.43 49.261C116.52 50.411 116.57 51.761 116.59 53.351C116.62 56.531 116.49 60.681 116.19 66.071H116.23Z",className:"fill-text-100"}),(0,s.jsx)("path",{d:"M397.54 155.981C387 156.211 386.98 155.431 376.44 155.661C365.89 155.891 365.89 155.621 355.34 155.841C344.79 156.061 344.81 156.871 334.26 157.101C323.71 157.331 323.72 157.661 313.17 157.891C312.45 157.891 311.78 157.911 311.15 157.921C310.69 157.921 310.24 157.921 309.81 157.921C309.23 157.921 308.66 157.941 308.12 157.921C307.02 157.911 306.1 157.681 305.28 157.391C304.45 157.081 303.71 156.681 303.07 156.211C301.79 155.271 300.91 154.091 300.34 152.881C299.78 151.651 299.53 150.421 299.52 149.011C299.52 148.441 299.52 147.871 299.52 147.281V146.841L299.53 146.601C299.53 146.441 299.54 146.281 299.55 146.111C299.57 145.451 299.59 144.751 299.59 143.971C299.59 142.411 299.55 140.561 299.42 138.171C298.82 127.641 298.44 127.661 297.83 117.131C297.383 110.104 296.937 103.081 296.49 96.061C295.89 85.511 296.37 85.481 295.77 74.941C295.17 64.391 294.66 64.421 294.06 53.871C293.61 46.081 295.81 44.911 298.72 44.741C301.63 44.571 303.55 45.511 303.99 53.301C304.59 63.831 305.59 63.771 306.19 74.301C306.79 84.831 305.67 84.901 306.27 95.431C306.87 105.961 306.67 105.981 307.28 116.511C307.88 127.041 309.1 126.971 309.7 137.511C309.84 139.941 309.9 141.811 309.91 143.371C309.91 144.151 309.91 144.861 309.91 145.521C309.91 145.691 309.91 145.851 309.91 146.011V146.251L309.89 146.271L309.82 146.371C309.7 146.541 309.58 146.861 309.77 147.111C309.86 147.241 310.02 147.291 310.21 147.301C310.26 147.301 310.31 147.311 310.37 147.321H310.45C310.59 147.321 310.74 147.321 310.89 147.321C311.51 147.321 312.18 147.301 312.89 147.291C319.923 147.171 326.953 147.048 333.98 146.921C341.007 146.794 348.043 146.598 355.09 146.331C365.65 146.101 365.63 145.261 376.2 145.031C386.76 144.801 386.76 144.561 397.32 144.331C405.12 144.161 404.71 147.141 404.77 150.051C404.83 152.961 405.37 155.811 397.57 155.981H397.54Z",className:"fill-text-100"}),(0,s.jsx)("path",{d:"M247.07 321.951C247.19 314.851 247.96 314.871 248.09 307.771C248.22 300.671 248.49 300.671 248.62 293.571C248.75 286.471 247.96 286.451 248.09 279.351C248.23 272.251 247.9 272.241 248.05 265.141C248.2 258.041 249.41 258.061 249.57 250.961C249.73 243.861 249.35 243.851 249.52 236.751C249.7 229.641 249.56 229.641 249.76 222.531C249.97 215.411 250.45 215.431 250.68 208.301C250.95 201.161 250.41 201.171 250.79 193.961C250.94 191.281 251.64 189.751 252.69 188.851C253.21 188.431 253.85 188.051 254.52 187.951C255.42 187.351 256.03 187.881 256.55 188.341C257.07 188.801 257.63 189.391 258.37 189.081C258.94 189.261 259.42 189.381 259.78 189.791C260.52 190.541 260.86 191.971 260.71 194.541C260.35 201.531 261.37 201.591 261.11 208.641C260.88 215.711 259.76 215.681 259.55 222.761C259.35 229.851 259.16 229.841 258.98 236.931C258.81 244.021 260.03 244.051 259.87 251.141C259.71 258.231 258.79 258.211 258.64 265.311C258.513 270.038 258.387 274.764 258.26 279.491C258.12 286.591 258.26 286.591 258.12 293.691C257.99 300.791 258.83 300.811 258.71 307.911C258.59 315.011 258.83 315.021 258.71 322.121C258.62 327.361 255.66 327.001 252.75 326.951C249.84 326.901 246.97 327.181 247.06 321.931L247.07 321.951Z",className:"fill-text-100"}),(0,s.jsx)("path",{d:"M191.85 248.461C198.94 248.461 198.94 249.241 206.03 249.241C213.12 249.241 213.12 249.511 220.22 249.511C227.32 249.511 227.31 248.711 234.41 248.711C241.51 248.711 241.5 248.381 248.6 248.381C255.7 248.381 255.69 249.591 262.79 249.591C269.89 249.591 269.88 249.211 276.97 249.211C284.06 249.211 284.07 249.081 291.16 249.081C298.25 249.081 298.26 249.571 305.36 249.571C312.46 249.571 312.46 249.071 319.56 249.071C324.8 249.071 325.51 251.331 325.51 254.241C325.51 257.151 324.81 259.011 319.56 259.011C312.47 259.011 312.47 260.011 305.38 260.011C298.29 260.011 298.29 258.891 291.19 258.891C284.09 258.891 284.1 258.691 277 258.691C269.9 258.691 269.91 259.911 262.81 259.911C255.71 259.911 255.72 258.991 248.62 258.991C241.52 258.991 241.53 258.901 234.44 258.901C227.35 258.901 227.34 259.031 220.25 259.031C213.16 259.031 213.15 259.881 206.05 259.881C198.95 259.881 198.95 260.121 191.85 260.121C186.61 260.121 186.93 257.151 186.93 254.241C186.93 251.331 186.61 248.471 191.85 248.471V248.461Z",className:"fill-text-100"})]})},aD=e=>{let{disabled:t=!1,enableScreenDrop:a=!1}=e,{onDrop:n}=(0,v.oM)();return(0,s.jsx)(aI.wC,{disabled:t,onDrop:n,enableScreenDrop:a,children:a?(0,s.jsx)(az,{}):(0,s.jsx)(aP,{})})},aP=()=>{let{dragState:e}=(0,aI.t1)(),t=e===aI.mq.DRAGGING_ON_TARGET,a=e===aI.mq.DRAGGING_OFF_TARGET||e===aI.mq.DRAGGING_ON_TARGET;return a?(0,s.jsx)(o.N,{children:a&&(0,s.jsx)(d.P.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.2},className:"absolute top-0 border border-dashed bg-clip-padding rounded-2xl min-h-4 h-full w-full border-accent-secondary-100 bg-bg-000 overflow-hidden z-10",children:(0,s.jsx)("div",{className:(0,r.A)("flex items-center justify-center h-full w-full transition-colors",t?"bg-accent-secondary-900":"bg-accent-secondary-900/50"),children:(0,s.jsxs)("p",{className:"text-accent-secondary-100 flex flex-row items-center gap-2.5",children:[(0,s.jsx)(aT._,{size:20,className:"opacity-50"}),(0,s.jsx)(Z.A,{defaultMessage:"Drop files here to add to chat",id:"IYBR/J+nuA"})]})})},"chat-input-drop-zone-overlay")}):null},az=()=>{let{dragState:e}=(0,aI.t1)(),t=e===aI.mq.DRAGGING_OFF_TARGET||e===aI.mq.DRAGGING_ON_TARGET;return t?(0,aO.createPortal)((0,s.jsx)(o.N,{children:t&&(0,s.jsx)(d.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.1},className:"fixed inset-0 z-toast pointer-events-none",children:(0,s.jsx)("div",{className:"absolute inset-0 bg-bg-100/90 flex items-center justify-center",children:(0,s.jsxs)("div",{className:"flex flex-col items-center gap-2 text-text-100",children:[(0,s.jsx)(aR,{}),(0,s.jsx)(Z.A,{defaultMessage:"Drop files here to add to chat",id:"IYBR/J+nuA"})]})})},"full-screen-drop-zone-overlay")}),document.body):null};var aF=a(1613),aL=a(13750),aG=a(14935),aU=a.n(aG),aY=a(68010);function aH(e){var t,a;let{isOpen:n,onClose:l,prompt:i,serverUuid:r}=e,o=(0,G.A)(),d=(0,c.useCallback)(()=>{p({}),l()},[l]),u=(0,tz.vW)(d),[m,p]=(0,c.useState)({}),h=null==i||null==(t=i.arguments)?void 0:t.some(e=>e.required&&!m[e.name]);return i?(0,s.jsxs)(e0.aF,{title:o.formatMessage({defaultMessage:"Enter prompt inputs",id:"zDs90mJ5UJ"}),subtitle:(0,s.jsxs)("div",{className:"flex flex-col gap-1 mt-1",children:[i.name,(0,s.jsx)(aY.M,{text:i.description})]}),isOpen:n,onClose:d,modalSize:"lg",children:[(0,s.jsx)("div",{className:"flex flex-col gap-4 max-h-[500px] mb-4 overflow-y-auto",children:null==(a=i.arguments)?void 0:a.map(e=>(0,s.jsx)("div",{className:"flex flex-col gap-1",children:(0,s.jsx)(aL.ks,{required:e.required,label:"".concat(aU()(e.name.toLowerCase())).concat(e.required?"*":""),placeholder:e.description,value:m[e.name]||"",onValueChange:t=>p(a=>({...a,[e.name]:null!=t?t:""})),onBlur:()=>{p(t=>{var a;return{...t,[e.name]:(null!=(a=t[e.name])?a:"").trim()}})},error:e.required&&""===m[e.name]},e.name)},e.name))}),(0,s.jsxs)(e0.vW,{children:[(0,s.jsx)(ek.$,{disabled:h,onClick:()=>void u({serverUuid:r,prompt:i,args:m}),children:(0,s.jsx)(Z.A,{defaultMessage:"Add prompt",id:"8UhdEv01LN"})}),(0,s.jsx)(ek.$,{variant:"secondary",onClick:d,children:(0,s.jsx)(Z.A,{defaultMessage:"Cancel",id:"47FYwba+bI"})})]})]}):null}var aV=a(34385),aW=a(93714),aJ=a(31312),aB=a(5690);let aK=e=>{let{moveAttachments:t=!1,handleProjectCreated:a,isOpen:n,handleClose:l,syncSources:i=[],attachments:r=[],setSyncSourceUuids:o,setAttachments:d}=e,[u,m]=(0,c.useState)(null),{addError:p}=(0,q.Y)(),h=(0,aJ.n)();return aq({project:u,syncSources:i,attachments:r,setSyncSourceUuids:o,setAttachments:d}),(0,s.jsxs)(e0.aF,{isOpen:n,onClose:l,modalSize:"xl",children:[(0,s.jsxs)("div",{className:"flex justify-between items-start",children:[(0,s.jsx)("h1",{className:"font-heading text-text-200 mb-4",children:t?(0,s.jsx)(Z.A,{defaultMessage:"Create a project with attachments",id:"wSxz4Q9mjA"}):(0,s.jsx)(Z.A,{defaultMessage:"Create a project",id:"HR5A+UPiIu"})}),(0,s.jsx)(ek.$,{onClick:l,size:"icon",variant:"ghost",children:(0,s.jsx)(at.X,{size:16})})]}),n&&(0,s.jsx)(aB.Kk,{syncSources:t?i:void 0,onProjectCreated:e=>{t&&m(e),a(e)},onError:e=>p(e.message,{error:e,errorContext:{tags:{source:"create_project_modal"}}}),onCancel:l,strings:h})]})},aq=e=>{let{project:t,syncSources:a,attachments:s,setSyncSourceUuids:n,setAttachments:l}=e,i=(0,c.useRef)(!1),{addSuccess:r}=(0,q.Y)(),o=(0,G.A)(),{mutate:d}=(0,aV.fh)(null==t?void 0:t.uuid),{mutate:u}=(0,aW.pz)(null==t?void 0:t.uuid),m=(0,c.useCallback)(()=>{t&&(s.length||a.length&&t.is_private)&&(s.forEach(e=>{let{file_name:t,extracted_content:a}=e;d({file_name:t,content:a})}),t.is_private&&(a.forEach(e=>{let t=(0,et.tS)(e);t&&u(t)}),n([])),l([]),r(o.formatMessage({defaultMessage:"Attachments successfully added to {projectName}",id:"xw8MJ6Kd/h"},{projectName:t.name||"your project"})))},[t,r,s,d,l,u,n,a,o]);(0,c.useEffect)(()=>{t&&!i.current&&(i.current=!0,m())},[t,m])};var aX=a(39500),aZ=a(66420),a$=a(56706),aQ=a(84617),a0=a(3574),a1=a(79289),a4=a(57292),a2=a(20673),a5=a(49299),a3=a(96442),a9=a(16178),a6=a(13982),a8=a(59074);let a7=()=>{let{addError:e}=(0,q.Y)();return{handleRateLimitError:(t,a)=>{if(t instanceof a9.LG&&429===t.statusCode){let a=null;if(t.message.includes("{"))try{a=JSON.parse(t.message)}catch(e){}(null==a?void 0:a.type)==="exceeded_limit"&&"concurrents"===a.representativeClaim?e("Looks like you have too many chats going. Please close a tab to continue.",{error:t}):"thinking_messages_rate_limit_exceeded"===t.errorCode?e("You’ve reached your weekly limit for thinking messages. Please try again next week.",{error:t}):"opus_messages_rate_limit_exceeded"===t.errorCode?(0,a8.T)():(e("You’ve reached the limit for Claude messages at this time. Please wait before trying again.",{error:t}),(0,a6.D)())}else e(a,{error:t,errorContext:{tags:{source:"api_error_handler_default"}}})}}},se=(0,a3.default)(()=>a.e(320).then(a.bind(a,10320)).then(e=>({default:e.WritingAnimation})),{loadableGenerated:{webpack:()=>[10320]},ssr:!1}),st={default:{type:"spring",stiffness:650,damping:60},opacity:{type:"tween",ease:"easeOut",duration:.35}},sa=(0,c.forwardRef)((e,t)=>{let{setScreen:a,onStyleChange:n,animateBoolRef:l}=e,i=(0,G.A)(),r=(0,eD.st)(),[u,m]=(0,c.useState)(!1),[p,h]=(0,c.useState)(""),{handleRateLimitError:f}=a7(),{mutateAsync:x}=(0,a$.f$)(),g=(0,c.useRef)(null),y=(0,c.useRef)(null);(0,c.useEffect)(()=>{u&&setTimeout(()=>{var e;return null==(e=y.current)?void 0:e.focus()},50)},[u]);let[v,b]=(0,c.useState)(!1),[j,C]=(0,c.useState)(!1),M=(0,c.useRef)(null),w=(0,c.useRef)(null),k=4e3,{handleFileUpload:_,handleTextUpload:A}=function(e){let[t,a]=(0,c.useState)(!1),{activeOrganization:s}=(0,K.YL)(),{addError:n}=(0,q.Y)(),l=(0,aF.mn)();return{handleFileUpload:async i=>{if(t||!s)return;if(a(!0),!(0,B.eT)(i))try{let t=await (0,B.F9)(i);await e(t),a(!1);return}catch(e){}let r=new FormData;r.append("file",i);try{let t=await l("/api/organizations/".concat(s.uuid,"/convert_document"),{method:"POST",body:r});if(!t.ok)throw Error("Document conversion failed");let a=await t.json();if(!(null==a?void 0:a.extracted_content))throw Error("Document conversion failed: No extracted content");await e(a.extracted_content)}catch(e){n(e instanceof Error?e.message:"Error uploading file",{error:e,errorContext:{tags:{source:"example_upload_document_conversion"}}})}finally{a(!1)}},handleTextUpload:async n=>{!t&&s&&0!==n.trim().length&&(a(!0),await e(n),a(!1))},isUploading:t}}(async e=>{try{M.current=await x({content_example:e})}catch(e){f(e,i.formatMessage({defaultMessage:"Failed to create style. Please try again.",id:"GF2W10J5zb"})),b(!1)}}),N=()=>{M.current?n(M.current,!0):w.current=setTimeout(N,k=1e3)},S=async()=>{T(),await A(p)},E=async e=>{let t=Array.from(e.dataTransfer.files);t&&(C(!0),setTimeout(T,20),await _(t[0]))},I=async e=>{let t=e.target.files;t&&(T(),await _(Array.from(t)[0])),e.target.value=""},T=()=>{b(!0),w.current=setTimeout(N,k)};return(0,s.jsx)(d.P.div,{ref:t,className:"w-full h-full grid place-items-center",exit:{opacity:0,scale:.8},transition:l.current?st:{duration:0},children:(0,s.jsxs)(o.N,{mode:"popLayout",children:[v&&(0,s.jsx)(d.P.div,{className:"w-full h-full grid place-items-center",initial:{opacity:0},animate:{opacity:1},transition:st,children:(0,s.jsx)(sn,{})},"CreateStyleAnalyzingContentScreen"),!v&&(0,s.jsxs)(d.P.div,{className:"w-full h-full pt-1 flex flex-col sm:grid sm:grid-cols-2 sm:gap-4",children:[(0,s.jsxs)(d.P.div,{exit:{opacity:0,y:40,transition:st},className:"sm:h-full text-center flex flex-col gap-2 items-center justify-center px-2 pt-8 pb-8 sm:pt-14 sm:pb-20",children:[(0,s.jsx)("div",{className:"relative pb-2 w-full flex items-center justify-center",children:(0,s.jsx)(se,{})}),(0,s.jsx)("p",{className:"text-text-300 font-claude-response sm:text-lg",children:(0,s.jsx)(Z.A,{defaultMessage:"Share a writing example or describe your style and Claude will make a custom writing style tailored just for you.",id:"2qm6Zfzfx3"})})]},"CreatStyleStartScreenExplainer"),(0,s.jsx)(d.P.div,{className:"h-full flex-1",exit:{opacity:0,x:0,scale:.8,transition:{basicTransition:st}},children:u?(0,s.jsxs)("div",{className:"h-full flex flex-col gap-2 p-2 rounded-xl border-0.5 border-border-300",children:[(0,s.jsx)("textarea",{ref:y,className:" flex-1 min-h-0 bg-bg-000 border border-border-200 p-3 leading-5 rounded-lg transition-colors hover:border-border-100 placeholder:text-text-500 focus:border-accent-secondary-100 focus:ring-0 focus:outline-none disabled:cursor-not-allowed disabled:opacity-50 whitespace-pre-wrap resize-none",name:"inputText",placeholder:i.formatMessage({defaultMessage:"Paste at least a few paragraphs of example writing, including from multiple various sources if you’d like, for Claude to analyze and the match style of...",id:"mC+9IzmmMY"}),value:p,onChange:e=>h(e.target.value),required:!0}),(0,s.jsxs)("div",{className:"flex gap-2 justify-center",children:[(0,s.jsx)(ek.$,{variant:"secondary",onClick:()=>m(!1),children:(0,s.jsx)(Z.A,{defaultMessage:"Cancel",id:"47FYwba+bI"})}),(0,s.jsx)(ek.$,{onClick:S,children:(0,s.jsx)(Z.A,{defaultMessage:"Create style",id:"OC52fhpn7g"})})]})]}):(0,s.jsxs)(aI.wC,{className:"w-full h-full text-center border-dashed border border-border-300 bg-bg-000 rounded-xl relative grid place-items-center",onDrop:E,children:[(0,s.jsx)(ss,{showDropCover:j},"DropZoneOverlay"),(0,s.jsx)("input",{ref:g,type:"file",className:"hidden",accept:(0,B.cm)({imagesEnabled:!1}).join(","),onChange:I,multiple:!0}),(0,s.jsxs)("div",{children:[(0,s.jsxs)(e_.ms,{trigger:(0,s.jsx)(ek.$,{variant:"claude",className:"mt-2 font-medium !text-accent-secondary-100 bg-accent-secondary-900 hover:!bg-accent-secondary-100/15 gap-2",prepend:(0,s.jsx)(a0.C,{weight:"bold"}),children:(0,s.jsx)(Z.A,{defaultMessage:"Add writing example",id:"EhXT0lXWRc"})}),children:[(0,s.jsx)(e_.tJ,{children:(0,s.jsxs)("div",{className:"flex items-center gap-2",onClick:()=>{g.current&&g.current.click()},children:[(0,s.jsx)(a1.x,{size:16}),(0,s.jsx)(Z.A,{defaultMessage:"Upload from device",id:"vMaZk5Jcnv"})]})}),(0,s.jsx)(e_.tJ,{onClick:()=>m(!0),children:(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(a4.v,{size:16}),(0,s.jsx)(Z.A,{defaultMessage:"Paste text content",id:"nVQ9XcjUIh"})]})})]}),(0,s.jsxs)("div",{className:"text-xs text-text-400 mt-3 flex flex-col gap-1 max-sm:pb-8",children:[(0,s.jsx)("p",{children:window.innerWidth<=640?(0,s.jsx)(Z.A,{defaultMessage:"Select or paste existing doc, post, message, etc.",id:"7oFd31Vmu3"}):(0,s.jsx)(Z.A,{defaultMessage:"Select, drop, or paste existing doc, post, message, etc.",id:"ugXnNZ7Ix/"})}),(0,s.jsx)("p",{children:(0,s.jsx)(Z.A,{defaultMessage:"Content is not stored after matching style.",id:"bLEGIyr72h"})})]})]}),(0,s.jsx)("div",{className:"absolute w-full bottom-6",children:(0,s.jsxs)(aQ.Y,{className:"text-sm gap-1.5",onClick:()=>{r.track({event_key:"styles.custom.describe_clicked"}),a(tJ.I.CREATE_MANUALLY)},children:[(0,s.jsx)(a2.u,{}),(0,s.jsx)(Z.A,{defaultMessage:"Describe style instead",id:"p6hP+KeXkD"})]})})]})},"CreatStyleStartScreenDropZone")]},"CreatStyleStartScreen")]})})});sa.displayName="CreateStyle";let ss=e=>{let{showDropCover:t}=e,{dragState:a}=(0,aI.t1)(),n=a===aI.mq.DRAGGING_OFF_TARGET||a===aI.mq.DRAGGING_ON_TARGET||t;return(0,s.jsx)(o.N,{children:n&&(0,s.jsx)(d.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:(0,r.A)("absolute -inset-px z-10 flex flex-col justify-center rounded-xl border border-dashed transition-colors",a===aI.mq.DRAGGING_ON_TARGET||t?"bg-accent-secondary-900 border-accent-secondary-200 text-accent-secondary-000":"bg-bg-100 border-border-200 text-text-300"),children:(0,s.jsxs)("div",{className:"py-1.5 text-center",children:[(0,s.jsx)("div",{className:"relative inline-block opacity-60",children:(0,s.jsx)(a5.p,{size:36,weight:"thin"})}),(0,s.jsx)("div",{className:"font-claude-response pt-2 pb-4 italic",children:(0,s.jsx)(Z.A,{defaultMessage:"Drop example writing here to match the style",id:"VcDT1Dt8dq"})})]})},"drop-zone-overlay")})},sn=()=>(0,s.jsxs)("div",{className:"flex flex-col items-center gap-4",children:[(0,s.jsx)(se,{animate:!0}),(0,s.jsx)(d.P.div,{className:"font-claude-response italic text-lg",initial:{opacity:0,y:-15},animate:{opacity:1,y:0},transition:{opacity:{delay:.2,ease:"easeOut",duraation:.6},y:{delay:.2,type:"spring",stiffness:230,damping:20}},children:(0,s.jsx)(Z.A,{defaultMessage:"Analyzing your writing...",id:"AnDnGKCn6M"})})]});var sl=a(40888),si=a(37513),sr=a(59175),so=a(49937);let sd={objective:{label:(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(sl.W,{})," ",(0,s.jsx)(Z.A,{defaultMessage:"Define style objective",id:"gJB/90MGQ7"})]}),description:"Describe the main purpose and goal of this writing style — whether to teach, analyze, persuade, inspire, etc.",placeholder:"Try something like:\nI want to teach complex topics step-by-step, with a focus on building understanding.",promptPrepend:"I’d like the writing to serve this purpose:"},audience:{label:(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(so.t,{})," ",(0,s.jsx)(Z.A,{defaultMessage:"Tailor to an audience",id:"TYdBxyl/f3"})]}),description:"Describe details of the target audience you’d like Claude to write for including relevant information, needs, or preferences.",placeholder:"Try something like:\nWrite for marketing professionals. They’re tech-savvy and appreciate a dash of humor with their data.",promptPrepend:"I’d like to tailor this style to a specific audience:"},voicetone:{label:(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(si.r,{})," ",(0,s.jsx)(Z.A,{defaultMessage:"Use specific voice & tone",id:"1Vo908p7lJ"})]}),description:"Think about characteristics like formality, emotion, personality, and how you want the written responses to feel.",placeholder:"Try something like:\nWrite in a warm, approachable tone with light professional humor - like a friendly mentor.",promptPrepend:"I’d like to write in this voice and tone:"},general:{label:(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(a2.u,{})," ",(0,s.jsx)(Z.A,{defaultMessage:"Describe generally",id:"f3JnPS+B3+"})]}),description:"Describe in detail how you would like Claude to write. Be as specific as you can.",placeholder:"Try something like:\nWrite like an excited scientist explaining fascinating discoveries - technical but energetic.",promptPrepend:"I’d like to write like this:"},custom:{label:(0,s.jsx)(Z.A,{defaultMessage:"Use custom instructions (advanced)",id:"hSfu0Sz47T"}),description:"Write exact custom instructions for this style instead of generating a style prompt automatically. Claude will ignore instructions that don’t follow our guidelines.",placeholder:"Write style custom instructions here...",promptPrepend:""}},sc=(0,c.forwardRef)((e,t)=>{let{setScreen:a,onStyleChange:n}=e,l=(0,G.A)(),i=(0,eD.st)(),[u,m]=(0,c.useState)(!1),[p,h]=(0,c.useState)(""),[f,x]=(0,c.useState)(Object.keys(sd)[0]),{handleRateLimitError:g}=a7(),{mutateAsync:y}=(0,a$.f$)(),v=(0,c.useRef)(null);(0,c.useEffect)(()=>{setTimeout(()=>{var e;return null==(e=v.current)?void 0:e.focus()},50)},[f]);let b=p.replace(/\s/g,"").length>24,j=async()=>{if(!u&&b){m(!0);try{let e="custom"===f?{prompt:p}:{input_text:sd[f].promptPrepend+"\n"+p},t=await y(e);n(t,!1)}catch(e){g(e,l.formatMessage({defaultMessage:"Failed to create style. Please try again.",id:"GF2W10J5zb"}))}finally{m(!1)}}},C=e=>{i.track({event_key:"styles.custom.describe_selected",key:e}),x(e)};return(0,s.jsxs)(d.P.div,{ref:t,className:"w-full h-full flex flex-col sm:grid sm:grid-cols-2 gap-4 pt-3",children:[(0,s.jsxs)("div",{className:"flex flex-col sm:h-full sm:pr-3",children:[(0,s.jsxs)("div",{className:"flex-1 text-text-300",children:[(0,s.jsx)("p",{className:"mb-1 sm:mb-2 text-sm font-medium",children:(0,s.jsx)(Z.A,{defaultMessage:"Generate style from a starting point:",id:"cz09/5alWg"})}),(0,s.jsx)("ul",{className:"hidden sm:flex flex-col gap-1.5",children:Object.keys(sd).map(e=>(0,s.jsx)("li",{children:(0,s.jsxs)("button",{className:(0,r.A)("flex gap-1.5 items-center font-ui h-11 rounded-lg border border-border-400 hover:border-border-300 px-3 w-full text-left transition active:scale-[1.015] hover:bg-bg-200",f===e&&"!bg-accent-secondary-900 text-accent-secondary-000 !border-accent-secondary-100/80","custom"===e&&"mt-2 text-sm"),onClick:()=>C(e),children:[(0,s.jsx)("div",{className:"w-4 h-4 rounded-full bg-bg-100 grid place-items-center border border-border-300 mr-1",children:f===e&&(0,s.jsx)("div",{className:"w-2.5 h-2.5 rounded-full bg-accent-secondary-100"})}),sd[e].label]})},e))}),(0,s.jsx)("div",{className:"sm:hidden",children:(0,s.jsx)(e_.ms,{trigger:(0,s.jsx)(ek.$,{variant:"ghost",append:(0,s.jsx)(ae.a,{}),className:"w-full !border !border-border-300",children:(0,s.jsx)("div",{className:"flex-1 text-left flex items-center gap-1",children:sd[f].label})}),children:Object.keys(sd).map(e=>(0,s.jsx)(e_.tJ,{onSelect:()=>C(e),children:(0,s.jsx)("div",{className:"flex items-center gap-1",children:sd[e].label})},e))})})]}),(0,s.jsx)("div",{className:"mb-4 max-sm:hidden",children:(0,s.jsxs)(aQ.Y,{className:"text-sm gap-1",onClick:()=>a(tJ.I.CREATE),children:[(0,s.jsx)(sr.f,{}),(0,s.jsx)(Z.A,{defaultMessage:"Never mind, I’ll add an example",id:"PpPoeCEz4X"})]})})]}),(0,s.jsxs)("form",{className:"flex flex-col h-full rounded-xl border-0.5 border-border-300 bg-bg-200 px-3 py-2 gap-2",onSubmit:e=>{e.preventDefault(),j()},children:[(0,s.jsx)("p",{className:"pt-0 p-1 text-text-300 font-claude-response max-sm:text-sm",children:sd[f].description}),(0,s.jsxs)("div",{className:"relative flex-1 w-full",children:[(0,s.jsx)("textarea",{ref:v,className:" min-h-0 w-full h-full bg-bg-000 border border-border-200 p-3 leading-snug rounded-lg transition-colors hover:border-border-100 placeholder:text-text-500 focus:border-accent-secondary-100 focus:ring-0 focus:outline-none disabled:cursor-not-allowed disabled:opacity-50 whitespace-pre-wrap resize-none",name:"inputText",placeholder:sd[f].placeholder,value:p,required:!0,onChange:e=>h(e.target.value)}),(0,s.jsx)(o.N,{children:p.length>0&&!b&&(0,s.jsx)(d.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{ease:"easeIn",duration:.1},className:"absolute bottom-1 right-1 left-1 py-2 px-2 rounded-md text-sm bg-accent-secondary-900 text-text-200 text-center",children:(0,s.jsx)(Z.A,{defaultMessage:"Be as descriptive as possible to help Claude generate the best possible style for you",id:"3ObAHHjHgF"})})})]}),(0,s.jsx)(eA.Tooltip,{tooltipContent:b?"":l.formatMessage({defaultMessage:"More description needed in order to generate style",id:"vX4dBOsKs3"}),side:"bottom",className:"text-center",children:(0,s.jsx)("div",{className:"flex items-center w-full justify-center pb-1",children:(0,s.jsx)(ek.$,{className:"w-full",type:"submit",loading:u,disabled:!b,children:"custom"===f?(0,s.jsx)(Z.A,{defaultMessage:"Create style",id:"OC52fhpn7g"}):(0,s.jsx)(Z.A,{defaultMessage:"Generate style",id:"tILvvoBa87"})})})})]})]})});sc.displayName="CreateStyleManually";var su=a(78334),sm=a(41284),sp=a(92276),sh=a(40220),sf=a(17060),sx=a(43747),sg=a(84267),sy=a(27076),sv=a(12614),sb=a(33953),sj=a(18088);function sC(){let[e,t]=(0,sj.Vc)("userHiddenStyles",[]),a=(0,c.useCallback)(e=>{let a=(0,tK.X)(e);t(e=>[...e,a])},[t]),s=(0,c.useCallback)(()=>{t([])},[t]),n=(0,c.useCallback)(t=>t.filter(t=>{let a=(0,tK.X)(t);return!e.includes(a)}),[e]);return{hiddenPresetStyles:e,setHiddenPresetStyles:t,addHiddenPresetStyle:a,resetHiddenPresetStyles:s,filterHiddenStyles:n}}var sM=function(e){return e.VIEW="view",e.EDIT="edit",e.EDIT_MANUALLY="edit_manually",e}(sM||{});let sw=eh.z.array(eh.z.object({key:eh.z.string(),name:eh.z.string(),nameKey:eh.z.string().optional(),text:eh.z.string(),textKey:eh.z.string().optional()})),sk=[],s_=e=>{let{isSaveButton:t,children:a}=e;return(0,s.jsx)("div",{className:(0,r.A)("flex gap-1.5",t?"sm:absolute sm:top-5 sm:right-16 max-sm:mt-3 max-sm:-mb-2":"absolute top-5 right-16"),children:a})},sA=(0,c.forwardRef)((e,t)=>{let{animateBoolRef:a,style:n,setCurrentStyle:l,returnToListScreen:i,setChatStyle:r,setIsEditing:o,setIsEditingName:u}=e,m=(0,G.A)(),p=(0,tK.X)(n),h="default"===n.type,[f,x]=(0,c.useState)("view"),{mutateAsync:g}=(0,a$.lo)(p,h),{handleRateLimitError:y}=a7(),v=async e=>{let{prompt:t,editInput:a}=e;try{let e=await g({prompt:t,edit_instructions:a});e&&l(e)}catch(e){throw y(e,m.formatMessage({defaultMessage:"Failed to edit style. Please try again.",id:"1WkY08RVLW"})),Error}},b=e=>{o("edit"===e||"edit_manually"===e),x(e)};return(0,s.jsxs)(d.P.div,{className:"flex-1 min-h-0 grid sm:grid-cols-2 gap-3 pt-3",ref:t,children:["view"===f&&(0,s.jsxs)(s_,{children:[(0,s.jsx)(ek.$,{variant:"secondary",className:"text-sm max-sm:hidden",onClick:()=>r(n),children:(0,s.jsx)(Z.A,{defaultMessage:"Use style",id:"f7VY0ldE+0"})}),(0,s.jsx)(sT,{style:n,returnToListScreen:i,onRename:()=>u(!0),setStateToManualEdit:()=>b("edit_manually")})]}),(0,s.jsxs)(d.P.div,{className:"min-h-0",initial:!!a.current&&{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{scale:{type:"spring",stiffness:230,damping:15,delay:.1},opacity:{duration:.3,delay:.1}},children:["view"===f&&(0,s.jsx)(sE,{style:n,onClick:()=>b("edit")}),"edit"===f&&(0,s.jsx)(sN,{style:n,updateStyle:v,onClose:()=>b("view")}),"edit_manually"===f&&(0,s.jsx)(sS,{style:n,updateStyle:v,onClose:()=>b("view")})]}),(0,s.jsx)(sI,{style:n,animateBoolRef:a})]})});sA.displayName="EditStyle";let sN=e=>{let{style:t,updateStyle:a,onClose:n}=e,l=(0,G.A)(),i=(0,c.useRef)(t.prompt),u=(0,c.useRef)(null),[m,p]=(0,c.useState)(!1),[h,f]=(0,c.useState)(!1),[x,g]=(0,c.useState)([]),[y,v]=(0,c.useState)(""),b=async e=>{if(e.preventDefault(),m||h)return!1;await j(y)},j=async e=>{v(""),p(!0),g([...x,e]);try{await a({editInput:e})}catch(e){v(y),g(e=>e.slice(0,-1))}p(!1)},C=async()=>{x.length&&(f(!0),await a({prompt:i.current}),f(!1)),n()},M=(0,c.useMemo)(()=>{if(!t.attributes)return[];let e=Math.floor(Math.random()*t.attributes.length),a=e+1<t.attributes.length?e+1:e-1;return[l.formatMessage({defaultMessage:"A bit more {attribute}",id:"au1WTQvqDg"},{attribute:t.attributes[e].name.toLowerCase()}),l.formatMessage({defaultMessage:"Much less {attribute}",id:"dIbq/Ow8Zn"},{attribute:t.attributes[a].name.toLowerCase()})]},[t.attributes,l]);return(0,c.useEffect)(()=>{if(x.length>0){var e;null==(e=u.current)||e.scrollTo({top:u.current.scrollHeight,behavior:"smooth"})}},[x,t.summary]),(0,s.jsxs)("div",{className:"h-full flex flex-col",children:[(0,s.jsxs)("div",{className:"flex-1 min-h-0 flex flex-col gap-2 p-2.5 rounded-xl border border-accent-secondary-100/50 bg-bg-100 ",children:[(0,s.jsxs)("div",{className:(0,r.A)("border-0.5 rounded-lg p-3 pt-2.5 mb-2 relative transition bg-gradient-to-b",m?"border-border-300 from-accent-secondary-900/50 to-accent-secondary-900/10":"border-accent-secondary-100/50 from-accent-secondary-900/75 to-accent-secondary-900/25"),children:[(0,s.jsx)("div",{className:(0,r.A)("font-claude-response font-normal text-pretty leading-snug text-text-200 transition",m?"opacity-0 scale-[0.975]":"delay-150 duration-150 ease-out"),children:t.summary}),(0,s.jsx)(o.N,{children:m&&(0,s.jsx)(d.P.div,{className:"absolute inset-0 grid place-items-center",initial:{scale:.75,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.75,opacity:0},children:(0,s.jsx)(sm.a,{state:"thinking"})})})]}),(0,s.jsx)("ul",{ref:u,className:"flex-1 min-h-0 overflow-y-auto flex flex-col gap-2",children:x.map(e=>(0,s.jsx)("li",{children:(0,s.jsx)("div",{className:"inline-block py-2 px-3 rounded-lg bg-bg-300 text-sm",children:e})},e))}),x.length>0?(0,s.jsx)("div",{className:"text-sm text-center text-text-500",children:(0,s.jsx)(Z.A,{defaultMessage:"Ask for more edits, save, or discard changes",id:"zOxoAYYCog"})}):(0,s.jsxs)("div",{className:"mb-2",children:[(0,s.jsx)("div",{className:"text-sm text-text-500 mb-2",children:(0,s.jsx)(Z.A,{defaultMessage:"Describe how you’d like to edit the style, like:",id:"PRDvfjUkNA"})}),(0,s.jsx)("ul",{className:"flex flex-col gap-2",children:M.map((e,t)=>(0,s.jsx)("li",{children:(0,s.jsx)("button",{onClick:t=>{t.preventDefault(),j(e)},className:"text-sm font-medium h-8 px-3 rounded-full border-0.5 border-border-200 text-text-200 bg-gradient-to-b hover:text-text-000 hover:from-bg-400/0 hover:to-bg-400/50 hover:border-border-100 active:scale-x-[0.985] active:scale-y-[0.995] transition",children:e})},t))})]}),(0,s.jsx)("form",{className:"mb-1.5 mx-0.5",onSubmit:e=>b(e),children:(0,s.jsx)(aL.ks,{autoFocus:!0,className:"w-full",name:"inputText",placeholder:l.formatMessage({defaultMessage:"Ask Claude to edit the style...",id:"5D1Fao75P8"}),size:"lg",value:y,onChange:e=>v(e.target.value),append:(0,s.jsx)(o.N,{children:y.length>0&&(0,s.jsx)(d.P.div,{initial:{scale:.5,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.85,opacity:0,transition:{ease:"easeIn",duration:.1}},children:(0,s.jsx)(ek.$,{type:"submit",size:"icon_sm",variant:"claude",disabled:m||h,children:(0,s.jsx)(sh.D,{})})})})})})]}),(0,s.jsxs)(s_,{isSaveButton:!0,children:[(0,s.jsx)(ek.$,{onClick:n,disabled:m||h||y.length>0||0===x.length,children:(0,s.jsx)(Z.A,{defaultMessage:"Save changes",id:"X0ha1a+WYV"})}),(0,s.jsx)(ek.$,{onClick:C,disabled:m,loading:h,variant:"secondary",children:x.length>0?(0,s.jsx)(Z.A,{defaultMessage:"Discard",id:"nmpevlUATU"}):(0,s.jsx)(Z.A,{defaultMessage:"Cancel",id:"47FYwba+bI"})})]})]})},sS=e=>{let{style:t,updateStyle:a,onClose:n}=e,[l,i]=(0,c.useState)(!1),[r,o]=(0,c.useState)(t.prompt),d=(0,G.A)(),u=async e=>{e.preventDefault(),i(!0),await a({prompt:r}),i(!1),n()};return(0,s.jsxs)("form",{className:"flex flex-col gap-2 h-full min-h-0 p-3 pt-2 rounded-xl border-0.5 border-border-200",onSubmit:e=>u(e),children:[(0,s.jsx)("div",{className:"text-center text-sm text-text-200 font-medium",children:(0,s.jsx)(Z.A,{defaultMessage:"Edit style instructions manually",id:"+qSf1b/LLJ"})}),(0,s.jsx)("textarea",{className:" flex-1 min-h-0 bg-bg-000 border border-border-200 p-3 leading-5 rounded-lg transition-colors hover:border-border-100 placeholder:text-text-500 focus:border-accent-secondary-100 focus:ring-0 focus:outline-none disabled:cursor-not-allowed disabled:opacity-50 whitespace-pre-wrap resize-none",name:"inputText",placeholder:d.formatMessage({defaultMessage:"Describe your style instructions",id:"nk7EX3l+b4"}),value:r,disabled:l,onChange:e=>o(e.target.value),autoFocus:!0}),(0,s.jsxs)(s_,{isSaveButton:!0,children:[(0,s.jsx)(ek.$,{type:"submit",loading:l,children:(0,s.jsx)(Z.A,{defaultMessage:"Save changes",id:"X0ha1a+WYV"})}),(0,s.jsx)(ek.$,{onClick:()=>{o(t.prompt),n()},disabled:l,variant:"secondary",children:(0,s.jsx)(Z.A,{defaultMessage:"Cancel",id:"47FYwba+bI"})})]})]})},sE=e=>{let{style:t,onClick:a}=e,n="default"===t.type;return(0,s.jsxs)("div",{className:(0,r.A)("flex flex-col items-center h-full px-6 gap-4 rounded-lg sm:rounded-xl max-sm:mx-1.5",!n&&"bg-gradient-to-b from-accent-secondary-900/75 to-accent-secondary-900/25 border border-accent-secondary-100/50",n&&"bg-bg-300 border border-border-300"),children:[(0,s.jsx)("div",{className:"flex-1",children:(0,s.jsx)("div",{className:(0,r.A)("w-fit px-4 py-2 pb-2.5 gap-2.5 rounded-b-lg font-medium text-xs",n?"bg-bg-400 text-text-300":"bg-accent-secondary-200/10 text-accent-secondary-100"),children:n?(0,s.jsx)(Z.A,{defaultMessage:"Preset style",id:"qwpRSZtBAV"}):(0,s.jsx)(Z.A,{defaultMessage:"Your custom style",id:"o/vLK7B7mw"})})}),(0,s.jsxs)("div",{className:"flex flex-col items-center gap-1.5 pb-4",children:[!n&&(0,s.jsx)(eA.Tooltip,{className:"text-center",tooltipContent:(0,s.jsx)(Z.A,{defaultMessage:"Full style instructions are generated and include more than shown in summary. You can edit instructions manually from the options menu",id:"R5PMcY1ELo"}),children:(0,s.jsxs)("div",{className:"flex items-center gap-1 cursor-help opacity-50 hover:opacity-60",children:[(0,s.jsx)("span",{className:"text-sm font-medium",children:(0,s.jsx)(Z.A,{defaultMessage:"Style summary",id:"hVmQ4DO8io"})}),(0,s.jsx)(ah.R,{size:12,className:"translate-y-px",weight:"bold"})]})}),(0,s.jsx)("div",{"data-testid":"style-summary",className:"font-claude-response text-xl font-normal text-pretty leading-snug text-center flex-1 flex items-center",children:"default"===t.type&&t.summaryKey?(0,s.jsx)(eM.X5,{id:t.summaryKey}):t.summary})]}),(0,s.jsx)("div",{className:"flex-1 flex items-center text-sm",children:n?(0,s.jsx)(Z.A,{defaultMessage:"Preset styles are not editable",id:"qjKy0s/reb"}):(0,s.jsx)(ek.$,{variant:"secondary",onClick:a,className:"!border-accent-secondary-200 !text-accent-secondary-000 hover:!bg-accent-secondary-100/10",prepend:(0,s.jsx)(sv.f,{weight:"bold"}),children:(0,s.jsx)(Z.A,{defaultMessage:"Edit with Claude",id:"wdKoWlVN+G"})})})]})},sI=e=>{let{style:t,animateBoolRef:a}=e,n=(0,G.A)(),[i,u]=(0,c.useState)(""),[m,p]=(0,c.useState)(),h=(0,c.useRef)(t.prompt),f=(0,c.useRef)(m),x=(0,l.T9)("claude_style_previews","previewExamples",sk,sw),{handleRateLimitError:g}=a7(),{isPending:y,mutateAsync:v}=(0,a$.n7)(),b=(0,c.useCallback)(async()=>{if(m)try{let e=await v({style_prompt:t.prompt,example_key:m.key,example_text:m.textKey?(0,eM.fl)({id:m.textKey,intl:n}):m.text});u(e)}catch(e){g(e,n.formatMessage({defaultMessage:"Failed to preview style. Please try again.",id:"B2A4x/wbTg"}))}},[g,v,m,t.prompt,n]);return(0,c.useEffect)(()=>{var e;(h.current!==t.prompt||(null==(e=f.current)?void 0:e.key)!==(null==m?void 0:m.key))&&(h.current=t.prompt,f.current=m,b())},[b,m,t.prompt]),(0,s.jsx)(d.P.div,{className:(0,r.A)("max-sm:hidden flex flex-col gap-2 h-full min-h-0 p-2 rounded-xl border-0.5 border-border-300 transition-colors",m?"bg-bg-000/70":"bg-bg-000/20"),initial:!!a.current&&{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{scale:{type:"spring",stiffness:230,damping:15,delay:.2},opacity:{duration:.3,delay:.2}},children:m?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"flex items-center text-sm px-2 font-medium text-text-200",children:[(0,s.jsx)(Z.A,{defaultMessage:"Previewing with",id:"tNFdPqESDT"}),(0,s.jsx)(e_.ms,{align:"center",trigger:(0,s.jsx)(ek.$,{variant:"ghost",size:"unset",className:"!px-1 !py-0.5 gap-0.5 !text-accent-secondary-100 hover:!bg-accent-secondary-900",append:(0,s.jsx)(sb.a,{className:"translate-y-px"}),children:m?m.nameKey?(0,s.jsx)(eM.X5,{id:m.nameKey}):m.name:(0,s.jsx)(Z.A,{defaultMessage:"Example",id:"xrCRnH/mKK"})}),children:x.map(e=>(0,s.jsx)(e_.tJ,{disabled:y,onClick:()=>p(e),children:e.nameKey?(0,s.jsx)(eM.X5,{id:e.nameKey}):e.name},e.key))})]}),(0,s.jsxs)(sp.E,{className:"p-2 pt-0 min-h-0 overflow-y-scroll",children:[(0,s.jsx)("div",{className:"bg-bg-300 -mx-0.5 mb-2 py-1.5 px-2 text-sm rounded-lg text-pretty",children:m.textKey?(0,s.jsx)(eM.X5,{id:m.textKey}):m.text}),(0,s.jsx)(o.N,{children:y?(0,s.jsx)("div",{className:"pt-2",children:(0,s.jsx)(sm.a,{state:"writing"})}):(0,s.jsx)(d.P.div,{initial:{opacity:0},animate:{opacity:1},transition:{ease:"easeIn",duration:.25},children:(0,s.jsx)(su.fP,{className:"font-claude-response flex-1 flex flex-col gap-2",text:i})})})]})]}):(0,s.jsx)("div",{className:"flex-1 grid place-items-center text-center",children:(0,s.jsxs)("div",{className:"w-full",children:[(0,s.jsx)("div",{className:"text-sm text-text-500 font-medium mb-4",children:(0,s.jsx)(Z.A,{defaultMessage:"Preview with an example...",id:"YdUmd5z6YL"})}),(0,s.jsx)("div",{className:"flex flex-wrap justify-center gap-2 w-full",children:x.map(e=>(0,s.jsx)("button",{onClick:()=>p(e),className:"\n                    rounded-full\n                    border-0.5\n                    border-border-300\n                    text-sm\n                    text-text-400\n                    font-medium\n                    h-8\n                    px-3\n                    flex\n                    items-center\n                    bg-gradient-to-b\n                    from-always-black/0\n                    to-always-black/5\n                    hover:bg-accent-secondary-900\n                    hover:text-accent-secondary-000\n                    hover:border-accent-secondary-100/50\n                    transition-colors",children:e.nameKey?(0,s.jsx)(eM.X5,{id:e.nameKey}):e.name},e.key))})]})})})},sT=e=>{let{style:t,returnToListScreen:a,onRename:n,setStateToManualEdit:l}=e,i=(0,tK.X)(t),r="default"===t.type,{isPending:o,mutateAsync:d}=(0,a$.M$)(i),{addHiddenPresetStyle:c}=sC(),{clearStoredStyle:u,storedStyle:m}=(0,tB.p)(),{addError:p}=(0,q.Y)(),h=(0,G.A)(),f=async()=>{if(r)c(t),setTimeout(()=>{a()},500);else try{await d(),m&&"uuid"in m&&m.uuid===t.uuid&&u(),a()}catch(e){p(h.formatMessage({defaultMessage:"Failed to delete style. Please try again.",id:"4eIHICfKCI"}),{error:e,messageForLogging:"Failed to delete style. Please try again."})}};return(0,s.jsxs)(e_.ms,{align:"end",unstyledTrigger:!0,trigger:(0,s.jsxs)(ek.$,{variant:"ghost",className:"max-sm:min-w-8 max-sm:px-2 sm:pl-3 sm:pr-2",children:[(0,s.jsxs)("span",{className:"hidden sm:flex items-center gap-1",children:[(0,s.jsx)(Z.A,{defaultMessage:"Options",id:"NDV5MqT9ww"}),"\xa0",(0,s.jsx)(sb.a,{})]}),(0,s.jsx)("span",{className:"sm:hidden",children:(0,s.jsx)(sf.L,{weight:"bold",size:20})})]}),children:[!r&&(0,s.jsx)(e_.tJ,{disabled:o,onClick:()=>{n()},children:(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)(sx.g,{className:"mr-2"}),(0,s.jsx)(Z.A,{defaultMessage:"Rename style",id:"sEO8vFphTF"})]})}),"Concise"===i?(0,s.jsx)(e_.q,{className:"text-sm",children:(0,s.jsx)(Z.A,{defaultMessage:"Concise style can’t be hidden",id:"zTztS+Om9I"})}):(0,s.jsx)(e_.tJ,{className:"pr-0 !text-danger-000",disabled:o,onClick:f,children:r?(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(sg.C,{}),(0,s.jsx)(Z.A,{defaultMessage:"Hide preset style",id:"z44N28JZYv"})]}):(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(sy.l,{}),(0,s.jsx)(Z.A,{defaultMessage:"Delete style",id:"fAqSoPl78t"})]})}),!r&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(e_.DG,{}),(0,s.jsx)(e_.tJ,{onClick:l,children:(0,s.jsx)(Z.A,{defaultMessage:"Edit style manually",id:"H+z4uo2Wfn"})})]})]})},sO=e=>{let{size:t=16,className:a}=e;return(0,s.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",stroke:"currentColor",width:t,height:t,viewBox:"0 0 16 16",className:a,strokeLinecap:"round",strokeLinejoin:"round",children:[(0,s.jsx)("path",{d:"M8.5 4.5c-3 2-4.5 4-5.5 8L2.5 15l1-1.5"}),(0,s.jsx)("path",{d:"M3 4.5c-.5 1.3-.1 5 .4 6.5 0 0 1.9-2 4.1-3 1.8-.8 3.8-.6 4.5-2 .6-1.2-.2-1.7-1.5-1 1.2-.7 4-2 3-3.5-1-1.4-3.5-.1-4.5.8C9 1.9 9 .9 8 1c-1 .1-2 1.5-2.3 2.8 0 0 0-.7-.7-.8-.7-.1-1.6.5-2 1.5Z"}),(0,s.jsx)("path",{d:"M10.5 11v4m-2-2h4"})]})};var sR=a(59880),sD=a(94879),sP=a(19610),sz=a(82356),sF=a(85401);let sL=(0,c.forwardRef)((e,t)=>{let{setScreen:a,styles:n,onStyleChange:l}=e,{hiddenPresetStyles:i,resetHiddenPresetStyles:r}=sC(),{sortStyles:o,setOrder:u}=function(){let[e,t]=(0,sj.Vc)("userStylesOrder",[]);return{sortStyles:(0,c.useCallback)(t=>[...t].sort((t,a)=>{let s=(0,tK.X)(t),n=(0,tK.X)(a);if("Default"===s)return -1;if("Default"===n)return 1;let l=e.indexOf(s),i=e.indexOf(n);return -1===l&&-1===i?0:-1===l?1:-1===i?-1:l-i}),[e]),stylesOrder:e,setOrder:(0,c.useCallback)(e=>{t(e.map(e=>(0,tK.X)(e)))},[t])}}(),[m,p]=(0,c.useState)([]),h=(0,c.useCallback)(e=>{let t=[...i,"Default"];return o(e.filter(e=>!t.includes((0,tK.X)(e))))},[i,o]);(0,c.useEffect)(()=>{p(h(n))},[n,h]);let f=(0,c.useCallback)(e=>{Array.isArray(e)&&(p(e),u(e))},[u]),x=(0,c.useMemo)(()=>n.some(e=>"custom"===e.type),[n]);return(0,s.jsxs)(d.P.div,{exit:{opacity:0,transition:{duration:0}},ref:t,className:"flex-1 min-h-0 flex flex-col -mx-3",children:[(0,s.jsxs)("div",{className:"flex-1 min-h-0",children:[(0,s.jsx)(sP.x,{as:"ul",axis:"y",values:m,onReorder:f,layoutScroll:!0,className:"pl-3 pr-3 pb-2 overflow-y-auto max-h-full [mask-image:linear-gradient(to_top,hsl(var(--always-black)/0%)_0%,_hsl(var(--always-black)/100%)_3%)]",children:m.map(e=>(0,s.jsx)(sG,{style:e,onClick:()=>l(e,!1)},(0,tK.X)(e)))}),!x&&(0,s.jsxs)(d.P.div,{initial:{opacity:0,scale:.985},animate:{opacity:1,scale:1,transition:{delay:.3,ease:"easeOut",duration:.3}},exit:{opacity:0},className:"flex bg-gradient-to-b from-accent-pro-900/20 to-accent-pro-900/50 py-3 pl-3.5 pr-5 mx-3 rounded-lg border-0.5 border-border-300 text-text-300 text-sm",children:[(0,s.jsx)("div",{className:"font-ui-serif font-medium mr-4 text-accent-pro-000 mt-px whitespace-nowrap",children:(0,s.jsx)(Z.A,{defaultMessage:"Tip",id:"4j1TGZubAJ"})}),(0,s.jsx)("p",{children:(0,s.jsx)(Z.A,{defaultMessage:"Choose from preset styles or create your own custom style to tailor elements of Claude’s written responses such as tone, voice, vocabulary, detail level, and more. <link>Learn about styles</link>",id:"pwT6iI4QV7",values:{link:e=>(0,s.jsx)(aQ.Y,{href:"https://support.anthropic.com/en/articles/10181068-configuring-and-using-styles",target:"_blank",children:e})}})})]})]}),(0,s.jsxs)("div",{className:"flex justify-between items-center mt-4 mx-3",children:[(0,s.jsx)(ek.$,{onClick:()=>a(tJ.I.CREATE),prepend:(0,s.jsx)(sO,{}),children:(0,s.jsx)(Z.A,{defaultMessage:"Create custom style",id:"9y/YEanHck"})}),i.length>0&&(0,s.jsx)(aQ.Y,{onClick:r,children:(0,s.jsx)(Z.A,{defaultMessage:"Reset preset styles",id:"EITqrHaUNi"})})]})]})});sL.displayName="ListStyles";let sG=e=>{let{style:t,onClick:a}=e,n="default"===t.type,l=(0,sz.m)(),[i,o]=(0,c.useState)(!1);return(0,s.jsxs)(sF.N,{value:t,dragListener:!1,dragControls:l,dragTransition:{bounceStiffness:500,bounceDamping:40},onDragStart:()=>o(!0),onDragEnd:()=>o(!1),className:"relative my-2 min-w-0",children:[(0,s.jsxs)("button",{className:(0,r.A)("\n          flex\n          items-center\n          w-full\n          h-11\n          py-4\n          pl-1\n          pr-3\n          min-w-0\n          rounded-lg\n          transition\n          border-0.5\n          border-border-300\n          bg-bg-100\n          bg-gradient-to-b\n          from-bg-300/0\n          to-bg-300/50\n          select-none\n          relative\n        ",i?"scale-y-[1.015] scale-x-[1.0025] shadow-md":"group hover:enabled:from-accent-secondary-200/0 hover:enabled:to-accent-secondary-200/10 hover:enabled:border-accent-secondary-200/50"),onClick:a,children:[(0,s.jsx)("div",{className:"flex min-w-0 items-center flex-1 pl-7 truncate",children:"default"===t.type&&t.nameKey?(0,s.jsx)(eM.X5,{id:t.nameKey}):t.name}),n&&(0,s.jsx)("div",{className:"mr-0.5 rounded-full px-2 py-0.5 bg-text-300/5 text-text-400 font-medium text-[0.625rem]",children:(0,s.jsx)(Z.A,{defaultMessage:"Preset",id:"EucS2pAMVS"})}),(0,s.jsx)("div",{className:"text-accent-secondary-200 opacity-0 scale-50 transition group-hover:scale-100 group-hover:opacity-100",children:n?(0,s.jsx)(sR.Q,{}):(0,s.jsx)(sx.g,{})})]}),(0,s.jsx)("div",{onPointerDown:e=>l.start(e),onClick:e=>e.stopPropagation(),className:"w-7 h-7 absolute left-1 top-1/2 -translate-y-1/2 grid place-items-center cursor-move text-text-500 hover:text-accent-secondary-000",children:(0,s.jsx)(sD.H,{size:16,weight:"bold"})})]})},sU=e=>{let{openWithScreen:t,onClose:a,styles:n,setChatStyle:l}=e,i=(0,G.A)(),r=!!t,d=(0,eD.st)(),[u,m]=(0,c.useState)(t||tJ.I.LIST),[p,h]=(0,c.useState)(),[f,x]=(0,c.useState)(!1),[g,y]=(0,c.useState)(!1),v=(0,c.useRef)(!1);(0,c.useEffect)(()=>{t&&m(t)},[t]);let b=()=>{v.current=!1,m(tJ.I.LIST),x(!1),y(!1)},j=()=>{(!f||window.confirm(i.formatMessage({defaultMessage:"Are you sure? Closing while editing may not synchronize changes.",id:"0XdWZrmwXu"})))&&(d.track({event_key:"styles.modal",open:!1}),b(),a())},C=(e,t)=>{v.current=t,h(e),m(tJ.I.EDIT),x(!1),y(!1)};return(0,s.jsx)(e0.aF,{modalSize:"xl",title:(e=>{switch(e){case tJ.I.CREATE:return(0,s.jsx)("div",{className:"font-ui-serif font-normal",children:(0,s.jsx)(Z.A,{defaultMessage:"Create a style",id:"/pKvFi9Ak4"})});case tJ.I.CREATE_MANUALLY:return(0,s.jsx)("div",{className:"font-ui-serif font-normal",children:(0,s.jsx)(Z.A,{defaultMessage:"Describe your style",id:"Ntblq5cSRe"})});case tJ.I.LIST:return(0,s.jsx)("div",{className:"font-ui-serif font-normal",children:(0,s.jsx)(Z.A,{defaultMessage:"Customize your styles",id:"dn3MiW/vUH"})});case tJ.I.EDIT:return(0,s.jsx)("div",{className:"w-10/12 sm:w-5/12 md:w-7/12",children:g?(0,s.jsx)(sY,{style:p,onClose:e=>{e&&h(e),y(!1)}}):(0,s.jsx)("button",{title:p.name,className:"w-full font-ui-serif font-normal text-left truncate cursor-text h-9 pr-4 leading-none translate-y-px text-text-200 hover:text-text-000",onClick:()=>!f&&y(!0),children:f?(0,s.jsx)(Z.A,{defaultMessage:"Edit {name}",id:"s3IOQQ+nJU",values:{name:p.name}}):"default"===p.type&&p.nameKey?(0,s.jsx)(eM.X5,{id:p.nameKey}):p.name})})}})(u),icon:(e=>{switch(e){case tJ.I.CREATE:case tJ.I.EDIT:return(0,s.jsx)(ek.$,{variant:"ghost",size:"icon_sm",disabled:f,onClick:()=>b(),children:(0,s.jsx)(aX.n,{})});case tJ.I.CREATE_MANUALLY:return(0,s.jsx)(ek.$,{variant:"ghost",size:"icon_sm",onClick:()=>m(tJ.I.CREATE),children:(0,s.jsx)(aX.n,{})});case tJ.I.LIST:return null}})(u),isOpen:r,onClose:j,className:"h-[35rem] !bg-gradient-to-b from-bg-100 to-bg-200 !pt-5 !pb-7",prependBeforeCloseButton:(0,s.jsx)(s.Fragment,{children:u===tJ.I.LIST&&(0,s.jsx)(eA.Tooltip,{tooltipContent:i.formatMessage({defaultMessage:"Learn more about styles ↗",id:"nuhnis5YtY"}),children:(0,s.jsx)("div",{className:"mr-1",children:(0,s.jsx)(ek.$,{href:"https://support.anthropic.com/en/articles/10181068-configuring-and-using-styles",variant:"ghost",className:"text-text-300",size:"icon",target:"_blank",children:(0,s.jsx)(aZ.v,{size:18})})})})}),hasCloseButton:!0,children:(0,s.jsxs)(o.N,{mode:"popLayout",children:[u===tJ.I.CREATE&&(0,s.jsx)(sa,{onStyleChange:C,setScreen:m,animateBoolRef:v},"CreateStyleScreen"),u===tJ.I.CREATE_MANUALLY&&(0,s.jsx)(sc,{onStyleChange:C,setScreen:m},"CreateStyleManuallyScreen"),u===tJ.I.LIST&&(0,s.jsx)(sL,{setScreen:m,styles:n,onStyleChange:C},"ListStylesScreen"),u===tJ.I.EDIT&&p&&(0,s.jsx)(sA,{animateBoolRef:v,style:p,returnToListScreen:b,setIsEditingName:y,setCurrentStyle:h,setIsEditing:x,setChatStyle:e=>{l(e),j()}},"EditStyleScreen")]})})},sY=e=>{let{style:t,onClose:a}=e,n=(0,tK.X)(t),l="default"===t.type,i=(0,G.A)(),[r,o]=(0,c.useState)("default"===t.type&&t.nameKey?(0,eM.fl)({id:t.nameKey,intl:i}):t.name),{isPending:d,mutateAsync:u}=(0,a$.lo)(n,l),m=async()=>{a(await u({name:r}))};return(0,s.jsx)("form",{className:"w-full",onSubmit:async e=>{e.preventDefault(),await m()},children:(0,s.jsx)(aL.ks,{autoFocus:!0,className:"w-full",value:r,maxLength:64,onChange:e=>o(e.target.value),error:0===r.length,append:(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(ek.$,{variant:"ghost",type:"button",size:"unset",className:"w-7 h-7 rounded-md mr-1",onClick:()=>a(),disabled:d,children:(0,s.jsx)(at.X,{})}),(0,s.jsx)(ek.$,{variant:"claude",size:"unset",className:"w-7 h-7 rounded-md",type:"submit",loading:d,children:(0,s.jsx)(eS.J,{weight:"bold"})})]})})})};var sH=a(96469),sV=a(34096);let sW=()=>{let e=(0,W.QN)(),{setSyncSourceUuids:t,syncSourceUuids:a,attachments:n,setAttachments:l}=(0,W.Jy)(e=>({setSyncSourceUuids:e.setSyncSourceUuids,syncSourceUuids:e.syncSourceUuids,attachments:e.attachments,setAttachments:e.setAttachments})),{setProjectUuid:i,setIsUploadingGithubSync:r}=(0,v.oM)(),{styleModalOpenWithScreen:o,setStyleModalOpenWithScreen:d,createProjectModalIsOpen:m,setCreateProjectModalIsOpen:p,githubModalIsOpen:h,setGithubModalIsOpen:f,gmailAuthModalIsOpen:x,setGmailAuthModalIsOpen:g,createPromptArgumentModalIsOpen:y,setCreatePromptArgumentModalIsOpen:b}=(0,tw.CH)(),{mcpDirectoryModalIsOpen:j,setMcpDirectoryModalIsOpen:C}=(0,tw.tl)(),{personalizedStyleOptions:M}=(0,tB.p)(),w=(0,ee.sb)(),k=(0,t8.pi)(),_=(0,c.useCallback)(e=>{t(t=>[...t,e.uuid]),r(!1)},[t,r]),A=(0,u.NY)(a),N=(0,aF.B7)(A);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(sU,{openWithScreen:o,onClose:()=>d(null),styles:M,setChatStyle:e=>k(e.key)}),(0,s.jsx)(sV.r,{isOpen:!!x,onClose:()=>g(!1),callerIdentifier:"inputMenu"}),(0,s.jsx)(aK,{moveAttachments:!!(null==m?void 0:m.moveAttachments),isOpen:!!(null==m?void 0:m.isOpen),handleClose:()=>p(null),handleProjectCreated:e=>{i(e.uuid),p(null)},syncSources:N,attachments:n,setSyncSourceUuids:t,setAttachments:l}),(0,s.jsx)(sH.s,{location:"chat",projectUuid:e,isOpen:h,onClose:()=>f(!1),onCreated:_,setIsUploadingGithubSync:r}),y&&(0,s.jsx)(aH,{isOpen:y.isOpen,onClose:()=>b(null),serverUuid:y.serverUuid,prompt:y.prompt}),w&&(0,s.jsx)(ap.TY,{isOpen:j,setIsOpen:C,showManageButton:!0})]})};var sJ=a(89568);let sB=(0,c.forwardRef)((e,t)=>{var a;let{promptInputSsrEnabled:n,isTipTapReady:l,promptInputSsrTextareaRef:i,onSubmit:r,onReady:o,placement:d,placeholder:c,fetchInputAutocompletion:u,className:m}=e,{prompt:p,tipTapEditorState:h}=(0,W.QT)(),{setTipTapEditorState:f}=(0,W.Jy)(e=>({setTipTapEditorState:e.setTipTapEditorJSON})),x=n&&!l&&(null==(a=i.current)?void 0:a.value)?{type:"doc",content:[{type:"paragraph",content:[{type:"text",text:i.current.value}]}]}:h;return(0,s.jsx)(sJ.P,{ref:t,prompt:p,tipTapEditorState:x,setTipTapEditorState:f,onSubmit:r,onReady:o,placement:d,placeholder:c,fetchInputAutocompletion:u,className:m})});sB.displayName="PromptInputWithState";let sK=(0,c.forwardRef)((e,t)=>{let{disabled:a,placement:f,placeholder:x,onSubmit:g,onReady:b,onRetry:j,enableScreenDrop:C=!1,disableDropZone:M=!1}=e,w=(0,W.QN)(),k=(0,W.N3)(),{previewPrompt:S,setPrompt:I,setAttachments:T,setFiles:O,attachments:P,files:F,syncSourceUuids:L,setSyncSourceUuids:H}=(0,W.Jy)(e=>({previewPrompt:e.previewPrompt,setPrompt:e.setPrompt,setAttachments:e.setAttachments,setFiles:e.setFiles,attachments:e.attachments,files:e.files,syncSourceUuids:e.syncSourceUuids,setSyncSourceUuids:e.setSyncSourceUuids})),{isUploadingDriveSync:V,isUploadingGithubSync:ec,sendMessage:eu,conversation:em,isChatSyncing:ep,isProjectSyncing:eh,isSending:ef,focusInput:ex,promptInputRef:eg,willRedirectOnSubmit:ey,hasBlockingWarning:ev,isUploadingFile:eb,setIsUploadingFile:ej,validateMaxUploadLimit:eC,onPasteFiles:eM,uploadInputProps:ew,hasAttachments:ek,isNewConversation:e_,isImprovingPrompt:eA,wiggleEnabled:eN}=(0,v.oM)(),{incognitoModeEnabled:eS}=(0,E.S)(),{toggleConversationSetting:eE}=(0,p.rX)(),eI=(0,p.vP)("paprika_mode");!function(e){let{matchShortcut:t}=(0,eo.wk)("extended_thinking");(0,eo.Kh)("extended_thinking",e),(0,c.useEffect)(()=>{if(!e)return;let a=a=>{if(t(a))return a.preventDefault(),a.stopPropagation(),e(),!1};return document.addEventListener("keydown",a,!0),()=>document.removeEventListener("keydown",a,!0)},[t,e])}((0,c.useCallback)(()=>{eE("paprika_mode",eI?null:"extended")},[eE,eI])),(0,c.useImperativeHandle)(t,()=>({setContent:(e,t,a)=>{I(e,{forceUpdateTiptap:!0}),T("function"==typeof t?t(P):t),O("function"==typeof a?a(F):a)},sendMessage:eu,setAttachments:e=>{T("function"==typeof e?e(P):e)},getAttachments:()=>P})),(()=>{let{setPrompt:e,setAttachments:t,setFiles:a}=(0,W.Tc)(e=>({setPrompt:e.setPrompt,setAttachments:e.setAttachments,setFiles:e.setFiles}),"useSavePromptOnFail"),{failedStreamRetryData:s,setFailedStreamRetryData:n}=(0,ei.x)();(0,c.useEffect)(()=>{null!==s&&(e(s.prompt),t(s.attachments),a(s.files),n(null))},[s,t,n,a,e])})();let{fetchInputAutocompletion:eT}=(0,m.$z)(null==em?void 0:em.id),{handleDriveDocUrlPaste:eO,parseDriveUrl:eR}=(()=>{let e=(0,W.BN)(),{setSyncSourceUuids:t}=(0,W.Jy)(e=>({setSyncSourceUuids:e.setSyncSourceUuids})),{isAtMaxNumUploads:a,setIsUploadingDriveSync:n}=(0,v.oM)(),l=(0,Q.LP)(),{addError:i}=(0,q.Y)(),r=(0,G.A)(),{activeOrganization:o}=(0,K.YL)(),d=null==o?void 0:o.uuid,m=(0,en.Uz)({type:"remote"}),p=(0,et.kO)(),h=(0,$.p9)(),f=null==m?void 0:m.find(e=>e.url&&et.TI[e.url]===X.v8.GDRIVE),x=!f&&p,{mutate:g}=(0,u.EF)({onMutate:()=>{n(!0)},onSuccess:e=>{t(t=>[...t,e.uuid]),n(!1)},onError:e=>{n(!1),i((0,es.J)(e),{error:e,errorContext:{tags:{source:"drive_url_paste_sync_create"}}})},meta:{noToast:!0}}),{mutateAsync:y}=(0,ee.Ax)(),{isDriveAuthenticated:b,initDriveAuth:j}=(0,Q.cI)({callerIdentifier:"chat-input",handleAuthSuccess:()=>{let t=e.getState().getPrompt().match(/(https?:\/\/[^\s]+)/gi)||[],a=f?ea.V7:ea.$g;for(let e of t){let t=a(e);t&&C(t,e,!0)}}}),C=(0,c.useCallback)(async function(e,t){let o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!x&&(l||o)){if(!b&&!o)return void i((0,s.jsx)("span",{children:(0,s.jsx)(Z.A,{defaultMessage:"<button>Authenticate</button> to paste link as attachment",id:"85AH1hyv0s",values:{button:e=>(0,s.jsx)("button",{className:"underline",onClick:j,children:e})}})}));if(a)return void i(r.formatMessage({defaultMessage:"You can add at most {maxUploads, plural, one {# attachment} other {# attachments}} to a message.",id:"wvnM4s8976"},{maxUploads:B.XA.maxTotalUploadsPerMessage}),{messageForLogging:"You can add at most {maxUploads, plural, one {# attachment} other {# attachments}} to a message."});if(f){let e=f.resources.find(e=>e.uri===t);if(e)return void g({sync_source_type:X.v8.MCP_RESOURCES,sync_source_config:{server_uuid:f.uuid,resource:{...e}}});if(h&&!(0,en.HG)(f.uuid,h)&&d){n(!0);try{let e=await y({resource_uri:t,server_uuid:f.uuid});if(e){let t=e.resource;g({sync_source_type:X.v8.MCP_RESOURCES,sync_source_config:{server_uuid:f.uuid,resource:{...t}}})}n(!1)}catch(e){n(!1),i("Failed to fetch. You can try again.",{error:e,errorContext:{tags:{action:"get_resource_for_drive_doc_paste"}}})}}else try{n(!0);let e=(0,en.KU)(f.uuid),a=await e.readResource({uri:t});if(a.contents.length>0){var c;let e={...a.contents[0]};g({sync_source_type:X.v8.MCP_RESOURCES,sync_source_config:{server_uuid:f.uuid,resource:{...e,name:null!=(c=e.name)?c:"Unknown Title"}}})}n(!1)}catch(e){n(!1),i("Failed to fetch. You can try again.",{error:e,errorContext:{tags:{action:"get_resource_for_drive_doc_paste"}}})}}else g({sync_source_type:X.v8.GDRIVE,sync_source_config:{uri:e}})}},[x,l,b,a,f,h,d,y,i,j,r,g,n]);return{handleDriveDocUrlPaste:C,parseDriveUrl:f?ea.V7:ea.$g}})(),eD=function(e,t,a,s,n,l,i,r,o){let[d,u]=(0,c.useState)(!1);return(0,c.useEffect)(()=>{let e=e=>{"Shift"===e.key&&u(!0)},t=e=>{"Shift"===e.key&&u(!1)};return window.addEventListener("keydown",e),window.addEventListener("keyup",t),()=>{window.removeEventListener("keydown",e),window.removeEventListener("keyup",t)}},[]),(0,c.useCallback)(e=>{var a,c,u;let m=null==(c=e.clipboardData)||null==(a=c.files)?void 0:a.length,p=null==(u=e.clipboardData)?void 0:u.getData("text/plain"),h=null==p?void 0:p.length;if(h&&!m){let e=i(p);e&&l(e,p)}if(m&&!h){s({newUploads:Array.from(e.clipboardData.files)})&&n(e.clipboardData.files),e.preventDefault();return}if(!s({numNewPotentialAttachments:1,showError:!1})||r||!h||p.length<4e3||d)return;e.preventDefault();let f=new Blob([p]).size,x=(0,el.qy)();if(o&&f>x){let e=new File([new Blob([p],{type:"text/plain"})],"pasted-content-".concat(Date.now(),".txt"),{type:"text/plain",lastModified:Date.now()}),t=new DataTransfer;t.items.add(e),n(t.files)}else t(e=>[...e,{file_name:"",file_size:p.length,file_type:"txt",extracted_content:p}])},[s,t,n,l,i,d,r,o])}(0,T,0,eC,eM,eO,eR,(0,tk.lS)(),eN),eP=(0,c.useCallback)(e=>{var t,a;(null==eg||null==(a=eg.current)||null==(t=a.getEditor())?void 0:t.isFocused)&&eD(e)},[eD,eg]),ez=(0,J.U)(w),eF=(0,i.q)(),eL=(0,ed.Z)(null==em?void 0:em.id),eG=!!(em&&em.isSampling&&!eL),eU=a||ef||k&&0===P.length&&0===F.length&&0===L.length||eb||V||ec||ep||eh||ev||ez||eG,eY=(0,c.useCallback)(async()=>{!eU&&(await eu(),g&&g())},[eU,g,eu]),eH=(0,c.useCallback)(e=>{let t=e.target;"BUTTON"===t.tagName||t.closest("button")||t.closest("[role]")||t.closest("a")||t.closest("input")||t.closest("select")||t.closest("textarea")||ex()},[ex]),eV=(0,c.useRef)(null),eW=(0,u.NY)(L).map((e,t)=>{let{data:a}=e;return{syncSource:a,uuid:L[t]}}),eJ=(0,s.jsx)(o.N,{initial:!1,children:ek&&(0,s.jsx)(d.P.div,{className:"overflow-hidden rounded-b-2xl",initial:{height:0},animate:{height:"auto"},exit:{height:0},children:(0,s.jsx)(y,{isUploadingFile:eb,isUploadingSync:V||ec,attachments:P,files:F,syncSourceResults:eW,onRemoveAttachment:e=>{T(t=>t.filter((t,a)=>a!==e))},onRemoveFile:e=>{O(t=>t.filter((t,a)=>a!==e))},onRemoveSyncSource:e=>{H(t=>t.filter(t=>t!==e))}})},"attachments")}),eB=(0,er.h)(null==em?void 0:em.id,null==em?void 0:em.model),eK=(0,n.WZ)(null==em?void 0:em.id),eq=(0,l.fS)("hey_hello_hi"),eX=U({placeholder:x,isNewConversation:e_}),{isTipTapReady:eZ,promptInputSsrEnabled:e$,promptInputSsrTextareaRef:eQ,handleTipTapReady:e0}=R(),e1=!e$&&!eF,e4=!e$||eF;if(e1)return(0,s.jsx)(Y,{placement:f,textareaRef:eQ});if(eq&&em&&eB&&"refusal"===eB.stopReason&&eB.fallback&&eB.lastMessage&&em.id&&em.model)return(0,s.jsx)(h.sF,{model:em.model,conversationUuid:em.id,lastMessage:eB.lastMessage,fallback:eB.fallback,onRetryWithFallback:async()=>{if(!eB.lastMessage.parent_message_uuid)return;let{model:e}=await eK.mutateAsync();null==j||j(eB.lastMessage.parent_message_uuid,e)}});let e2=S&&k;return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(z,{children:[e$&&(0,s.jsx)(D,{children:(0,s.jsx)(Y,{placement:f,textareaRef:eQ,hidden:eF})}),e4&&(0,s.jsx)(D,{children:(0,s.jsxs)(N,{onPasteCapture:eP,children:[(0,s.jsx)("input",{ref:eV,id:(0,tZ.h)(f),"data-testid":"file-upload","aria-hidden":"true",tabIndex:-1,className:"absolute -z-10 h-0 w-0 overflow-hidden opacity-0 select-none",...ew}),"bottom"===f&&(0,s.jsx)("div",{className:"px-3 md:px-2",children:(0,s.jsx)(h.Qg,{placement:f,onRetry:(e,t)=>null==j?void 0:j(e,t)})}),(0,s.jsxs)(A,{onClick:eH,className:(0,r.A)("border border-transparent",ey&&ef&&"animated-loading-background",eA?"transition-all duration-500 ring-1 ring-border-300/50 dark:ring-border-300/50":"",eS?"border-dashed bg-clip-padding !border-border-200 shadow-[0_0.25rem_1.25rem_hsl(var(--always-black)/3.5%)] focus-within:shadow-[0_0.25rem_1.25rem_hsl(var(--always-black)/7.5%)]":"shadow-[0_0.25rem_1.25rem_hsl(var(--always-black)/3.5%),0_0_0_0.5px_hsla(var(--border-300)/0.15)] hover:shadow-[0_0.25rem_1.25rem_hsl(var(--always-black)/3.5%),0_0_0_0.5px_hsla(var(--border-200)/0.3)] focus-within:shadow-[0_0.25rem_1.25rem_hsl(var(--always-black)/7.5%),0_0_0_0.5px_hsla(var(--border-200)/0.3)] hover:focus-within:shadow-[0_0.25rem_1.25rem_hsl(var(--always-black)/7.5%),0_0_0_0.5px_hsla(var(--border-200)/0.3)]"),children:[(0,s.jsxs)("div",{className:"flex flex-col gap-3.5 m-3.5",children:[(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(sB,{ref:eg,onSubmit:eY,onReady:e=>{e0(e.editor),null==b||b()},placement:f,placeholder:eX,fetchInputAutocompletion:eT,className:(0,r.A)(e2?"!opacity-0":void 0),promptInputSsrEnabled:e$,isTipTapReady:eZ,promptInputSsrTextareaRef:eQ}),(0,s.jsx)(o.N,{children:e2?(0,s.jsx)(d.P.p,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"self-start absolute pointer-events-none inset-0 text-text-500 line-clamp-2",children:S}):eA&&!k?(0,s.jsx)(d.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-0 pointer-events-none overflow-hidden rounded",children:(0,s.jsx)(d.P.div,{className:"absolute inset-0 bg-gradient-to-r from-transparent via-always-white/20 dark:via-always-white/10 to-transparent",animate:{x:["-100%","100%"]},transition:{duration:1.5,ease:"easeInOut",repeat:1/0}})}):null})]}),(0,s.jsx)(aE,{placement:f,isDisabled:eU,skipInitialAnimation:e$&&!eZ})]}),(0,s.jsx)(aD,{disabled:M,enableScreenDrop:C}),eJ]}),"bottom"!==f&&(0,s.jsx)("div",{className:"px-3 md:px-2",children:(0,s.jsx)(h.Qg,{placement:f,onRetry:(e,t)=>null==j?void 0:j(e,t)})}),"bottom"===f&&(0,s.jsx)(_,{})]})})]}),(0,s.jsx)(sW,{})]})});sK.displayName="ChatInputContent";let sq=(0,c.forwardRef)((e,t)=>{let{disabled:a,placement:n,placeholder:l,onSubmit:i,onReady:r,onRetry:o,enableScreenDrop:d=!1,disableDropZone:c=!1}=e;return(0,s.jsx)(tw.Xx,{placement:n,children:(0,s.jsx)(sK,{ref:t,disabled:a,placement:n,placeholder:l,onSubmit:i,onReady:r,onRetry:o,enableScreenDrop:d,disableDropZone:c})})});sq.displayName="ChatInput"},35415:(e,t,a)=>{a.d(t,{EY:()=>i});var s=a(1613),n=a(64328),l=a(66365);let i=()=>{let{data:e,...t}=(()=>{let{activeOrganization:e}=(0,n.YL)(),t=null==e?void 0:e.uuid,a=(0,n.h0)(),i=(0,l.useLayer)("trials_freemium"),r=!a&&i.get("free_thinking",!1)&&!!t;return(0,s.Sk)("/api/organizations/".concat(t,"/feature_limits"),{queryKey:["FEATURE_LIMITS",t],enabled:r,staleTime:3e5})})(),a=null==e?void 0:e.limits.find(e=>"thinking"===e.feature);return{...t,data:a}}},48663:(e,t,a)=>{a.d(t,{BM:()=>i,jC:()=>r});var s=a(27125),n=a(68067);function l(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(0,n.Je)();return!!t&&t.checkGate(e)}function i(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(0,n.Je)(),a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:l(e,t);(0,s.eI)(e,l,t,a)}function r(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,n.Je)();(0,s.TA)(l,e)}},54671:(e,t,a)=>{a.d(t,{Xx:()=>L,_9:()=>F,CH:()=>G,tl:()=>U});var s=a(54568),n=a(74813),l=a(99969),i=a.n(l),r=a(7620),o=a(94629),d=a(89626),c=a(9398),u=a(47592),m=a(2e3),p=a(95617),h=a(28044),f=a(10369),x=a(96547),g=a(45538),y=a(79052),v=a(36016),b=a(22167),j=a(22624),C=a(88775),M=a(45271),w=a(35580),k=a(97208),_=a(3424),A=a(81023),N=a(64145),S=a(23169),E=a(43906),I=a.n(E);let T={includeScore:!0,isCaseSensitive:!1,ignoreLocation:!0,threshold:.4},O={path:null,inputMenuSearchQuery:"",setInputMenuSearchQuery:i(),inputMenuIsOpen:!1,setInputMenuIsOpen:i(),menuView:{rootItems:[],currentItems:[]},handleClickItem:i(),handleBack:i(),highlightedItemKey:null,setHighlightedItemKey:i(),animationDirection:"none"},R={...O,styleModalOpenWithScreen:null,setStyleModalOpenWithScreen:i(),createProjectModalIsOpen:null,setCreateProjectModalIsOpen:i(),githubModalIsOpen:!1,setGithubModalIsOpen:i(),gmailAuthModalIsOpen:!1,setGmailAuthModalIsOpen:i(),createPromptArgumentModalIsOpen:null,setCreatePromptArgumentModalIsOpen:i()},D={...O,mcpDirectoryModalIsOpen:!1,setMcpDirectoryModalIsOpen:i()},P=(0,r.createContext)(R),z=(0,r.createContext)(D),F=e=>{let{actions:t,rootItems:a,menuType:l,inputMenuIsOpen:i,setInputMenuIsOpen:o}=e,u=(0,n.st)(),p=(0,r.useRef)(null),[h,x]=(0,r.useState)(null),[v,b]=(0,r.useState)(null),[C,M]=(0,r.useState)(""),w=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!i&&e){o(!0),"plus"===l&&u.track({event_key:"claudeai.plus_menu.opened"});return}if(i&&!e){M("");let e=()=>{var e;k(null,!0),b(null),o(!1),null==(e=document.getElementById("input-".concat(l,"-menu-trigger")))||e.focus()};t.withDelay?setTimeout(e,200):e()}},k=(e,t)=>{t?p.current=e:p.current=h,x(e)},_=(()=>{if(h){let e=a.find(e=>e.key===h);if(e&&"children"in e)return e.children}return a})(),E=(e=>{let{actions:t,inputMenuSearchQuery:a,inputMenuIsOpen:n,pathItems:l,path:i,menuType:o}=e,u=(0,f.A)(),p=(0,r.useRef)(a),{handleSearchDrive:h,searchedDriveItems:x}=(e=>{let{path:t,actions:a,inputMenuSearchQuery:n,inputMenuIsOpen:l,menuType:i}=e,o="drive",d=(t===o||!t)&&l&&"plus"===i,u=(0,y.LP)(),[p,h]=(0,r.useState)([]),{recentDriveDocs:f}=(0,y.zH)(d),x=(0,r.useMemo)(()=>new S.A(f,{...T,keys:["title"]}),[f]);return u&&d?{handleSearchDrive:()=>{let e=n.toLowerCase();if(!e||!f)return[];h(x.search(e,{limit:t===o?10:5}).map(e=>({key:e.item.uri,type:"button",label:e.item.title||"",icon:(0,s.jsx)(c.A9,{type:m.v8.GDRIVE,variant:c.UF.DOCS,size:16}),onClick:()=>{a.createDriveSyncSource(e.item.uri)}})))},searchedDriveItems:p}:{handleSearchDrive:()=>[],searchedDriveItems:[]}})({path:i,actions:t,inputMenuSearchQuery:a,inputMenuIsOpen:n,menuType:o}),{handleSearchProjects:v,searchedProjectItems:b}=(e=>{let{path:t,actions:a,inputMenuSearchQuery:n,inputMenuIsOpen:l,menuType:i,pathItems:o}=e,c="projects",u=(0,j.K)(),m=o.map(e=>{let{key:t}=e;return t}).indexOf("projects")>-1||"projects"===t,p=!!(n&&m&&(t===c||!t)&&l&&u&&"plus"===i),[h,f]=(0,r.useState)([]),{data:x}=(0,g.CB)({enabled:p,limit:g.dx}),y=(0,r.useMemo)(()=>new S.A(x||[],{...T,keys:["name","description"]}),[x]);return p?{handleSearchProjects:()=>{let e=n.toLowerCase();if(!e||!x)return[];f(y.search(e,{limit:t===c?10:5}).map(e=>({type:"button",key:e.item.uuid,label:e.item.name,icon:(0,s.jsx)(d.JtL,{size:16}),subtitle:e.item.creator.full_name,onClick:()=>a.onSelectProject(e.item.uuid)})))},searchedProjectItems:h}:{handleSearchProjects:()=>[],searchedProjectItems:[]}})({path:i,actions:t,inputMenuSearchQuery:a,inputMenuIsOpen:n,menuType:o,pathItems:l}),{handleFilterMenuItems:C,filteredMenuItems:M}=(e=>{let{path:t,inputMenuSearchQuery:a,pathItems:s}=e,n=s.filter(e=>{let{menuItemHidden:t}=e;return!t}),[l,i]=(0,r.useState)([]);return"projects"===t||"drive"===t?{handleFilterMenuItems:()=>[],filteredMenuItems:[]}:{handleFilterMenuItems:()=>{let e=a.toLowerCase();if(!e)return n;let t=[];for(let e of n)t.push(e),!e.isDisabled&&"projects"!==e.key&&"drive"!==e.key&&"children"in e&&e.children&&t.push(...e.children);i(t.filter(t=>!t.nonSearchable&&"toggleAll"!==t.type&&"back"!==t.type&&"divider"!==t.type&&"string"==typeof t.label&&t.label.toLowerCase().includes(e)).slice(0,7))},filteredMenuItems:l}})({path:i,inputMenuSearchQuery:a,pathItems:l}),w=(0,r.useCallback)(()=>{C(),v(),h()},[C,v,h]),k=(0,r.useMemo)(()=>I()(()=>{w()},100),[w]);return((0,r.useEffect)(()=>{if(a&&n&&a!==p.current)return p.current=a,k(),()=>{k.cancel()}},[n,a,k]),M.length||b.length||x.length)?[M,b,x].reduce((e,t,a)=>[...e,...e.length&&t.length?[{key:"divider".concat(a+1),type:"divider",label:""}]:[],...t],[]):[{key:"loading",type:"button",label:u.formatMessage({defaultMessage:"No results found",id:"hX5PAbCTOR"}),icon:(0,s.jsx)(N.e,{size:16}),onClick:()=>void 0,isDisabled:!0}]})({actions:t,inputMenuSearchQuery:C,inputMenuIsOpen:i,pathItems:_,path:h,menuType:l}),O=C.trim().length?E:_,{handleClickItem:R,handleBack:D}=(e=>{let{currentItems:t,inputMenuIsOpen:a,setInputMenuIsOpen:s,inputMenuSearchQuery:n,setInputMenuSearchQuery:l,path:i,handleUpdatePath:o,highlightedItemKey:d,setHighlightedItemKey:c}=e,u=(0,r.useCallback)(e=>{if("toggleGroup"===e.type||"optionGroup"===e.type||"buttonGroup"===e.type)s(!0),o(e.key,!0);else if("button"===e.type||"switch"===e.type||"toggle"===e.type||"option"===e.type){var t;null==(t=e.onClick)||t.call(e)}},[s,o]),m=(0,r.useCallback)(e=>{i&&(null==e||e.preventDefault(),o(null),c(i),(0,A.l)())},[i,c,o]),p=(0,r.useCallback)(e=>{let a,s=t.filter(e=>!["subheader","divider"].includes(e.type)&&!e.isDisabled&&!e.menuItemHidden),n=s.findIndex(e=>{let{key:t}=e;return t===d});a="ArrowUp"===e?n>0?n-1:s.length-1:n<s.length-1?n+1:0,c(s[a].key)},[t,d,c]),h=(0,r.useCallback)(e=>{var t,n,i;if(!a)return void u(e);if(!e.isDisabled){if(l(""),"back"===e.type)return void m();if("button"===e.type){null==(t=e.onClick)||t.call(e),e.skipCloseOnClick||s(!1);return}if("toggleGroup"===e.type||"optionGroup"===e.type||"buttonGroup"===e.type){o(e.key),c(null),(0,A.l)();return}"option"===e.type&&(null==(n=e.onClick)||n.call(e),e.skipCloseOnClick||s(!1,{withDelay:!0})),("toggleAll"===e.type||"toggle"===e.type||"switch"===e.type)&&(null==(i=e.onClick)||i.call(e),(0,A.l)())}},[m,u,o,a,l,s,c]),f=(0,r.useCallback)((e,a)=>{if(!d)return;let s=t.find(e=>{let{key:t}=e;return t===d});s&&("Enter"===e||["optionGroup","toggleGroup","buttonGroup"].includes(s.type))&&(a.preventDefault(),h(s))},[d,t,h]);return(0,r.useEffect)(()=>{if(!a)return;let e=e=>{"Tab"===e.key?e.preventDefault():"Escape"===e.key?(e.preventDefault(),s(!1)):"ArrowUp"===e.key||"ArrowDown"===e.key?(e.preventDefault(),p(e.key)):"ArrowRight"===e.key||"Enter"===e.key?f(e.key,e):"ArrowLeft"!==e.key||n||m(e)};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[a,s,n,p,f,m]),{handleClickItem:h,handleBack:m}})({currentItems:O,inputMenuIsOpen:i,setInputMenuIsOpen:w,inputMenuSearchQuery:C,setInputMenuSearchQuery:M,path:h,handleUpdatePath:k,highlightedItemKey:v,setHighlightedItemKey:b}),P=p.current&&!h?"back":!p.current&&h?"forward":"none";return{path:h,inputMenuSearchQuery:C,setInputMenuSearchQuery:M,inputMenuIsOpen:i,setInputMenuIsOpen:w,menuView:{rootItems:a,currentItems:O},handleClickItem:R,handleBack:D,highlightedItemKey:v,setHighlightedItemKey:b,animationDirection:P}};function L(e){let{placement:t,children:a}=e,[n,l]=(0,r.useState)(!1),[i,A]=(0,r.useState)(!1),[N,S]=(0,r.useState)(null),[E,I]=(0,r.useState)(!1),[T,O]=(0,r.useState)(!1),[R,D]=(0,r.useState)(!1),[L,G]=(0,r.useState)(null),[U,Y]=(0,r.useState)(null),H=(0,_.Cn)({setMcpDirectoryModalIsOpen:D,setStyleModalOpenWithScreen:G,setCreateProjectModalIsOpen:S,setGithubModalIsOpen:I,setGmailAuthModalIsOpen:O,setCreatePromptArgumentModalIsOpen:Y}),V=(e=>{let{placement:t,actions:a,inputMenuIsOpen:n}=e,l=(0,f.A)(),i=(e=>{let{actions:t}=e,a=(0,f.A)();return(0,h.V)()||(0,u.fJ)()?null:{key:p.xd.ADD_SCREENSHOT,type:"button",icon:(0,s.jsx)(d.i7d,{size:16}),label:a.formatMessage({defaultMessage:"Take a screenshot",id:"aTaOpCB71M"}),onClick:t.onAddScreenshot}})({actions:a}),r=(0,b.kO)(),o=(e=>{let{actions:t}=e,a=(0,f.A)();return(0,v.Cq)()?{key:p.xd.GITHUB,type:"button",icon:(0,s.jsx)(c.A9,{type:m.v8.GITHUB,size:16}),label:a.formatMessage({defaultMessage:"Add from {github}",id:"h3J3E4bRfj"},{github:"GitHub"}),onClick:t.openGithubModal}:null})({actions:a}),A=(e=>{let{actions:t,inputMenuIsOpen:a}=e,n=(0,f.A)(),l=(0,k.Hd)(),i=(0,y.LP)(),{isDriveAuthenticated:r,initDriveAuth:o}=(0,y.cI)(),{recentDriveDocs:d,isLoading:u}=(0,y.zH)(a);if(!i)return null;let h=n.formatMessage({defaultMessage:"Add from {drive}",id:"hwJ50OkM/9"},{drive:"Google Drive"}),x={key:p.xd.DRIVE,icon:(0,s.jsx)(c.A9,{type:m.v8.GDRIVE,size:16}),label:h};if(!r)return{...x,type:"button",isExternal:!0,secondaryText:n.formatMessage({defaultMessage:"Connect",id:"+vVZ/G11Zg"}),onClick:o};let g=u?[{key:"drive-loading",type:"button",label:n.formatMessage({defaultMessage:"{drive} documents loading...",id:"PjuSZ/7RIb"},{drive:"Drive"}),isDisabled:!0}]:d.length?d.slice(0,8).map(e=>{var a;return{key:e.uri,type:"button",label:null!=(a=e.title)?a:"Untitled",icon:(0,s.jsx)(c.A9,{type:m.v8.GDRIVE,variant:c.UF.DOCS,size:16}),onClick:()=>{t.createDriveSyncSource(e.uri)}}}):[{key:"empty",type:"button",label:n.formatMessage({defaultMessage:"No recent {drive} documents",id:"XepM9W1Mo/"},{drive:"Drive"}),isDisabled:!0}];return{...x,type:"buttonGroup",children:[...l?[]:[{type:"back",key:"drive-back",label:h}],...g]}})({actions:a,inputMenuIsOpen:n}),N=(e=>{let{inputMenuIsOpen:t,actions:a}=e,n=(0,f.A)(),l=(0,k.Hd)(),i=(0,C.QN)(),{isProjectLocked:r}=(0,C.Jy)(e=>({isProjectLocked:e.isProjectLocked})),o=(0,j.K)(),{data:c}=(0,g.CB)({enabled:t&&o,creatorFilter:"is_creator",limit:8}),{data:u}=(0,g.CB)({enabled:t&&o,creatorFilter:"is_not_creator",limit:8}),m=[...c||[],...u||[]],{data:h}=(0,g.fo)(i),x=(null==m?void 0:m.slice(0,8).map(e=>({key:e.uuid,type:"option",label:e.name,subtitle:e.creator.full_name,onClick:()=>a.onSelectProject(e.uuid,e.name),icon:(0,s.jsx)(d.JtL,{size:16}),isChecked:e.uuid===i})))||[];if(r||!o)return null;let y=n.formatMessage({defaultMessage:"Use a project",id:"H/dsl+Px2v"});return{key:p.xd.PROJECTS,type:"optionGroup",icon:(0,s.jsx)(d.JtL,{size:16}),label:y,secondaryText:null==h?void 0:h.name,children:[...l?[]:[{type:"back",key:"projects-back",label:y}],...x,{key:"divider1",type:"divider",label:""},{key:"add",type:"button",variant:"primary",icon:(0,s.jsx)(d.OMN,{size:16}),label:n.formatMessage({defaultMessage:"Start a new project",id:"0y7bg6nA29"}),onClick:()=>a.onCreateProject(!1),nonSearchable:!0}],indicatorActive:!!h}})({actions:a,inputMenuIsOpen:n}),S=(e=>{let{actions:t}=e,a=(0,f.A)(),n=(0,w.Uz)({isConnected:!0,hasPromptsOrResources:!0}),l=(0,x.R4)(),i=(0,x.vW)();return n.map(e=>{let n=e.prompts.map(a=>({key:"prompt-".concat(e.name,"-").concat(a.name),type:"button",icon:(0,s.jsx)(d.ryu,{size:16}),label:a.displayName,onClick:()=>{var s;return(null==(s=a.arguments)?void 0:s.length)?t.onEnterPromptArguments(e.uuid,a):void i({serverUuid:e.uuid,prompt:a,args:{}})}})),r=e.resources.map(t=>({key:"resource-".concat(e.name,"-").concat(t.uri),type:"button",icon:(0,s.jsx)(d.ZHH,{size:16}),label:t.displayName,onClick:()=>void l({serverUuid:e.uuid,resource:t})}));return{key:"mcp-server-".concat(e.name),type:"buttonGroup",label:a.formatMessage({defaultMessage:"Add from {server}",id:"qEj6u51OfR"},{server:e.name}),icon:(0,s.jsx)(M.z,{size:16,type:e.iconType,src:e.iconSrc,name:e.name}),children:[...n,...r]}})})({actions:a});return[{key:p.xd.UPLOAD,type:"button",icon:(0,s.jsx)(d.o3O,{size:16}),label:l.formatMessage({defaultMessage:"Upload a file",id:"Zc9xq9TzDD"}),onClick:()=>(0,_.U_)(t)},...i?[i]:[],...o?[o]:[],...A&&!r?[A]:[],...S,...N?[{key:"divider1",type:"divider",label:""},N]:[]]})({placement:t,actions:H,inputMenuIsOpen:n}),W=F({actions:H,rootItems:V,menuType:"plus",inputMenuIsOpen:n,setInputMenuIsOpen:l}),J=(0,o.ey)({actions:H}),B=F({actions:H,rootItems:J,menuType:"tools",inputMenuIsOpen:i,setInputMenuIsOpen:A}),K=(0,r.useMemo)(()=>({...W,styleModalOpenWithScreen:L,setStyleModalOpenWithScreen:G,createProjectModalIsOpen:N,setCreateProjectModalIsOpen:S,githubModalIsOpen:E,setGithubModalIsOpen:I,gmailAuthModalIsOpen:T,setGmailAuthModalIsOpen:O,createPromptArgumentModalIsOpen:U,setCreatePromptArgumentModalIsOpen:Y}),[W,L,G,N,S,E,I,T,O,U,Y]),q=(0,r.useMemo)(()=>({...B,mcpDirectoryModalIsOpen:R,setMcpDirectoryModalIsOpen:D}),[B,R,D]);return(0,s.jsx)(P.Provider,{value:K,children:(0,s.jsx)(z.Provider,{value:q,children:a})})}function G(){return(0,r.useContext)(P)}function U(){return(0,r.useContext)(z)}},55146:(e,t,a)=>{a.d(t,{E:()=>f,I:()=>h});var s=a(19736),n=a(74813),l=a(64328),i=a(79151),r=a(4869),o=a(21113),d=a.n(o),c=a(27541),u=a(7620),m=a(56030),p=a(2327);let h=()=>{let e="new-conversation-params-for-navigation",t=(0,i.d)("pipit"),a=(0,r.useQueryClient)(),s=(0,u.useCallback)(()=>{let a=t.getItem(e);if(!a)return{};try{let e=JSON.parse(a);return d()(e,e=>Date.now()-e.created_at<6e4)}catch(a){t.removeItem(e)}return{}},[t]);return{prepareNewConversation:(0,u.useCallback)((n,l)=>{let i={created_at:Date.now(),...l};a.setQueryData([e,n],i);let r=s();r[n]=i,t.setItem(e,JSON.stringify(r))},[a,s,t]),getCreateParamsForConvo:(0,u.useCallback)(n=>{let l=s(),i=a.getQueryData([e,n])||l[n];a.removeQueries({queryKey:[e,n]});let r=d()(l,(e,t)=>t!==n);return t.setItem(e,JSON.stringify(r)),i},[a,s,t])}};function f(){var e;let{setTemporaryConversationUuid:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=(0,n.st)(),{data:i}=(0,s.Fn)(),{mutateAsync:r}=(0,s.CW)(),[o,d]=(0,p.d)(),{prepareNewConversation:f}=h(),{account:x}=(0,l.YL)(),{setCompletionStatus:g}=(0,m.U)(o,!0),y=(0,c.useRouter)();return(0,u.useCallback)(async e=>{var s;let{model:n,project_uuid:l,include_conversation_preferences:c,paprika_mode:u,compass_mode:m,create_mode:p,name:h,is_temporary:v}=e,b=r({uuid:o,name:null!=h?h:"",model:n,project_uuid:l,include_conversation_preferences:c,paprika_mode:u,compass_mode:m,create_mode:p,is_temporary:v});if(f(o,e),await b,(e.prompt||e.attachments.length>0||e.files.length>0||e.syncSources.length>0)&&g(!0),v)null==t||t(o);else if((null==x||null==(s=x.settings)?void 0:s.has_finished_claudeai_onboarding)===!1){let e=new URLSearchParams;e.append("returnTo","/chat/".concat(o));let t="/onboarding?".concat(e.toString());y.push(t)}else y.push("/chat/".concat(o));return d(),(null==i?void 0:i.is_first_conversation)&&await a.track({event_key:"chat.conversation.first_conversation_created",surface:"claude.ai"}),{uuid:o}},[r,o,d,i,a,y,f,null==x||null==(e=x.settings)?void 0:e.has_finished_claudeai_onboarding,t,g])}},55321:(e,t,a)=>{a.d(t,{U:()=>D});var s=a(54568),n=a(74813),l=a(64328),i=a(89626),r=a(23812),o=a(87483),d=a(68067),c=a(7620),u=a(10369),m=a(59666),p=a(45538),h=a(47831),f=a(35984),x=a(34498);function g(e){let{isOpen:t,onClose:a,project:n}=e,{addError:l}=(0,f.Y)(),i=(0,u.A)(),{mutateAsync:r}=(0,p.sS)(n.uuid),o=(0,c.useCallback)(async()=>{try{await r({is_archived:!0})}catch(e){throw l(i.formatMessage({defaultMessage:"Could not archive",id:"3O1N877xLt"}),{error:e,messageForLogging:"Could not archive"}),e}},[r,l,i]);return(0,s.jsx)(x.R,{isOpen:t,onClose:a,onConfirm:o,title:i.formatMessage({defaultMessage:"Archive project",id:"sxTTUDY6HD"}),message:i.formatMessage({defaultMessage:"Are you sure you want to archive {projectName}?",id:"1BieCt3ylM"},{projectName:n.name}),confirmText:i.formatMessage({defaultMessage:"Archive",id:"hrgo+EleAn"}),variant:"danger",autoFocus:!0})}var y=a(27541);function v(e){let{isOpen:t,onClose:a,project:n}=e,{addError:l,addSuccess:i}=(0,f.Y)(),r=(0,u.A)(),o=(0,y.usePathname)(),d=(0,y.useRouter)(),{mutateAsync:c,isPending:m}=(0,p.eW)(n.uuid),h=async()=>{try{await c(),i(r.formatMessage({defaultMessage:"Project deleted successfully",id:"UIJxB9dUFp"})),o==="/project/".concat(n.uuid)&&d.push("/projects")}catch(e){l(r.formatMessage({defaultMessage:"Could not delete",id:"njF5218LQD"}),{error:e,messageForLogging:"Could not delete"})}};return(0,s.jsx)(x.R,{isOpen:t,onClose:a,onConfirm:h,title:r.formatMessage({defaultMessage:"Delete project",id:"f2FD7U33A1"}),message:r.formatMessage({defaultMessage:"Are you sure you want to delete {projectName}?",id:"yc7hx3U5ir"},{projectName:n.name}),confirmText:r.formatMessage({defaultMessage:"Delete",id:"K3r6DQW7h+"}),variant:"danger",isLoading:m,testId:"delete-project-confirm-button"})}var b=a(13750),j=a(3075);function C(e){let{isOpen:t,onClose:a,project:n}=e,[l,i]=(0,c.useState)(n.unformattedName||n.name),[o,d]=(0,c.useState)(n.description),h=(0,u.A)(),{addError:x}=(0,f.Y)(),{mutateAsync:g}=(0,p.sS)(n.uuid),y=async()=>{try{await g({name:l,description:o}),a()}catch(e){x(h.formatMessage({defaultMessage:"Error updating project, please try again later",id:"eLzspFmHkT"}),{error:e,messageForLogging:"Error updating project, please try again later"})}};return(0,s.jsxs)(j.aF,{isOpen:t,onClose:a,modalSize:"md",children:[(0,s.jsx)("div",{className:"flex items-center gap-1",children:(0,s.jsx)("h2",{className:"font-xl-bold",children:(0,s.jsx)(m.A,{defaultMessage:"Edit details",id:"BVWzJ5FL/Y"})})}),(0,s.jsxs)("div",{className:"mb-6 mt-3",children:[(0,s.jsx)(b.ks,{className:"mb-4 w-full",label:h.formatMessage({defaultMessage:"Name",id:"HAlOn1ZsuY"}),value:l,onChange:e=>i(e.target.value),required:!0}),(0,s.jsx)(b.fs,{label:h.formatMessage({defaultMessage:"Description",id:"Q8Qw5BZ1VA"}),value:o,onChange:e=>d(e.target.value),minRows:6,required:!0,className:"max-h-60 overflow-auto"})]}),(0,s.jsxs)("div",{className:"mt-2 flex justify-end gap-2",children:[(0,s.jsx)(r.$,{variant:"secondary",onClick:a,children:(0,s.jsx)(m.A,{defaultMessage:"Cancel",id:"47FYwba+bI"})}),(0,s.jsx)(r.$,{onClick:()=>{y()},children:(0,s.jsx)(m.A,{defaultMessage:"Save",id:"jvo0vs3nF0"})})]})]})}var M=a(2348),w=a(9140),k=a(59922),_=a(2e3),A=a(34385),N=a(93714);function S(){let e=(0,M._)(["\n  text-text-400\n  text-sm\n  font-medium\n"]);return S=function(){return e},e}function E(){let e=(0,M._)(["\n  text-xs\n  font-normal\n"]);return E=function(){return e},e}let I=e=>{let{syncSource:t}=e;return t.type===_.v8.GDRIVE?(e=>(0,s.jsx)("option",{value:"sync-".concat(e.uuid),children:e.status.extra||(0,s.jsx)(m.A,{defaultMessage:"Unknown Google Drive document",id:"DjaaH+4Tyz"})},"sync-".concat(e.uuid)))(t):t.type===_.v8.GITHUB?(e=>{let{owner:t,repo:a}=e.config,n="".concat(t,"/").concat(a);return(0,s.jsx)("option",{value:"sync-".concat(e.uuid),children:n},"sync-".concat(e.uuid))})(t):void 0},T=k.J.label(S()),O=k.J.div(E());function R(e){let{isOpen:t,onClose:a,projectUuid:n,organizationUuid:l}=e,[i,r]=(0,c.useState)(),[o,d]=(0,c.useState)(),[u,h]=(0,c.useState)(),[f,x]=(0,c.useState)(),[g,y]=(0,c.useState)(!1),[v,C]=(0,c.useState)(),[M,k]=(0,c.useState)(),[_,S]=(0,c.useState)(),{mutateAsync:E}=(0,p.GQ)(l,n),{data:R}=(0,A.MO)(n,!!n&&t),{data:D}=(0,A.uE)(n,!!n&&t),{data:P}=(0,N.CO)(n,!1,!!n&&t),z=async()=>{await E({category:i||"",notes:o,reporter_name:f,reporter_email:u,opt_out_of_training:g,doc_uuid:v,file_uuid:M,sync_source_uuid:_}),r(void 0),d(void 0),C(void 0),k(void 0),S(void 0),x(void 0),h(void 0),y(!1),a(!0)},F=(R&&R.length>0||D&&D.length>0||P&&P.length>0)&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(T,{children:[(0,s.jsx)(m.A,{defaultMessage:"Specific document, file, or source (optional)",id:"axKp3B/R/i"}),(0,s.jsx)(O,{children:(0,s.jsx)(m.A,{defaultMessage:"Select a specific document, file, or sync source in this project to report",id:"UhG56XNcMi"})})]}),(0,s.jsxs)(b.l6,{value:v?"doc-".concat(v):M?"file-".concat(M):_?"sync-".concat(_):"select-item",onChange:e=>{let t=e.target.value;"select-item"===t?(C(void 0),k(void 0),S(void 0)):t.startsWith("doc-")?(C(t.substring(4)),k(void 0),S(void 0)):t.startsWith("file-")?(k(t.substring(5)),C(void 0),S(void 0)):t.startsWith("sync-")&&(S(t.substring(5)),C(void 0),k(void 0))},children:[(0,s.jsx)("option",{value:"select-item",children:(0,s.jsx)(m.A,{defaultMessage:"Select a document, file, or source (optional)",id:"uH9yKzuAxu"})}),R&&R.length>0&&(0,s.jsx)("optgroup",{label:"Documents",children:R.map(e=>(0,s.jsx)("option",{value:"doc-".concat(e.uuid),children:e.file_name},"doc-".concat(e.uuid)))}),D&&D.length>0&&(0,s.jsx)("optgroup",{label:"Files",children:D.map(e=>(0,s.jsx)("option",{value:"file-".concat(e.file_uuid),children:e.file_name},"file-".concat(e.file_uuid)))}),P&&P.length>0&&(0,s.jsx)("optgroup",{label:"Sync Sources",children:P.map(e=>(0,s.jsx)(I,{syncSource:e},"syncs-".concat(e.uuid)))})]})]});return(0,s.jsx)(j.aF,{modalSize:"md",isOpen:t,onClose:a,hasCloseButton:!0,title:(0,s.jsx)("span",{className:"font-claude-response font-medium",children:(0,s.jsx)(m.A,{defaultMessage:"Report project",id:"i+TY5eOB+b"})}),children:(0,s.jsx)(w.d,{category:i,setCategory:r,notes:o,setNotes:d,reporterEmail:u,setReporterEmail:h,reporterName:f,setReporterName:x,optOutOfTraining:g,setOptOutOfTraining:y,onSubmit:z,onClose:()=>a(!1),additionalFields:F})})}let D=e=>{let{fullMenu:t=!1,star:a=!0,project:f,buttonSize:x="icon_sm",open:y,onOpenChange:b}=e,j=(0,u.A)(),{track:M}=(0,n.st)(),[w,k]=(0,c.useState)(!1),[_,A]=(0,c.useState)(!1),[N,S]=(0,c.useState)(!1),[E,I]=(0,c.useState)(!1),{mutate:T}=(0,p.sS)(f.uuid),O=null!==f.archived_at,D=(0,d.fS)("project_deletion_button"),P=(0,l.mV)(),{activeOrganization:z}=(0,l.YL)(),{hasSettingsEditPermission:F}=(0,h.ti)({projectUuid:f.uuid});return F||a?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(o.ms,{align:"end",open:y,onOpenChange:b,trigger:(0,s.jsx)(r.$,{variant:"ghost",className:"active:!scale-100 pointer-events-auto",size:x,onClick:e=>{e.stopPropagation(),e.preventDefault()},onMouseDown:e=>{e.stopPropagation(),e.preventDefault()},"aria-label":f.name?j.formatMessage({defaultMessage:"More options for {label}",id:"rKQPgfPvWS"},{label:f.name}):j.formatMessage({defaultMessage:"More options",id:"IzCVhGdYVc"}),children:(0,s.jsx)(i.FOq,{})}),unstyledTrigger:!0,children:(0,s.jsxs)("div",{children:[a&&(0,s.jsx)(o.tJ,{"data-testid":"star-project-trigger",onSelect:()=>{let e=!f.is_starred;T({is_starred:e}),M({event_key:e?"claudeai.projects.starred":"claudeai.projects.unstarred",project_uuid:f.uuid,project_name:f.name})},icon:f.is_starred?(0,s.jsx)(i.BQ2,{}):(0,s.jsx)(i.FEq,{}),children:f.is_starred?(0,s.jsx)(m.A,{defaultMessage:"Unstar",id:"Y5zRLWgCMP"}):(0,s.jsx)(m.A,{defaultMessage:"Star",id:"VwapsmdMes"})}),F&&(0,s.jsxs)(s.Fragment,{children:[!O&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(o.tJ,{"data-testid":"rename-project-trigger",onSelect:()=>k(!0),icon:(0,s.jsx)(i.ffu,{}),children:(0,s.jsx)(m.A,{defaultMessage:"Edit details",id:"BVWzJ5FL/Y"})}),P&&f.type!==p.gM.Haystack&&(0,s.jsx)(o.tJ,{onSelect:()=>I(!0),icon:(0,s.jsx)(i.Gbe,{}),children:(0,s.jsx)(m.A,{defaultMessage:"Report",id:"x5Tz6MZH82"})}),f.type!==p.gM.Haystack&&(0,s.jsx)(o.DG,{}),t&&f.type!==p.gM.Haystack&&(0,s.jsx)(o.tJ,{"data-testid":"archive-project-trigger",onSelect:()=>{null==b||b(!1),setTimeout(()=>A(!0),100)},icon:(0,s.jsx)(i.Tde,{}),children:(0,s.jsx)(m.A,{defaultMessage:"Archive",id:"hrgo+EleAn"})}),D&&f.type!==p.gM.Haystack&&(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(o.tJ,{danger:!0,"data-testid":"delete-project-trigger",onSelect:()=>{null==b||b(!1),setTimeout(()=>S(!0),100)},icon:(0,s.jsx)(i.lMJ,{}),children:(0,s.jsx)(m.A,{defaultMessage:"Delete",id:"K3r6DQW7h+"})})})]}),O&&t&&(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(o.tJ,{onClick:()=>{T({is_archived:!1})},icon:(0,s.jsx)(i.Tde,{}),children:(0,s.jsx)(m.A,{defaultMessage:"Unarchive",id:"ftDYZo4V2C"})})})]})]})}),(0,s.jsx)(C,{isOpen:w,onClose:()=>k(!1),project:f}),(0,s.jsx)(g,{isOpen:_,onClose:()=>A(!1),project:f}),(0,s.jsx)(v,{isOpen:N,onClose:()=>S(!1),project:f}),(0,s.jsx)(R,{isOpen:E,onClose:()=>I(!1),projectUuid:f.uuid,organizationUuid:null==z?void 0:z.uuid})]}):null}},55839:(e,t,a)=>{a.d(t,{CD:()=>o});var s=a(1613),n=a(64328),l=a(80688),i=a(2e3),r=a(79052);let o=()=>{let e=(0,r.$f)(),t=(0,r.vT)(),a=(0,r.K6)(),{data:s}=d(i.v8.GDRIVE),n=null==s?void 0:s.state;return!!(e&&t&&a&&n&&[i.I5.CREATED,i.I5.UPDATING,i.I5.PENDING].includes(n))},d=e=>{let{account:t,activeOrganization:a}=(0,n.YL)(),r=null==t?void 0:t.uuid,o=null==a?void 0:a.uuid;return(0,s.Sk)("/api/organizations/".concat(o,"/sync/ingestion/").concat(e,"/progress"),{queryKey:[l.hx,{orgUuid:o,accountUuid:r,syncSourceType:e}],enabled:!!a,refetchInterval:e=>{let t;return!!(e.state.data&&(t=e.state.data.state,[i.I5.CREATED,i.I5.PENDING,i.I5.UPDATING].includes(t)))&&6e4},meta:{noToast:!0}})}},58841:(e,t,a)=>{a.d(t,{u:()=>u,i:()=>m});var s=a(54568),n=a(99969),l=a.n(n),i=a(7620);function r(e,t){switch(t.type){case"OPEN_COMPASS_STATUS":return{...e,selectedItem:{type:"compass",data:t.data}};case"SELECT_ATTACHMENT":return{...e,selectedItem:{type:"attachment",attachment:t.attachment}};case"SELECT_ARTIFACT":return{...e,selectedItem:{type:"artifact",id:t.id,versionUuid:t.versionUuid}};case"SELECT_DOC":return{...e,selectedItem:{type:"doc",id:t.id}};case"SELECT_FILE":return{...e,selectedItem:{type:"file",path:t.path,toolType:t.toolType,messageId:t.messageId}};case"CLEAR_SELECTED":return{...e,selectedItem:null,activeMessageUuid:void 0};case"SET_ACTIVE_MESSAGE_UUID":return{...e,activeMessageUuid:t.uuid};case"UPDATE_ATTACHMENTS":return{...e,attachments:t.attachments};case"UPDATE_FILES":return{...e,files:t.files};case"UPDATE_SYNC_SOURCES":return{...e,syncSources:t.syncSources};case"UPDATE_STREAMING_FILE":{var a,s;let n=new Map(e.streamingFiles),l=n.get(t.path);return n.set(t.path,{content:t.content,renderAs:t.renderAs,showingInRightPane:null!=(s=null!=(a=t.showingInRightPane)?a:null==l?void 0:l.showingInRightPane)&&s}),{...e,streamingFiles:n}}case"CLEAR_STREAMING_FILE":{let a=new Map(e.streamingFiles);return a.delete(t.path),{...e,streamingFiles:a}}default:return e}}let o={selectedItem:null,attachments:[],files:[],syncSources:[],activeMessageUuid:void 0,conversationUuid:void 0,streamingFiles:new Map},d={chatResourceState:o,dispatchChatResource:l()},c=(0,i.createContext)(d);function u(e){let{children:t,conversationUuid:a}=e,[n,l]=(0,i.useReducer)(r,{...o,conversationUuid:a}),d=(0,i.useMemo)(()=>({chatResourceState:n,dispatchChatResource:l}),[n,l]);return(0,s.jsx)(c.Provider,{value:d,children:t})}function m(){return(0,i.useContext)(c)}},61105:(e,t,a)=>{a.d(t,{E:()=>n,V:()=>l});var s=a(7620);function n(e){let t=[];for(let s of e){var a;for(let e of null!=(a=s.files_v2)?a:s.files)"file_kind"in e&&t.push(e)}return t}let l=e=>(0,s.useMemo)(()=>n(e),[e])},65016:(e,t,a)=>{a.d(t,{D$:()=>c});var s=a(35984),n=a(10369),l=a(8468),i=a(10665),r=a(35391);let o="advanced",d=["enabled_web_search","enabled_bananagrams","enabled_sourdough","enabled_foccacia"];function c(e){let{toggleConversationSetting:t,batchToggleConversationSettings:a}=(0,i.rX)(),c=(0,i.vP)("compass_mode"),u=(0,r.YW)(),m=(0,l.Gm)(e),{addSuccess:p}=(0,s.Y)(),h=(0,n.A)(),f=(0,i.vP)("enabled_web_search"),x=(0,i.vP)("enabled_bananagrams"),g=(0,i.vP)("enabled_sourdough"),y=(0,i.vP)("enabled_foccacia"),v=(0,i.vP)("enabled_mcp_tools");return{toggleSearchTool:(e,s)=>{if(s)return void t(e,s);!function(e){let{remainingToolCount:t,compassMode:a}=e;return 0===t&&a===o}({remainingToolCount:function(e){let{toolToIgnore:t,currentStates:a}=e,s=0;for(let e of d)e!==t&&a[e]&&s++;return a.enabled_mcp_tools&&Object.values(a.enabled_mcp_tools).some(e=>!!e)&&s++,s}({toolToIgnore:e,currentStates:{enabled_web_search:null!=f&&f,enabled_bananagrams:null!=x&&x,enabled_sourdough:null!=g&&g,enabled_foccacia:null!=y&&y,enabled_mcp_tools:v}}),compassMode:c})?t(e,s):a({compass_mode:null,[e]:!1})},toggleResearchMode:e=>{var s,n,l;if(!e)return void t("compass_mode",null);(s=m,n=u,l=c,!s&&n&&l!==o)?(a({enabled_web_search:!0,compass_mode:o}),p(h.formatMessage({defaultMessage:"Web search enabled automatically for Research",id:"ss4xBdPHtN"}))):t("compass_mode",o)},canAutoEnableWebSearch:!m&&u,toggleConversationSetting:t,batchToggleConversationSettings:a}}},69524:(e,t,a)=>{a.d(t,{B:()=>v});var s=a(54568),n=a(19736),l=a(64328),i=a(13750),r=a(23812),o=a(3075),d=a(84617),c=a(57291),u=a(68067),m=a(95617),p=a(7620),h=a(10369),f=a(59666),x=a(24443),g=a(61105);function y(e){let{value:t,children:a}=e;return(0,s.jsx)("option",{value:t,children:a})}function v(e){var t,a,v,b,j,C;let{conversationUuid:M,message:w,requestedFeedbackType:k,setRequestedFeedbackType:_,isOpen:A,onClose:N,onSuccess:S,showOptions:E=!0}=e,I=(0,h.A)(),[T,O]=(0,p.useState)(""),{data:R}=(0,n.Bq)(M),D=null==R?void 0:R.chat_messages.some(e=>(0,c.Xz)(e).length>0),P=(0,g.V)(null!=(v=null==R?void 0:R.chat_messages)?v:[]).length>0,{mutate:z}=(0,n.HA)(M,w,!!D,{onSuccess:S}),F=(0,p.useId)(),L=null!=(b=null==(t=w.content)?void 0:t.some(e=>"thinking"===e.type))&&b,G="raven"===(0,l.$b)(),U=(0,x.SK)(),Y=(0,u.fS)("claude_ai_report_content_option"),H=null;return(null==R||null==(a=R.settings)?void 0:a.enabled_web_search)&&(H=null!=(C=null==(j=w.content)?void 0:j.some(e=>"tool_use"===e.type&&"web_search"===e.name))&&C?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(y,{value:m.kj.FLAG_WEB_OVER,children:(0,s.jsx)(f.A,{defaultMessage:"Shouldn’t have searched the web",id:"T+mr27AakV"})}),(0,s.jsx)(y,{value:m.kj.FLAG_WEB_SOURCES,children:(0,s.jsx)(f.A,{defaultMessage:"Don’t like the cited sources",id:"MBNotx/VaO"})}),(0,s.jsx)(y,{value:m.kj.FLAG_WEB_URL,children:(0,s.jsx)(f.A,{defaultMessage:"Report a URL",id:"BMYqsjhycd"})})]}):(0,s.jsx)(y,{value:m.kj.FLAG_WEB_UNDER,children:(0,s.jsx)(f.A,{defaultMessage:"Should have searched the web",id:"CS8kdzupd9"})})),(0,s.jsxs)(o.aF,{isOpen:A,title:I.formatMessage({defaultMessage:"Feedback",id:"Ejhdi47Jk5"}),onClose:N,children:[(0,s.jsx)("div",{className:"mt-4 flex flex-col",children:(null==k?void 0:k.includes("flag"))&&E&&(0,s.jsxs)(i.l6,{className:"my-2 max-w-md",label:I.formatMessage({defaultMessage:"What type of issue do you wish to report? (optional)",id:"IFWIi9rs1t"}),value:k,onChange:e=>{_(e.target.value||m.kj.FLAG)},children:[(0,s.jsx)(y,{value:m.kj.FLAG,children:(0,s.jsx)(f.A,{defaultMessage:"Select…",id:"q0+99kUbd6"})}),(0,s.jsx)(y,{value:m.kj.FLAG_BUG,children:(0,s.jsx)(f.A,{defaultMessage:"UI bug",id:"0uIYueAyDB"})}),(0,s.jsx)(y,{value:m.kj.FLAG_REFUSAL,children:(0,s.jsx)(f.A,{defaultMessage:"Overactive refusal",id:"Jl0Mn6yDBI"})}),P&&(0,s.jsx)(y,{value:m.kj.FLAG_FILE,children:(0,s.jsx)(f.A,{defaultMessage:"Poor image understanding",id:"227KYxHrx5"})}),(0,s.jsx)(y,{value:m.kj.FLAG_INSTRUCTIONS,children:(0,s.jsx)(f.A,{defaultMessage:"Did not fully follow my request",id:"2uOw8LgMwG"})}),(0,s.jsx)(y,{value:m.kj.FLAG_FACTS,children:(0,s.jsx)(f.A,{defaultMessage:"Not factually correct",id:"topE9Q6MGe"})}),(0,s.jsx)(y,{value:m.kj.FLAG_INCOMPLETE,children:(0,s.jsx)(f.A,{defaultMessage:"Incomplete response",id:"ZNEcy7OM5r"})}),L&&(0,s.jsx)(y,{value:m.kj.FLAG_THOUGHTS,children:(0,s.jsx)(f.A,{defaultMessage:"Issue with thought process",id:"zOab+24EWo"})}),H,U&&(0,s.jsx)(y,{value:m.kj.FLAG_MEMORY,children:(0,s.jsx)(f.A,{defaultMessage:"Memory not applied correctly",id:"lNOB6Omh4y"})}),Y&&(0,s.jsx)(y,{value:m.kj.FLAG_CONTENT,children:(0,s.jsx)(f.A,{defaultMessage:"Report content",id:"vfibES+z8T"})}),(0,s.jsx)(y,{value:m.kj.FLAG_OTHER,children:(0,s.jsx)(f.A,{defaultMessage:"Other",id:"/VnDMl81rh"})})]})}),k===m.kj.FLAG_WEB_URL||k===m.kj.FLAG_CONTENT?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"text-text-300 border-0.5 border-border-300 rounded-lg p-12 text-sm",children:(0,s.jsx)(f.A,{defaultMessage:"Please use this <link>form</link> to report violative content.",id:"QSjqvNNsUq",values:{link:e=>(0,s.jsx)(d.Y,{href:"https://docs.google.com/forms/d/e/1FAIpQLSeO9Hzkyf_hQ2fYkfP_cqAcJG5kdlkg1wF4drQEFK9Z6db7jg/viewform",target:"_blank",children:e})}})}),(0,s.jsx)(o.vW,{children:(0,s.jsx)(r.$,{variant:"secondary",onClick:N,children:(0,s.jsx)(f.A,{defaultMessage:"Cancel",id:"47FYwba+bI"})})})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"mt-4 flex flex-col",children:[(0,s.jsx)("label",{htmlFor:F,className:"text-text-400 mb-2 text-sm",children:(0,s.jsx)(f.A,{defaultMessage:"Please provide details: (optional)",id:"og1W/bIZdx"})}),(0,s.jsx)(i.fs,{id:F,className:"text-sm",placeholder:(null==k?void 0:k.includes("flag"))||(null==k?void 0:k.includes("sc"))?I.formatMessage({defaultMessage:"What was unsatisfying about this response?",id:"+DB/t6WTki"}):I.formatMessage({defaultMessage:"What was satisfying about this response?",id:"yJFWG3mK1I"}),value:T,onChange:e=>{O(e.target.value)}})]}),(0,s.jsx)("p",{className:"text-text-500 mt-3 italic leading-tight",children:(0,s.jsx)("small",{children:(0,s.jsx)(f.A,{defaultMessage:"Submitting this report will send the entire current conversation to Anthropic for future improvements to our models. <link>Learn More</link>",id:"laRJ009b4f",values:{link:e=>(0,s.jsx)(d.Y,{target:"_blank",rel:"noopener",href:G?"https://privacy.anthropic.com/en/articles/9957937-how-does-anthropic-use-submitted-feedback":"https://privacy.anthropic.com/en/articles/10023565-how-does-anthropic-use-submitted-feedback",children:e})}})})}),(0,s.jsxs)(o.vW,{children:[(0,s.jsx)(r.$,{onClick:()=>{k&&(z({type:k,reason:T||void 0}),N())},children:(0,s.jsx)(f.A,{defaultMessage:"Submit",id:"wSZR47Y5kj"})}),(0,s.jsx)(r.$,{variant:"secondary",onClick:N,children:(0,s.jsx)(f.A,{defaultMessage:"Cancel",id:"47FYwba+bI"})})]})]})]})}},73619:(e,t,a)=>{a.d(t,{U:()=>n});var s=a(47831);let n=e=>{let t=(0,s.ED)(e),{maxKbTokens:a}=(0,s.AO)();return void 0!==t&&t>a}},81023:(e,t,a)=>{a.d(t,{X:()=>i,l:()=>l});var s=a(47592),n=a(95839);let l=()=>{if((0,s.fJ)())return;let e=document.getElementById(n.I);e&&e.focus()};function i(e){let{uuid:t,model:a,bypassGate:s=!1,isChromeExtEnabled:n}=e;if(s||!a||!t)return!1;if("a8f3c7e2-4b9d-4f1a-8c3e-9d2a5b7f8e1c"===t){let e=["claude-haiku-4-5","claude-sonnet-4-5"].some(e=>a.startsWith(e));return!n||!e}return!1}},83158:(e,t,a)=>{a.d(t,{Dk:()=>r,NM:()=>i,lD:()=>d,sv:()=>o});var s=a(54568),n=a(44894),l=a(47479);let i=e=>{let{file:t,size:a,showWarnings:n,onRemoveFile:i,onClick:r,isEditable:o}=e;return"xxs"===a?(0,s.jsx)(l.M1,{file:t}):(0,s.jsx)(l.NM,{file:t,showWarnings:n,handleRemove:i,handleClick:r,isEditable:o})};function r(e){let t=e.match(/\.[^/.]+$/);return t&&(0,n.cm)({imagesEnabled:!0}).includes(t[0].toLowerCase())?e.replace(/\.[^/.]+$/,""):e}let o=()=>(0,s.jsx)(l.Iq,{title:"Images hidden in shared chats",isError:!0}),d=()=>(0,s.jsx)(l.Iq,{title:"Files hidden in shared chats",isError:!0})},87784:(e,t,a)=>{a.d(t,{g:()=>c,h:()=>d});var s=a(54568),n=a(19736),l=a(84617),i=a(66365),r=a(59666),o=a(6149);function d(){var e;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",a=arguments.length>1?arguments[1]:void 0,s=(0,n.mz)(t||""),l=null==s||null==(e=s.chat_messages)?void 0:e.at(-1),r=function(e){let{stopReason:t,model:a}=e,s=(0,i.useDynamicConfig)("holdup");if(!a||!t)return;let n=s.get("modelFallbacks",{})[a];if(n&&"refusal"===t)return n}({stopReason:null==l?void 0:l.stop_reason,model:a});return l&&"assistant"===l.sender&&("prompt_injection_risk"===l.stop_reason||"refusal"===l.stop_reason)?{stopReason:l.stop_reason,lastMessage:l,fallback:r}:null}function c(e){let t=(0,n.bT)("push"),a=()=>{t()},i=e=>(0,s.jsx)(l.Y,{onClick:a,children:e});return(0,s.jsx)(o.q,{actionButton:null,children:(0,s.jsx)("div",{className:"text-text-200 flex w-full items-center justify-between",children:(0,s.jsx)("div",{className:"flex items-center gap-1",children:(0,s.jsx)("span",{children:"refusal"===e.stopReason?(0,s.jsx)(r.A,{defaultMessage:"Claude is unable to respond to this request, which appears to violate our <policyLink>Usage Policy</policyLink>. Please <newChat>start a new chat</newChat>.",id:"JQtAKVGSTL",values:{policyLink:e=>(0,s.jsx)("a",{href:"https://www.anthropic.com/legal/aup",target:"_blank",className:"underline cursor-pointer",children:e}),newChat:i}}):(0,s.jsx)(r.A,{defaultMessage:"Claude is unable to respond to this request. Please <newChat>start a new chat</newChat>.",id:"VZKromeiwV",values:{newChat:i}})})})})})}},88801:(e,t,a)=>{a.d(t,{X:()=>s});function s(e){return"default"===e.type?e.key:e.uuid}},89568:(e,t,a)=>{a.d(t,{P:()=>Y});var s=a(54568),n=a(7620);let l=(0,n.createContext)({setOverrideSubmit:()=>!1});var i=a(47592),r=a(33912),o=a(89501),d=a(15701),c=a(36526),u=a(10195),m=a(69584),p=a(12917),h=a(47833),f=a(43906),x=a.n(f);let g=new d.hs("inputAutocomplete"),y=()=>({decoration:null,completion:null}),v=(e,t)=>d.LN.atEnd(e).$anchor.pos===t.$anchor.pos,b=e=>{let{editor:t}=e;if(!v(t.state.doc,t.state.selection))return!1;let a=g.getState(t.state);return!!a.decoration&&(t.view.dispatch(t.state.tr.insertText(a.completion.content)),!0)},j=(e,t,a,s)=>{let n=e.getMeta(g);if(n&&n.prompt===s.doc.textContent&&(t.completion=n),!v(s.doc,s.selection)||!t.completion||t.completion.prompt!==s.doc.textContent)return t.decoration=null,t;let l=document.createElement("span");l.className="text-text-500",l.textContent=t.completion.content;let i=document.createElement("span");i.className="ml-1 px-1 border rounded-lg align-[1px] font-medium text-xs text-text-500",i.textContent="Tab";let r=s.selection.$head.pos,o=h.NZ.widget(r,l),d=h.NZ.widget(r,i);return t.decoration=h.zF.create(s.doc,[o,d]),t},C=c.YY.create({name:"inputAutocompletion",addOptions:()=>({fetchInputAutocompletion:e=>Promise.resolve("")}),addProseMirrorPlugins(){let e=x()(async(e,t)=>{try{let a=this.options.fetchInputAutocompletion,s=await a(t);s&&e.dispatch(e.state.tr.setMeta(g,{prompt:t,content:s}))}catch(e){}},300);return[new d.k_({key:g,state:{init:y,apply:j},props:{decorations(e){return this.getState(e).decoration}},view:t=>{let{textContent:a}=t.state.doc;return a.length>=3&&e(t,a),{update:(t,a)=>{var s;let{state:n}=t,{doc:l}=n;!a.doc.eq(l)&&(null==(s=g.getState(n).completion)?void 0:s.prompt)!==l.textContent&&l.textContent.length>=3&&e(t,l.textContent)}}}})]},addKeyboardShortcuts:()=>({Tab:b})});var M=a(3971);let w=e=>0===e.state.selection.$from.parentOffset,k=e=>e.state.selection.$from.marks().some(e=>"code"===e.type.name),_=e=>"heading"===e.state.selection.$from.parent.type.name,A=e=>{let t=e.state.selection.$from;return t.parentOffset===t.parent.nodeSize-2},N=e=>{let t=e.state.tr;t.setStoredMarks([]),t.insertText("​"),e.view.dispatch(t)},S=e=>!(e.state.selection.$from.after()<e.state.doc.content.size)&&(N(e),!0),E=e=>!(e.state.selection.$from.before()>0)&&e.chain().insertContentAt(0,"<p></p>").run(),I=e=>!(e.state.selection.$from.after()<e.state.doc.content.size)&&e.chain().insertContent("<p></p>").run(),T=c.YY.create({name:"CodeBlockKeyboardNavExtension",addKeyboardShortcuts:()=>({ArrowUp:e=>{let{editor:t}=e;return"codeBlock"===t.state.selection.$from.parent.type.name&&!!w(t)&&E(t)}})}),O=c.YY.create({name:"InlineCodeKeyboardNavExtension",addKeyboardShortcuts:()=>({ArrowUp:e=>{let{editor:t}=e;return!!k(t)&&!!w(t)&&E(t)},ArrowDown:e=>{let{editor:t}=e;return!!k(t)&&!!A(t)&&I(t)},ArrowRight:e=>{let{editor:t}=e;return!!k(t)&&!!A(t)&&S(t)},ArrowLeft:e=>{let{editor:t}=e;return!!k(t)&&!!w(t)&&(e=>!(e.state.selection.$from.before()>0)&&(N(e),!0))(t)}})}),R=c.YY.create({name:"HeadingKeyboardNavExtension",addKeyboardShortcuts:()=>({ArrowUp:e=>{let{editor:t}=e;return!!_(t)&&!!w(t)&&E(t)},ArrowDown:e=>{let{editor:t}=e;return!!_(t)&&!!A(t)&&I(t)}})});c.YY.create({name:"BoldKeyboardNavExtension",addKeyboardShortcuts:()=>({ArrowRight:e=>{let{editor:t}=e;return!!t.state.selection.$from.marks().some(e=>"bold"===e.type.name)&&!!A(t)&&S(t)}})}),c.YY.create({name:"ItalicKeyboardNavExtension",addKeyboardShortcuts:()=>({ArrowRight:e=>{let{editor:t}=e;return!!t.state.selection.$from.marks().some(e=>"italic"===e.type.name)&&!!A(t)&&S(t)}})});let D=c.YY.create({name:"StrikeKeyboardNavExtension",addKeyboardShortcuts:()=>({ArrowRight:e=>{let{editor:t}=e;return!!t.state.selection.$from.marks().some(e=>"strike"===e.type.name)&&!!A(t)&&S(t)}})}),P=c.YY.create({name:"PTagShiftEnterCreateExtension",addKeyboardShortcuts:()=>({"Shift-Enter":e=>{let{editor:t}=e;return t.commands.enter(),t.commands.scrollIntoView(),!0},"Alt-Enter":e=>{let{editor:t}=e;return t.commands.enter(),t.commands.scrollIntoView(),!0}})}),z=c.YY.create({name:"pasteCodeAsPlainText",addProseMirrorPlugins:()=>[new d.k_({key:new d.hs("pasteCodeAsPlainText"),props:{handlePaste:(e,t,a)=>{let{schema:s}=e.state;if(!t.clipboardData||!t.clipboardData.types.includes("vscode-editor-data"))return!1;let n=t.clipboardData.getData("text/plain"),l=s.text(n);return e.dispatch(e.state.tr.replaceSelectionWith(l)),!0}}})]}),F=()=>(0,s.jsx)(u.VR,{className:"code-block",children:(0,s.jsx)("pre",{className:"my-4 block rounded-md bg-[#282c34] p-2 text-[0.875rem] text-[#abb2bf]",children:(0,s.jsx)(u.$p,{as:"code"})})});var L=a(68067),G=a(72902),U=a(10369);let Y=(0,n.forwardRef)((e,t)=>{let{className:a,disabled:c,prompt:h,tipTapEditorState:f,setTipTapEditorState:x,placeholder:g,onSubmit:y,onReady:v,placement:b,fetchInputAutocompletion:j}=e,w=(0,U.A)(),{editor:k}=(e=>{let{tipTapEditorState:t,setTipTapEditorState:a,onReady:s,placeholder:n,extraEditorAttributes:l={},fetchInputAutocompletion:d,plainTextMode:c=!1}=e,h=[o.A.configure({placeholder:n,emptyEditorClass:"is-editor-empty before:!text-text-500 before:whitespace-nowrap"}),C.configure({fetchInputAutocompletion:d}),P,z],f=[r.A.extend({addNodeView:()=>(0,u.gu)(F)}).configure({lowlight:p.l}),T,R,O,D],x=[m.A.configure(c?{bold:!1,italic:!1,strike:!1,code:!1,codeBlock:!1,blockquote:!1,hardBreak:!1,heading:!1,horizontalRule:!1,bulletList:{},orderedList:{},listItem:{}}:{bold:!1,italic:!1,codeBlock:!1,blockquote:!1,hardBreak:!1,heading:!1,horizontalRule:!1}),...h,...c?[]:f];return{editor:(0,u.hG)({editorProps:{attributes:{enterkeyhint:"enter",...l}},onCreate:e=>{let{editor:t}=e;null==s||s({editor:t})},autofocus:!(0,i.Fr)()&&"end",extensions:x,content:t,onUpdate(e){let{editor:t}=e,s=t.isEmpty,n=t.getJSON();a((0,M.DV)(n)),s&&t.commands.focus("end")}})}})({tipTapEditorState:f,setTipTapEditorState:x,onReady:v,placeholder:g,fetchInputAutocompletion:j,plainTextMode:(0,L.fS)("plain_text_input"),extraEditorAttributes:{role:"textbox","data-testid":"chat-input","aria-label":w.formatMessage({defaultMessage:"Write your prompt to Claude",id:"Lxn7p6AQvE"}),"aria-multiline":"true","aria-required":"false","aria-invalid":"false"}}),[_,A]=(0,n.useState)(!1);(0,n.useImperativeHandle)(t,()=>({setContent(e){e!==h&&(null==k||k.commands.setContent(e,!1,{preserveWhitespace:"full"}))},setEditable(e){k.setOptions({editable:e})},focus(){null==k||k.commands.focus()},getPosition:()=>null==k?void 0:k.state.selection.$anchor,getEditor:()=>k,getIsAtEnd(){if(!k)return;let e=k.state.selection.$anchor.pos;return d.LN.atEnd(k.state.doc).$anchor.pos===e},scrollToEnd(){k&&requestAnimationFrame(()=>{requestAnimationFrame(()=>{k.commands.setTextSelection(k.state.doc.content.size),k.commands.scrollIntoView();let e=k.view.dom.parentElement;e&&(e.scrollTop=e.scrollHeight)})})}}),[k,h]),(0,n.useEffect)(()=>{null==k||k.setOptions({editable:!c})},[k,c]),(0,n.useEffect)(()=>{if(null!==k&&""!==g){let e=k.extensionManager.extensions.filter(e=>"placeholder"===e.name)[0];e&&(e.options.placeholder=g,k.view.dispatch(k.state.tr))}},[k,g]);let N=(0,n.useCallback)(e=>{"Enter"===e.key&&y&&(_||e.shiftKey||e.altKey||e.nativeEvent.isComposing||(0,i.Fr)()&&!e.metaKey&&!e.ctrlKey||(e.preventDefault(),y(e)))},[y,_]);return(0,s.jsx)(l.Provider,{value:{setOverrideSubmit:A},children:(0,s.jsx)(u.$Z,{className:(0,G.A)("max-h-96 w-full overflow-y-auto font-large break-words transition-opacity duration-200","bottom"===b?"min-h-[1.5rem]":"min-h-[3rem]",!(null==k?void 0:k.isEditable)&&"opacity-60",a),editor:k,onKeyDownCapture:N})})});Y.displayName="PromptInput"},93220:(e,t,a)=>{a.d(t,{z:()=>i});var s=a(7620),n=a(98649),l=a(26250);function i(e,t){let{dateAdded:a,priority:i,showAfterOthersDismiss:r}=t,o=(0,s.useContext)(l.L),{dismiss:d,isDismissed:c}=(0,n.W)();if(!o)throw Error("useNux must be used within a NuxProvider");let{registerNux:u,unregisterNux:m,currentlyShowing:p}=o;return(0,s.useEffect)(()=>{if(!c(e))return u(e,{dateAdded:a,priority:i,showAfterOthersDismiss:r}),()=>m(e)},[e,a,i,r,c,u,m]),{shouldShow:p===e&&!c(e),dismiss:()=>{d(e),m(e)}}}},94629:(e,t,a)=>{a.d(t,{$3:()=>q,ey:()=>z});var s=a(54568),n=a(96614),l=a(86545),i=a(64328),r=a(21266),o=a(89626),d=a(9398),c=a(68067),u=a(2e3),m=a(95617),p=a(16),h=a(66365),f=a(27541),x=a(7620),g=a(10369),y=a(35415),v=a(96547),b=a(8468),j=a(79052),C=a(74326),M=a(50571),w=a(12142),k=a(10665),_=a(22167),A=a(35391),N=a(81023),S=a(90370),E=a(4114),I=a(45271),T=a(65016),O=a(35580),R=a(97208);let D="inputMenu",P=()=>({isDisabled:!0,tooltip:(0,g.A)().formatMessage({defaultMessage:"Select a different model to use this feature",id:"/9vSDy2Wm0"}),isChecked:!1}),z=e=>{let{actions:t}=e,a=(0,g.A)(),l=(0,v.lu)(),r=(0,i.O9)(),d=(0,i.zc)(),c=(0,i.h0)(),u=(0,M.sb)(),m=(0,R.Ob)(),{conversation:h,model:x}=(0,S.oM)(),y=(0,n.Z3)((null==h?void 0:h.id)||null),b=null!=x?x:y,j=(0,f.useRouter)(),C=F({actions:t,currentModel:b}),w=K(),k=H({actions:t}),_=V({actions:t}),A=W({currentModel:b,conversation:h}),N=J({currentModel:b,conversation:h}),E=(0,R.gB)(),I=(0,R.lS)();if(E)return k;let T=[..._&&!I?[_]:[],...A&&!I?[A]:[],...N?[N]:[]];C.length&&!I&&(T=T.concat([...T.length?[{key:"divider1",type:"divider",label:""}]:[],...C]));let O=l&&(r||d);return(w.length||O||u)&&(T=T.concat([...w,...u?[{key:"divider2",type:"divider",label:""},{key:"addIntegrations",type:"button",icon:(0,s.jsx)(p.c,{size:16}),label:a.formatMessage({defaultMessage:"Add connectors",id:"2dXigF1Pil"}),tag:c?void 0:m?"upgrade":"pro",onClick:c||!m?t.openMcpDirectoryModal:()=>{window.location.href="/upgrade"}},{key:"manageIntegrations",type:"button",icon:(0,s.jsx)(o.wB_,{size:16}),label:a.formatMessage({defaultMessage:"Manage connectors",id:"cqx+RdJnHp"}),isExternal:!0,onClick:()=>{j.push("/settings/connectors")}}]:O?[{key:"divider2",type:"divider",label:""},{key:"addIntegrations",type:"button",icon:(0,s.jsx)(p.c,{size:16}),label:a.formatMessage({defaultMessage:"Add connectors",id:"2dXigF1Pil"}),isExternal:!0,onClick:()=>{j.push("/settings/connectors")}}]:[]])),T},F=e=>{let{actions:t,currentModel:a}=e,s=L({currentModel:a}),n=G({currentModel:a}),l=Y({actions:t,currentModel:a}),i=U({currentModel:a});return[...s?[s]:[],...n?[n]:[],...l?[l]:[],...i?[i]:[]]},L=e=>{let{currentModel:t}=e,a=(0,g.A)(),{conversation:n}=(0,S.oM)(),l=(0,i.h0)(),r=(0,R.Ob)(),d=(0,A.Eu)(t),c=(0,A.be)(),u=(0,A.WJ)(),m=(0,A.fy)(n),{toggleSearchTool:p}=(0,T.D$)(n),h=P(),f=X("web_search");if(!c&&!r)return null;let x=m&&d;return c||!r||l?{key:"webSearch",type:"switch",label:a.formatMessage({defaultMessage:"Web search",id:"x0W7xxxEcv"}),icon:(0,s.jsx)(o.qzq,{size:16}),isChecked:x,onClick:()=>p("enabled_web_search",!x),tag:f,...!u?{isDisabled:!0,tooltip:a.formatMessage({defaultMessage:"This feature has been disabled by your administrator.",id:"Jpvq2WYysx"})}:!d?h:null}:{key:"webSearch",type:"switch",label:a.formatMessage({defaultMessage:"Web search",id:"x0W7xxxEcv"}),icon:(0,s.jsx)(o.qzq,{size:16}),isChecked:!1,isDisabled:!0,tag:"upgrade",onClick:()=>{window.location.href="/upgrade"}}},G=e=>{let{currentModel:t}=e,a=(0,g.A)(),{conversation:n}=(0,S.oM)(),r=(0,i.h0)(),o=(0,R.Ob)(),{toggleSearchTool:c,toggleConversationSetting:m}=(0,T.D$)(n),p=(0,j.K6)(),h=(0,l.Wq)()(t,"gsuite_tools"),f=(0,j.$f)(n),{isDriveAuthenticated:x,initDriveAuth:y}=(0,j.cI)({callerIdentifier:D,handleAuthSuccess:()=>{m("enabled_bananagrams",!0)}}),v=(0,_.kO)(),b=(0,_.dJ)(u.v8.GDRIVE),{startAuth:C,authBreakdown:M}=(0,_.ob)(u.v8.GDRIVE,{callerIdentifier:D,handleAuthSuccess:()=>{m("enabled_foccacia",!0)}}),w=P(),k=X("drive_search");if(v&&b&&x||v&&!b||b&&!M.firstParty||!p&&!o)return null;let A={key:"driveSearch",icon:(0,s.jsx)(d.ft,{size:16}),label:a.formatMessage({defaultMessage:"{drive} search",id:"nUykp097rV"},{drive:"Drive"})};if(!p&&o&&!r)return{...A,type:"switch",isChecked:!1,isDisabled:!0,tag:"upgrade",onClick:()=>{window.location.href="/upgrade"}};if(!x){let e=a.formatMessage({defaultMessage:"Connect",id:"+vVZ/G11Zg"}),t=a.formatMessage({defaultMessage:"Reconnect",id:"Eg11ZYmdyO"});return{...A,type:"button",isExternal:!0,secondaryText:v?t:e,onClick:()=>{y()},...v?{tooltip:a.formatMessage({defaultMessage:"Sign back into Google to use our improved connectors",id:"NHTRwY1ogC"})}:{},...h?null:w}}let N=x&&f;return{...A,type:"switch",isChecked:N,onClick:()=>{c("enabled_bananagrams",!N)},tag:k,...h?null:w}},U=e=>{let{currentModel:t}=e,a=(0,g.A)(),{conversation:n}=(0,S.oM)(),i=(0,R.Ob)(),{toggleSearchTool:r,toggleConversationSetting:o}=(0,T.D$)(n),c=(0,_.Ys)(u.v8.GCAL),m=(0,l.Wq)()(t,"gsuite_tools"),p=(0,_.X0)(u.v8.GCAL,n),h=(0,_.vm)(),f=(0,_.dJ)(u.v8.GCAL),{isAuthenticated:x,startAuth:y,authBreakdown:v}=(0,_.ob)(u.v8.GCAL,{callerIdentifier:D,handleAuthSuccess:()=>{o("enabled_foccacia",!0)}}),b=P(),j=X("calendar_search");if(h&&f&&x||h&&!f||h&&!v.firstParty||!c&&!i)return null;let C=a.formatMessage({defaultMessage:"Calendar search",id:"b7aUhdL5nd"}),M=a.formatMessage({defaultMessage:"Google Calendar",id:"kjenxGoM59"}),w={key:"gcal",label:h?M:C,icon:(0,s.jsx)(d.HI,{size:16})};if(!c&&i)return{...w,type:"switch",isChecked:!1,isDisabled:!0,tag:"upgrade",onClick:()=>{window.location.href="/upgrade"}};if(!x){let e=a.formatMessage({defaultMessage:"Connect",id:"+vVZ/G11Zg"}),t=a.formatMessage({defaultMessage:"Reconnect",id:"Eg11ZYmdyO"});return{...w,type:"button",isExternal:!0,secondaryText:h?t:e,onClick:()=>{y()},...h?{tooltip:a.formatMessage({defaultMessage:"Sign back into Google to use our improved connectors",id:"NHTRwY1ogC"})}:{},...m?null:b}}let k=x&&p;return{...w,type:"switch",isChecked:k,onClick:()=>{r("enabled_foccacia",!k)},tag:j,...m?null:b}},Y=e=>{let{actions:t,currentModel:a}=e,n=(0,g.A)(),{conversation:r}=(0,S.oM)(),o=(0,i.h0)(),c=(0,R.Ob)(),{toggleSearchTool:m,toggleConversationSetting:p}=(0,T.D$)(r),h=(0,_.Ys)(u.v8.GMAIL),f=(0,l.Wq)()(a,"gsuite_tools"),x=(0,_.X0)(u.v8.GMAIL,r),y=P(),v=X("gmail_search"),b=(0,_.vm)(),j=(0,_.dJ)(u.v8.GMAIL),{isAuthenticated:C,startAuth:M,authBreakdown:w}=(0,_.ob)(u.v8.GMAIL,{callerIdentifier:D,handleAuthSuccess:()=>{p("enabled_sourdough",!0)}});if(b&&j&&C||b&&!j||b&&!w.firstParty||!h&&!c)return null;let k=n.formatMessage({defaultMessage:"Gmail search",id:"v0qteoUCm+"}),A=n.formatMessage({defaultMessage:"Gmail",id:"2hslSeuDXe"}),N={key:"gmail",label:b?A:k,icon:(0,s.jsx)(d.kw,{size:16})};if(!h&&c&&!o)return{...N,type:"switch",isChecked:!1,isDisabled:!0,tag:"upgrade",onClick:()=>{window.location.href="/upgrade"}};if(!C){let e=n.formatMessage({defaultMessage:"Connect",id:"+vVZ/G11Zg"}),a=n.formatMessage({defaultMessage:"Reconnect",id:"Eg11ZYmdyO"});return{...N,type:"button",isExternal:!0,secondaryText:b?a:e,onClick:()=>{b?M():t.openGmailAuthModal()},...b?{tooltip:n.formatMessage({defaultMessage:"Sign back into Google to use our improved connectors",id:"NHTRwY1ogC"})}:{},...f?null:y}}let E=C&&x;return{...N,type:"switch",isChecked:E,onClick:()=>{m("enabled_sourdough",!E)},tag:v,...f?null:y}},H=e=>{let{actions:t}=e,a=(0,g.A)(),{personalizedStyle:n}=(0,S.oM)(),{personalizedStyleOptions:l}=(0,E.p)();return[...l.map(e=>{let a=(null==n?void 0:n.key)===e.key;return{key:e.key,type:"option",label:"default"===e.type&&e.nameKey?(0,s.jsx)(r.X5,{id:e.nameKey}):e.name,icon:(0,s.jsx)(o.P_O,{size:16}),onClick:()=>{a?t.onStyleChange("Default"):t.onStyleChange(e.key)},isChecked:a}}),{key:"divider1",type:"divider",label:""},{key:"add",type:"button",variant:"primary",icon:(0,s.jsx)(o.OMN,{size:16}),label:a.formatMessage({defaultMessage:"Create & edit styles",id:"cY+Fgc8HvE"}),onClick:t.openStyleModal,nonSearchable:!0}]},V=e=>{let{actions:t}=e,a=(0,g.A)(),n=(0,R.Hd)(),{personalizedStyle:l}=(0,S.oM)(),i=H({actions:t}),r=a.formatMessage({defaultMessage:"Use style",id:"f7VY0ldE+0"});return{key:m.xd.STYLES,type:"optionGroup",icon:(0,s.jsx)(o.P_O,{size:16}),label:r,secondaryText:(null==l?void 0:l.isDefault)||null==l?void 0:l.name,children:[...n?[]:[{type:"back",key:"styles-back",label:r}],...i],indicatorActive:l&&"Default"!==l.key}},W=e=>{let t,{currentModel:a,conversation:n}=e,l=(0,g.A)(),r=(0,k.vP)("paprika_mode"),d=(0,C.J)(),u=(0,C.j)()(a),{toggleConversationSetting:p}=(0,k.rX)(),f=(0,c.fS)("model_selector_enabled"),{data:v}=(0,y.EY)(),b=(0,i.h0)(),j=(0,h.useLayer)("trials_freemium"),M=P(),w=(0,R.Ob)();(0,x.useEffect)(()=>{let e=!b,t=j.get("free_thinking",!1),a=e&&t&&(null==v?void 0:v.remaining)===0,s=!n||0===n.messagesSoFar;a&&r&&!s&&p("paprika_mode",null)},[null==v?void 0:v.remaining,b,j,r,p,n]);let _=j.get("free_thinking",!1),A=d&&(f||_&&!b);if(!d||!f&&!_&&!w)return null;let N=l.formatMessage({defaultMessage:"Extended thinking",id:"5j4WakKa2u"}),S=!b,E=j.get("free_thinking",!1),I=S&&E&&(null==v?void 0:v.remaining)===0,T=!I&&!!r;if(S&&E&&v&&void 0!==v.remaining&&v.resets_at){let e=new Date(1e3*v.resets_at),a=l.formatDate(e,{month:"short",day:"numeric"});t=l.formatMessage({defaultMessage:"{remaining} remaining until {date}",id:"httnsxXSeU"},{remaining:v.remaining,date:a})}let O={key:m.xd.EXTENDED_THINKING,type:"switch",label:N,icon:(0,s.jsx)(o.Sw4,{size:16}),isChecked:T,indicatorActive:T,...t&&{subtitle:t},...I&&{isDisabled:!0,tag:"upgrade",rateLimitReached:!0,onClick:()=>{window.location.href="/upgrade"}}};return A||!w||b?u?{...O,...I?{}:{onClick:()=>{p("paprika_mode",r?null:"extended")},tooltip:l.formatMessage({defaultMessage:"Allow Claude to think out loud for longer for trickier questions and challenges.",id:"bbgQqH7Grg"}),tooltipImage:{src:"/images/feature-preview/extended-thinking.png",width:200,height:108}}}:{...O,...M}:{...O,isChecked:!1,isDisabled:!0,tag:"upgrade",onClick:()=>{window.location.href="/upgrade"}}},J=e=>{let t,{currentModel:a,conversation:l}=e,i=(0,g.A)(),{setModel:r}=(0,S.oM)(),d=(0,k.vP)("compass_mode"),c=(0,b.g7)(),u=(0,b.BU)(),p=null!=l?l:void 0,h=(0,b.Gm)(p),f=(0,n.Z3)((null==l?void 0:l.id)||null),x=(0,b.G8)()(a),y=(0,b.G8)()(f),{toggleResearchMode:v,canAutoEnableWebSearch:j}=(0,T.D$)(p),C=(0,R.lS)(),M=!l&&!x&&y,w=P();if(!c||C)return null;let _="advanced"===d,A=!1;if(u)if(h||j){if(!x&&!M)return{key:m.xd.COMPASS,type:"switch",label:i.formatMessage({defaultMessage:"Research",id:"JEe7dVso7F"}),icon:(0,s.jsx)(o.isz,{size:16}),indicatorActive:!1,...w}}else A=!0,t=i.formatMessage({defaultMessage:"Enable a search integration to use research",id:"WyiVeak7w5"});else A=!0,t=i.formatMessage({defaultMessage:"Your administrator must enable a search tool to use research",id:"CzjOV5rgPZ"});return{key:m.xd.COMPASS,type:"switch",label:i.formatMessage({defaultMessage:"Research",id:"JEe7dVso7F"}),icon:(0,s.jsx)(o.isz,{size:16}),isChecked:_,indicatorActive:_,isDisabled:A,...t&&{tooltip:t},onClick:()=>{M&&r(f),v(!_)}}},B=e=>{let{showConnectAction:t,mcpToolsSetting:a,toggleMcpToolEnabled:l,remoteOnly:i}=e,r=(0,R.lS)(),d=(0,g.A)(),u=(0,w.Q)(),m=(0,c.fS)("chrome_ext_mcp_model_selector"),p=(0,c.fS)("chrome_ext_mcp_integration"),{conversation:h,model:f}=(0,S.oM)(),x=(0,n.Z3)((null==h?void 0:h.id)||null),y=null!=f?f:x,v=(0,O.Uz)({isConnecting:!1,...i?{type:"remote"}:{},...t?{}:{isConnected:!0}}),b=P();return v.map(e=>{let t={key:e.uuid,label:e.name,icon:(0,s.jsx)(I.z,{size:16,type:e.iconType,src:e.iconSrc,name:e.name})};if(!e.isConnected)return{...t,type:"button",isExternal:!0,secondaryText:d.formatMessage({defaultMessage:"Connect",id:"+vVZ/G11Zg"}),onClick:()=>u({uuid:e.uuid,url:e.url})};let n=e.tools.map(t=>{let n=t.enabledKey,i=!1!==a[n],r=(0,N.X)({uuid:e.uuid,model:y,bypassGate:m,isChromeExtEnabled:p});return{key:n,type:"switch",label:t.displayName,icon:(0,s.jsx)(I.z,{size:16,type:e.iconType,src:e.iconSrc,name:e.name}),isChecked:i,onClick:()=>{l(n,!i,e.url)},...r?b:{}}}),i=n.filter(e=>"switch"===e.type&&e.isChecked).length,c=i>0,f=e.tools.length,x=[];n.length>1&&x.push({key:"select-all",type:"button",label:c?d.formatMessage({defaultMessage:"Disable all tools",id:"8A9N39nihk"}):d.formatMessage({defaultMessage:"Enable all tools",id:"x4/g36jIjW"}),onClick:()=>{l(e.tools.map(e=>e.enabledKey),!c,e.url)},skipCloseOnClick:!0,nonSearchable:!0},{key:"divider1",type:"divider",label:""}),x.push(...n),0===x.length&&x.push({key:"empty",type:"button",label:d.formatMessage({defaultMessage:"No tools available",id:"+XSkrzcF/0"}),icon:(0,s.jsx)(o.k0E,{size:16}),onClick:()=>void 0,isDisabled:!0});let g={enabledCount:i,totalCount:f,isChecked:c,onClick:()=>{l(e.tools.map(e=>e.enabledKey),!c,e.url)}};return r?{...t,...g,isDisabled:!!(null==h?void 0:h.id),type:"toggle"}:{...t,...g,type:"toggleGroup",children:x}})},K=()=>{var e;let t=null!=(e=(0,k.vP)("enabled_mcp_tools"))?e:{},{toggleMcpToolEnabled:a}=(0,M.es)();return B({showConnectAction:!1,mcpToolsSetting:t,toggleMcpToolEnabled:a})},q=()=>{var e;let t=(0,O.Uz)({type:"remote"}),a=null!=(e=(0,k.vP)("enabled_mcp_tools"))?e:{},[s,n]=(0,x.useState)(()=>{let e=new Set(t.map(e=>e.uuid));return Object.fromEntries(Object.entries(a).filter(t=>{let[a]=t,s=a.split(":")[0];return e.has(s)}))});return{menuOptions:B({showConnectAction:!1,mcpToolsSetting:s,toggleMcpToolEnabled:function(e,t){n(a=>({...a,...Array.isArray(e)?Object.fromEntries(e.map(e=>[e,t])):{[e]:t}}))},remoteOnly:!0}),getEnabledRemoteTools:()=>{let e=[];for(let a of t)for(let t of a.tools)!1!==s[t.enabledKey]&&e.push({tool_name:t.name,server_uuid:a.uuid});return e}}},X=e=>(0,h.useDynamicConfig)("claude_ai_beta_tools").get("beta_tools",[]).includes(e)?"beta":void 0},95839:(e,t,a)=>{a.d(t,{I:()=>s});let s="chat-input-menu-search-input"},97208:(e,t,a)=>{a.d(t,{Hd:()=>m,Ob:()=>p,gB:()=>u,lS:()=>f,nb:()=>h});var s=a(64328),n=a(66365),l=a(17421),i=a(35391),r=a(90370),o=a(88775),d=a(35580),c=a(90458);let u=()=>{let e=(0,s.h0)(),t=(0,i.be)(),a=(0,d.Uz)().length>0,n=f();return!e&&!t&&a&&!n},m=()=>{let e=(0,s.h0)(),t=(0,d.Uz)().length>0;return e||t},p=()=>{let e=(0,s.h0)(),t=(0,n.useLayer)("trials_freemium");return!e&&t.get("show_upgrade_buttons",!1)};function h(){let{conversation:e}=(0,r.oM)();return(0,c.Z)(null==e?void 0:e.id)}function f(){(0,l.QJ)();let{conversation:e}=(0,r.oM)();(0,c.Z)(null==e?void 0:e.id);let{pendingConversationSettings:t}=(0,o.Fj)();return!1}},97595:(e,t,a)=>{a.d(t,{c:()=>s});var s=function(e){return e[e.HIGH=30]="HIGH",e[e.MEDIUM=20]="MEDIUM",e[e.LOW=10]="LOW",e[e.NONE=0]="NONE",e}({})}}]);