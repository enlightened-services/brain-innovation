"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[222],{48911:(e,t,s)=>{s.d(t,{m:()=>u});var l=s(54568),n=s(64328),a=s(67453),i=s(27541),r=s(7620),o=s(59666),d=s(47831),c=s(2722);function u(e){let{children:t}=e,s=(0,i.useRouter)(),u=(0,n.h0)(),x=(0,d.aT)(),[m,p]=(0,r.useState)(!1),f=(0,r.useCallback)(()=>{x&&!u?p(!0):s.push("/projects/create")},[x,u,s]);return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(a.Tooltip,{tooltipContent:(0,l.jsxs)("div",{className:"max-w-48 p-1",children:[(0,l.jsx)("p",{className:"mb-2 whitespace-break-spaces text-xs",children:(0,l.jsx)(o.A,{defaultMessage:"This is an example project. Create a new project to work with your own documents.",id:"aod9/juMdU"})}),(0,l.jsx)("button",{onClick:f,className:"text-accent-secondary-200 text-xs hover:underline cursor-pointer bg-transparent border-none p-0",children:(0,l.jsx)(o.A,{defaultMessage:"Create new project",id:"a7FtAnfVfj"})})]}),children:t}),(0,l.jsx)(c.S,{isOpen:m,onClose:()=>p(!1),limitType:"projects"})]})}},51461:(e,t,s)=>{s.d(t,{H:()=>ec,w:()=>es});var l=s(54568),n=s(44894),a=s(35984),i=s(13750),r=s(89626),o=s(9398),d=s(23812),c=s(87483),u=s(3075),x=s(67453),m=s(43465),p=s(68067),f=s(2e3),h=s(19977),g=s(85524),j=s(72902),v=s(7620),y=s(10369),w=s(59666),S=s(34385),b=s(45538),N=s(79052),M=s(36016),A=s(18050),C=s(22167),k=s(47831),D=s(48911),U=s(20746),P=s(45271),_=s(96469),O=s(74428),R=s(88716),E=s(23169),I=s(86141),T=s(93714),L=s(84284),z=s(10665);function F(e){let{conversation:t}=e,s=(0,N.K6)(),n=(0,N.$f)(t),{toggleConversationSetting:a}=(0,z.rX)();return s?(0,l.jsx)("div",{className:"px-2 py-1.5 -mx-1 -mb-1 border-t-0.5 border-border-300 hover:bg-bg-200",children:(0,l.jsxs)(c.tJ,{className:"flex flex-row gap-4 cursor-pointer px-2 pt-1 pb-2",onSelect:e=>{e.stopPropagation(),e.preventDefault(),a("enabled_bananagrams",!n)},onPointerLeave:e=>e.preventDefault(),onPointerMove:e=>e.preventDefault(),children:[(0,l.jsxs)("div",{className:"flex flex-col",children:[(0,l.jsx)("p",{children:(0,l.jsx)(w.A,{defaultMessage:"Allow Claude to search",id:"zyxxt7OHPv"})}),(0,l.jsx)("p",{className:"text-xs text-text-400",children:(0,l.jsx)(w.A,{defaultMessage:"Claude will search for relevant documents",id:"JxbYvAvtdV"})})]}),(0,l.jsx)(L.j,{checked:n,readOnly:!0})]})}):null}var G=s(25548),K=s(54787);function V(e){let{title:t,url:s,isLoading:n,isError:a,isLink:i=!1,defaultErrorTitle:r,defaultDocumentTitle:o}=e,d=(0,l.jsx)("p",{children:o});return(a?d=(0,l.jsx)("p",{children:r}):!n||t||o?t&&(d=(0,l.jsx)("p",{children:t})):d=(0,l.jsx)(K.j,{variant:"light",className:"rounded-md",height:18}),i&&s)?(0,l.jsx)("a",{href:s,target:"_blank",rel:"noopener noreferrer",children:d}):d}function B(e){let{uri:t,isError:s,isLink:n=!1}=e,{data:a,isLoading:i}=(0,N.y)({documentId:t}),r=(0,G.d)(t);return(0,l.jsx)(V,{title:null==a?void 0:a.title,url:r,isLoading:i,isError:s,isLink:n,defaultErrorTitle:"Google Docs"})}var J=s(51561),H=s(49629);let W={includeScore:!0,threshold:.3,keys:["title"],ignoreLocation:!0},X=e=>{let{conversation:t,projectUuid:s,trigger:n,align:r,isSubDropdown:o=!1,setIsUploadingDriveSync:d,onCreated:u,isOpen:x,setIsOpen:h,closeWholeDropdown:g=()=>h(!1),shouldAddSyncUponPaste:j}=e,w=(0,y.A)(),S=(0,p.fS)("kingfisher_prefetch"),{recentDriveDocs:b,isLoading:M}=(0,N.zH)(S||x),[A,C]=(0,v.useState)(""),[k,D]=(0,v.useState)(!1),[U,P]=(0,v.useState)(""),{addError:_}=(0,a.Y)(),O=(0,v.useRef)(null),R=(0,v.useRef)(null),L=()=>{d(!0),D(!0)},z=e=>{null==u||u(e),g(),D(!1)},G=e=>{d(!1),D(!1),_((0,H.J)(e),{error:e,errorContext:{tags:{source:"google_drive_dropdown_sync_create"}}})},{mutate:K}=(0,I.EF)({onMutate:L,onSuccess:z,onError:G,meta:{noToast:!0}}),{mutate:V}=(0,T.pz)(s,{onMutate:L,onSuccess:z,onError:G,meta:{noToast:!0}}),B=(0,v.useMemo)(()=>b&&A?new E.A(b,W).search(A).map(e=>e.item):b,[b,A]),X=A?null==B?void 0:B.slice(0,7):null==b?void 0:b.slice(0,5),Y=e=>{g(),(s?V:K)({sync_source_type:f.v8.GDRIVE,sync_source_config:{uri:e}})},$=e=>{let t=(0,J.$g)(e);C(e);let s="";if(t)Y(t);else if((0,J.X8)(e))s=w.formatMessage({defaultMessage:"Only Google Docs are supported at this time",id:"P3m20xflVA"});else try{new URL(e),s=w.formatMessage({defaultMessage:"Not a valid Google Doc URL",id:"S//j6oF0j8"})}catch(e){}P(s)};(0,m.y)({target:O,shouldFocus:x}),(0,v.useEffect)(()=>{x||(C(""),D(!1),P(""))},[x,C,D,P]);let Q=!!s,Z=o?c.FV:c.ms;return(0,l.jsxs)(Z,{className:"text-md w-[332px] p-0 overflow-hidden",align:r,trigger:n,onKeyDown:e=>{if(!["Enter","ArrowDown","ArrowUp"].includes(e.key)){var t;null==(t=O.current)||t.focus()}},onFocusOutside:e=>e.preventDefault(),...o?{forceMount:!0}:{open:x,onOpenChange:h,unstyledTrigger:!0},children:[(0,l.jsx)(c.Bi,{children:(0,l.jsx)(i.ks,{ref:O,value:A,placeholder:w.formatMessage({defaultMessage:"Search recents or paste URL",id:"jprBObbn5b"}),className:"w-full bg-inherit border-none select-none",onChange:e=>{$(e.target.value)},onPasteCapture:e=>{if(e.stopPropagation(),!x)return;let t=e.clipboardData.getData("text"),s=(0,J.$g)(t);s&&j&&Y(s)},onKeyDown:e=>{if("ArrowLeft"===e.key&&A)e.stopPropagation();else if("Enter"===e.key)$(e.currentTarget.value);else if("ArrowDown"===e.key&&X&&X.length>0){var t;e.preventDefault(),null==(t=R.current)||t.focus()}},"data-1p-ignore":!0,autoComplete:"off",autoFocus:!0})}),(0,l.jsx)(q,{inputRef:O,firstDocumentRef:R,handleAddDocument:Y,documents:X,isValidatingUrl:k,isFetchingRecentDriveDocs:M,errorMessage:U}),!Q&&!A&&(0,l.jsx)(F,{conversation:t})]})},q=e=>{let{inputRef:t,firstDocumentRef:s,handleAddDocument:n,documents:a,isValidatingUrl:i,isFetchingRecentDriveDocs:r,errorMessage:d}=e,u=i||r&&!a.length,x=!!d,m=!u&&(!a||!a.length);return u?(0,l.jsx)("div",{className:"flex flex-col items-center justify-center h-[220px]",children:(0,l.jsx)(O.y,{className:"animate-spin mx-auto"})}):x?(0,l.jsxs)("div",{className:"flex flex-col items-center justify-center h-[220px] text-center",children:[(0,l.jsx)(R.i,{size:24,className:"text-text-400",weight:"duotone"}),(0,l.jsx)("p",{className:"text-md text-text-400 mt-4",children:(0,l.jsx)(w.A,{defaultMessage:"Invalid URL",id:"SASA4f9KO3"})}),(0,l.jsx)("p",{className:"text-sm text-danger-000",children:d})]}):m?(0,l.jsxs)("div",{className:"flex flex-col items-center justify-center h-[220px]",children:[(0,l.jsx)(R.i,{size:24,className:"text-text-400",weight:"duotone"}),(0,l.jsx)("p",{className:"text-md text-text-400 mt-4",children:(0,l.jsx)(w.A,{defaultMessage:"No recents found",id:"2FzJykASLO"})}),(0,l.jsx)("p",{className:"text-sm text-text-500",children:(0,l.jsx)(w.A,{defaultMessage:"Try pasting the URL instead",id:"jf3/+bX0lc"})})]}):(0,l.jsx)("div",{className:"px-1.5 py-1",children:a.map((e,a)=>{let{uri:i,title:r}=e;return(0,l.jsxs)(c.tJ,{className:"!grid-cols-[max-content_auto] hover:text-text-000 hover:bg-bg-200",ref:0===a?s:void 0,onClick:()=>n(i),onKeyDown:e=>{if("ArrowUp"===e.key&&0===a){var s;e.preventDefault(),null==(s=t.current)||s.focus()}},textValue:"",onPointerLeave:e=>e.preventDefault(),onPointerMove:e=>e.preventDefault(),children:[(0,l.jsx)(o.A9,{type:f.v8.GDRIVE,variant:o.UF.DOCS,size:16}),(0,l.jsx)("span",{className:"truncate",children:null!=r?r:(0,l.jsx)(B,{uri:i})})]},i)})})};var Y=s(64328),$=s(44007),Q=s(50571),Z=s(35580),ee=s(43341);function et(e){let{server:t,projectUuid:s,_setIsOpen:n,closeWholeDropdown:o,setIsUploadingMcpSync:d}=e,u=(0,y.A)(),{addError:x}=(0,a.Y)(),[p,h]=(0,v.useState)(""),[g,j]=(0,v.useState)(!1),[S,b]=(0,v.useState)(""),N=(0,v.useRef)(null),M=(0,v.useRef)(null),A=(0,$.p9)(),{activeOrganization:C}=(0,Y.YL)(),k=null==C?void 0:C.uuid,{mutateAsync:D}=(0,T.pz)(s),{mutateAsync:U}=(0,Q.Ax)(),P=(0,v.useMemo)(()=>{if(!t.resources||!p)return t.resources;let e=p.toLowerCase();return t.resources.filter(t=>{var s,l,n;let a=(null==(s=t.name)?void 0:s.toLowerCase())||"",i=(null==(l=t.description)?void 0:l.toLowerCase())||"",r=(null==(n=t.uri)?void 0:n.toLowerCase())||"";return a.includes(e)||i.includes(e)||r.includes(e)})},[t.resources,p]),_=(0,v.useCallback)(async e=>{try{null==d||d(!0),j(!0),o();let s=e.name||null;!s&&e.description&&(s=e.description),await D({sync_source_type:f.v8.MCP_RESOURCES,sync_source_config:{server_uuid:t.uuid,resource:{name:e.name,uri:e.uri,mimeType:e.mimeType||null,title:s||null,size:null}}}),j(!1)}catch(e){null==d||d(!1),j(!1),x(u.formatMessage({defaultMessage:"Failed to add MCP resource",id:"dmO4UZ//Vk"}),{error:e,messageForLogging:"Failed to add MCP resource"})}},[t,D,x,u,o,d]),E=(0,v.useCallback)(async e=>{try{var s,l,n,a;j(!0),b("");let i=t.resources.find(t=>t.uri===e);if(i)return void await _(i);if(A&&k&&!(0,Z.HG)(t.uuid,A)){let a=await U({resource_uri:e,server_uuid:t.uuid});if(a){let e=a.resource;await _({uri:e.uri,name:e.name,description:null!=(s=e.description)?s:void 0,mimeType:null!=(l=e.mimeType)?l:void 0,title:null!=(n=e.title)?n:void 0})}else b(u.formatMessage({defaultMessage:"Unable to resolve URL through MCP server",id:"dkdRVRDQNR"}))}else{let s=(0,Z.KU)(t.uuid),l=await s.readResource({uri:e});if(l.contents.length>0){let e={...l.contents[0]};await _({...l.contents[0],name:null!=(a=e.name)?a:"Unknown Title"})}else b(u.formatMessage({defaultMessage:"Unable to resolve URL through MCP server",id:"dkdRVRDQNR"}))}}catch(e){j(!1),b(u.formatMessage({defaultMessage:"Failed to resolve URL. Make sure the MCP server supports this URL.",id:"CUJtqLGhMn"}))}},[t.resources,t.uuid,A,k,_,U,u]),I=(0,v.useCallback)(e=>{e.stopPropagation();let t=e.clipboardData.getData("text");(0,ee.q)(t)&&(e.preventDefault(),E(t))},[E]),L=(0,v.useCallback)(e=>{if("ArrowLeft"===e.key&&p)e.stopPropagation();else if("Enter"===e.key){let t=e.currentTarget.value;(0,ee.q)(t)&&E(t)}else if("ArrowDown"===e.key&&P&&P.length>0){var t;e.preventDefault(),null==(t=M.current)||t.focus()}},[p,P,E]),z=(0,v.useCallback)(e=>{if(!["Enter","ArrowDown","ArrowUp"].includes(e.key)){var t;null==(t=N.current)||t.focus()}},[]);(0,m.y)({target:N,shouldFocus:!0});let F=!!S,G=!g&&(!P||!P.length);return(0,l.jsxs)(c.FV,{className:"text-md w-[332px] p-0 overflow-hidden",forceMount:!0,onKeyDown:z,onFocusOutside:e=>e.preventDefault(),children:[(0,l.jsx)(c.Bi,{children:(0,l.jsx)(i.ks,{ref:N,value:p,placeholder:u.formatMessage({defaultMessage:"Search resources or paste URL",id:"fctiBd7NOX"}),className:"w-full bg-inherit border-none select-none",onChange:e=>{h(e.target.value),b("")},onPaste:I,onKeyDown:L,"data-1p-ignore":!0,autoComplete:"off",autoFocus:!0})}),g&&(0,l.jsx)("div",{className:"flex flex-col items-center justify-center h-[220px]",children:(0,l.jsx)(O.y,{className:"animate-spin mx-auto"})}),F&&(0,l.jsxs)("div",{className:"flex flex-col items-center justify-center h-[220px] text-center",children:[(0,l.jsx)(R.i,{size:24,className:"text-text-400",weight:"duotone"}),(0,l.jsx)("p",{className:"text-md text-text-400 mt-4",children:(0,l.jsx)(w.A,{defaultMessage:"Invalid URL",id:"SASA4f9KO3"})}),(0,l.jsx)("p",{className:"text-sm text-danger-000",children:S})]}),G&&!F&&(0,l.jsxs)("div",{className:"flex flex-col items-center justify-center h-[220px]",children:[(0,l.jsx)(R.i,{size:24,className:"text-text-400",weight:"duotone"}),(0,l.jsx)("p",{className:"text-md text-text-400 mt-4",children:(0,l.jsx)(w.A,{defaultMessage:"No resources found",id:"FAyfWZv8kx"})}),(0,l.jsx)("p",{className:"text-sm text-text-500",children:(0,l.jsx)(w.A,{defaultMessage:"Try adjusting your search or paste a URL",id:"dDjPrmrUBk"})})]}),!g&&!F&&P&&P.length>0&&(0,l.jsx)("div",{className:"px-1.5 py-1",children:P.map((e,t)=>(0,l.jsxs)(c.tJ,{ref:0===t?M:void 0,onClick:()=>void _(e),onKeyDown:e=>{if("ArrowUp"===e.key&&0===t){var s;e.preventDefault(),null==(s=N.current)||s.focus()}},className:"!grid-cols-[max-content_auto] hover:text-text-000 hover:bg-bg-200",textValue:"",onPointerLeave:e=>e.preventDefault(),onPointerMove:e=>e.preventDefault(),children:[(0,l.jsx)(r.ZHH,{size:16}),(0,l.jsx)("span",{className:"truncate",children:e.name||e.uri})]},e.uri))})]})}let es=e=>{let{projectUuid:t,isStarterProject:s,isUploading:i,setIsUploadingDoc:r,setIsUploadingGithubSync:o,setIsUploadingDriveSync:d,setIsUploadingOutlineSync:c,setIsUploadingMcpSync:u}=e,x=(0,y.A)(),m=(0,v.useRef)(null),[f,h]=(0,v.useState)(""),[g,j]=(0,v.useState)(""),[C,D]=(0,v.useState)(!1),[U,P]=(0,v.useState)(!1),[O,R]=(0,v.useState)(!1),{addError:E}=(0,a.Y)(),{mutateAsync:I}=(0,S.fh)(t,{onError:()=>r(!1)}),{data:T}=(0,b.fo)(t),{checkIsGithubAuthenticated:L,initGithubAuth:z}=(0,M.nB)({callerIdentifier:"project",toggleGithubModalOpen:P}),F=(0,M.Cq)(),{isOutlineAuthenticated:G}=(0,A.I5)(),K=(0,A.AI)(),V=(0,N.LP)(),B=(0,k.ED)(t),{maxKbTokens:J}=(0,k.AO)(),H=(null!=B?B:0)>J,W=(0,n.cV)(),X=(0,p.fS)("project_image"),{handleProjectFileUpload:q}=(0,k.IE)({projectUuid:t,onError:()=>r(!1)}),Y=(0,v.useCallback)(async e=>{let t=e.target.files;t&&(r(!0),await q(Array.from(t),J-(null!=B?B:0)),r(!1)),e.target.value=""},[q,r,B,J]),$=async()=>{try{D(!1),r(!0),await I({file_name:g,content:f}),j(""),h("")}catch(e){r(!1),E(x.formatMessage({defaultMessage:"Error saving text content",id:"9U64gLEIVo"}),{error:e,messageForLogging:"Error saving text content"})}};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("input",{"data-testid":"project-doc-upload",ref:m,type:"file",className:"hidden",accept:(0,n.cm)({imagesEnabled:X,outOfContextFilesEnabled:W}).join(","),onChange:Y,multiple:!0}),(0,l.jsx)(el,{projectUuid:t,shouldShowGithubSyncSource:F,shouldShowDriveSyncSource:V,shouldShowOutlineSyncSource:K,handleGithubClick:()=>{L().then(e=>{if(e)return void P(!0);z()})},handleOutlineClick:()=>{G?R(!0):E((0,l.jsxs)("div",{className:"flex flex-col items-start",children:[(0,l.jsx)("div",{children:(0,l.jsx)(w.A,{defaultMessage:"You need to connect to Outline before using this feature.",id:"PejG+e4wN5"})}),(0,l.jsx)("button",{onClick:()=>{window.location.href="/settings/profile"},className:"mt-2 underline",children:(0,l.jsx)(w.A,{defaultMessage:"Connect to Outline",id:"m1DuTWXorQ"})})]}))},handleFileUploadClick:()=>{m.current&&m.current.click()},handleTextContentClick:()=>D(!0),isPrivateProject:!!(null==T?void 0:T.is_private),isStarterProject:s,isOverProjectKnowledgeLimit:H,isLoading:i,setIsUploadingDriveSync:d,setIsUploadingMcpSync:u}),(0,l.jsx)(ed,{isOpen:C,onClose:()=>D(!1),title:g,setTitle:j,content:f,setContent:h,onSave:$}),F&&(0,l.jsx)(_.s,{location:"project",isOpen:U,onClose:()=>P(!1),projectUuid:t,setIsUploadingGithubSync:o}),K&&""]})},el=e=>{let{projectUuid:t,shouldShowGithubSyncSource:s,shouldShowDriveSyncSource:n,handleGithubClick:a,handleFileUploadClick:i,handleTextContentClick:o,isPrivateProject:d,isStarterProject:u,isOverProjectKnowledgeLimit:x,isLoading:m,shouldShowOutlineSyncSource:h,handleOutlineClick:g,setIsUploadingDriveSync:j,setIsUploadingMcpSync:y}=e,[S,b]=(0,v.useState)(!1),[M,A]=(0,v.useState)(null),k=(0,p.fS)("nebula_drift_enabled"),D=(0,Z.Uz)({isConnected:!0,hasPromptsOrResources:!0}),U=(0,Z.Uz)({type:"remote"}),P=k?D.filter(e=>e.resources.length>0&&void 0!==e.url):[],_=null==U?void 0:U.find(e=>e.url&&C.TI[e.url]===f.v8.GDRIVE),O=null==D?void 0:D.find(e=>e.url&&C.TI[e.url]===f.v8.GDRIVE),R=(0,C.kO)(),E=n||s||P.length>0,{isDriveAuthenticated:I,initDriveAuth:T,handleDriveTrigger:L}=(0,N.cI)({callerIdentifier:"project",handleAuthSuccess:e=>{b(e),e?setTimeout(()=>{A("gdrive")},100):A(null)}}),z=I&&d;return(0,l.jsxs)(c.ms,{align:"end",unstyledTrigger:!0,trigger:(0,l.jsx)(en,{isStarterProject:u,isOverProjectKnowledgeLimit:x,isLoading:m}),open:S,onOpenChange:b,children:[(0,l.jsx)(c.tJ,{onClick:i,className:"text-left",icon:(0,l.jsx)(r.o3O,{}),children:(0,l.jsx)(w.A,{defaultMessage:"Upload from device",id:"vMaZk5Jcnv"})}),(0,l.jsx)(c.tJ,{onClick:o,className:"text-left",icon:(0,l.jsx)(r.XGh,{}),children:(0,l.jsx)(w.A,{defaultMessage:"Add text content",id:"G7XW3Mvn8X"})}),E?(0,l.jsx)(c.DG,{}):null,s&&(0,l.jsx)(ea,{type:f.v8.GITHUB,isPrivateProject:d,onClick:a}),n&&(!R||_&&!O)&&(0,l.jsx)(ei,{projectUuid:t,isPrivateProject:d,setIsUploadingDriveSync:j,isOpen:"gdrive"===M,setIsOpen:e=>A(e?"gdrive":null),closeWholeDropdown:()=>{A(null),b(!1)},showGoogleDriveSubDropdown:z,handleGoogleDriveButtonClick:()=>{!z&&d&&(I?L():T())}}),h&&(0,l.jsx)(ea,{type:f.v8.OUTLINE,isPrivateProject:d,onClick:g}),(0,l.jsx)(er,{mcpServers:P,projectUuid:t,openSubDropdownId:M,setOpenSubDropdownId:A,isPrivateProject:d,setIsOpen:b,setIsUploadingMcpSync:y})]})},en=(0,v.forwardRef)((e,t)=>{let{isStarterProject:s,isOverProjectKnowledgeLimit:n,isLoading:a,...i}=e,o=(0,l.jsx)(d.$,{...i,ref:t,size:"icon_sm",variant:"ghost","data-testid":"project-doc-uploader-dropdown-trigger",disabled:s||n||a,loading:a,className:"-mr-2 !scale-100",tooltip:(0,l.jsx)(w.A,{defaultMessage:"Add files",id:"xrAjmQ72mN"}),children:(0,l.jsx)(r.OMN,{size:16})});return s?(0,l.jsx)(D.m,{children:(0,l.jsx)("div",{children:o})}):n?(0,l.jsx)(x.Tooltip,{side:"bottom",tooltipContent:(0,l.jsx)(w.A,{defaultMessage:"Project knowledge at capacity. Remove an existing file in order to add to knowledge",id:"g3hx72ya32"}),children:(0,l.jsx)("div",{children:o})}):o});en.displayName="ProjectDocUploaderDropdownTrigger";let ea=e=>{let{type:t,isPrivateProject:s,isSubTrigger:n=!1,isSubDropdownOpen:a=!1,onClick:i}=e,r=n?c.Wn:c.tJ,d=(0,l.jsxs)(r,{onClick:i,onPointerLeave:e=>{n&&a&&e.preventDefault()},onPointerMove:e=>{n&&a&&e.preventDefault()},disabled:!s,className:"text-left",children:[(0,l.jsxs)("div",{className:"flex font-base items-center gap-2.5 py-0.5",children:[(0,l.jsx)(o.A9,{type:t,size:18}),(0,U.xI)(t)]}),n&&(0,l.jsx)(h.K,{size:18})]});return s?d:(0,l.jsx)(x.Tooltip,{side:"left",tooltipContent:(0,l.jsx)(w.A,{defaultMessage:"Only accessible from private projects",id:"lNrma+LwGe"}),children:(0,l.jsx)("div",{children:d})})},ei=e=>{let{projectUuid:t,isPrivateProject:s,setIsUploadingDriveSync:n,isOpen:a,setIsOpen:i,closeWholeDropdown:r,showGoogleDriveSubDropdown:o,handleGoogleDriveButtonClick:d}=e;return o?(0,l.jsxs)(c.MS,{open:a,onOpenChange:i,children:[(0,l.jsx)(ea,{type:f.v8.GDRIVE,isPrivateProject:s,isSubTrigger:!0,isSubDropdownOpen:a}),(0,l.jsx)(c.cm,{children:(0,l.jsx)(X,{projectUuid:t,isSubDropdown:!0,setIsUploadingDriveSync:n,isOpen:a,setIsOpen:i,closeWholeDropdown:r,shouldAddSyncUponPaste:!0})})]}):(0,l.jsx)(ea,{type:f.v8.GDRIVE,isPrivateProject:s,onClick:d})},er=e=>{let{mcpServers:t,projectUuid:s,openSubDropdownId:n,isPrivateProject:a,setOpenSubDropdownId:i,setIsOpen:r,setIsUploadingMcpSync:o}=e;return 0===t.length?null:(0,l.jsx)(l.Fragment,{children:t.map(e=>{let t="mcp-".concat(e.uuid),d=n===t;return(0,l.jsx)(eo,{server:e,projectUuid:s,isOpen:d,disabled:!a,setIsOpen:e=>{i(("function"==typeof e?e(d):e)?t:null)},closeWholeDropdown:()=>{i(null),r(!1)},setIsUploadingMcpSync:o},t)})})},eo=e=>{let{server:t,projectUuid:s,isOpen:n,setIsOpen:a,disabled:i,closeWholeDropdown:r,setIsUploadingMcpSync:o}=e,d=(0,ee.c)(t.name),u=(0,l.jsx)("span",{className:"text-text-300 text-sm truncate max-w-[150px]",title:t.name!==d?t.name:void 0,children:d}),m=i?c.tJ:c.Wn,p=(0,l.jsxs)(m,{disabled:i,className:"flex w-full items-center justify-between gap-2 px-2 py-1.5 hover:bg-bg-200 rounded cursor-pointer",children:[(0,l.jsxs)("div",{className:"flex items-center gap-2 min-w-0",children:[(0,l.jsx)(P.z,{type:"favicon",src:t.url,size:18,name:d}),u]}),(0,l.jsx)(h.K,{size:18,className:"text-text-500 flex-shrink-0"})]});return i?(0,l.jsx)(x.Tooltip,{side:"left",tooltipContent:(0,l.jsx)(w.A,{defaultMessage:"Only accessible from private projects",id:"lNrma+LwGe"}),children:(0,l.jsx)("div",{children:p})}):(0,l.jsxs)(c.MS,{open:n,onOpenChange:a,children:[p,(0,l.jsx)(c.cm,{children:n&&(0,l.jsx)(et,{server:t,projectUuid:s,_setIsOpen:a,closeWholeDropdown:r,setIsUploadingMcpSync:o})})]})},ed=e=>{let{isOpen:t,onClose:s,title:n,setTitle:a,content:r,setContent:o,onSave:c}=e,x=(0,y.A)(),p=(0,v.useRef)(null);return(0,m.y)({shouldFocus:t,target:p}),(0,l.jsx)(u.aF,{isOpen:t,onClose:s,modalSize:"xl",className:"p-7 pt-6",children:(0,l.jsxs)("form",{onSubmit:e=>{e.preventDefault(),""!==n.trim()&&""!==r.trim()&&c()},children:[(0,l.jsx)("h2",{className:"font-claude-response mb-3 text-xl",children:(0,l.jsx)(w.A,{defaultMessage:"Add text content",id:"G7XW3Mvn8X"})}),(0,l.jsx)(i.ks,{ref:p,placeholder:x.formatMessage({defaultMessage:"Name your content",id:"C7Sx4g/l21"}),className:"mb-2 w-full",size:"lg",label:(0,l.jsx)(w.A,{defaultMessage:"Title",id:"9a9+wwWy4u"}),value:n,onChange:e=>a(e.target.value),required:!0}),(0,l.jsx)(i.fs,{placeholder:x.formatMessage({defaultMessage:"Type or paste in content...",id:"f5RDuqxeT2"}),label:x.formatMessage({defaultMessage:"Content",id:"Jq3FDzj0/T"}),minRows:12,value:r,onChange:e=>o(e.target.value),required:!0,className:"max-h-[50vh] overflow-y-auto"}),(0,l.jsxs)("div",{className:"mt-4 flex justify-end gap-2",children:[(0,l.jsx)(d.$,{variant:"secondary",onClick:e=>{e.preventDefault(),s()},children:(0,l.jsx)(w.A,{defaultMessage:"Cancel",id:"47FYwba+bI"})}),(0,l.jsx)(d.$,{type:"submit",children:(0,l.jsx)(w.A,{defaultMessage:"Add Content",id:"66s1201qd9"})})]})]})})},ec=e=>{let{size:t="default",projectUuid:s,tooltipContent:n}=e,a=(0,k.ED)(s),{maxKbTokens:i}=(0,k.AO)(),r=(0,k.gq)(s),o=(0,k.AV)(),c=(0,k.Pb)(s);if(!a)return null;let u=Math.ceil(a/i*100),m=u>80&&u<100,p=u>=100,f=r?Math.min(100,r/i*100):void 0;return(0,l.jsxs)("div",{className:(0,j.A)("default"!==t&&"flex items-center gap-3"),children:[(0,l.jsxs)("div",{className:(0,j.A)("bg-bg-300 rounded-full p-px border-border-300 border-0.5 relative","small"===t&&"w-24"),children:[(0,l.jsx)("div",{style:{width:"".concat(Math.max(2,Math.min(100,u)),"%")},className:(0,j.A)("h-1.5 rounded-full transition-all",!m&&!p&&"bg-accent-secondary-100",m&&"bg-warning-orange",p&&"bg-danger-200")}),o&&void 0!==f&&a>=(r||0)&&(0,l.jsx)("div",{className:"absolute top-1/2 -translate-y-1/2 w-1.5 h-1.5 bg-text-100 rounded-full mix-blend-normal",style:{left:"".concat(f,"%"),transform:"translate(-50%, -50%)"}})]}),(0,l.jsxs)("div",{className:(0,j.A)("flex gap-2 items-center text-xs","default"===t&&"mt-2"),children:[(0,l.jsx)("div",{className:(0,j.A)("flex-1",u<100&&"text-text-400",u>=100&&"text-danger-000 font-medium"),children:(0,l.jsx)(w.A,{defaultMessage:"{pctUsed}% of project capacity used",id:"JfriU6oVgp",values:{pctUsed:u}})}),!o&&(0,l.jsx)(x.Tooltip,{className:"text-center mt-0.5",side:"left",tooltipContent:null!=n?n:(0,l.jsx)(w.A,{defaultMessage:"Project knowledge is currently limited to Claudeâ€™s maximum context window size.",id:"aAeavdIV/P"}),children:(0,l.jsx)("div",{className:"flex items-center",children:(0,l.jsx)(d.$,{size:"icon_xs",variant:"ghost",href:"https://support.anthropic.com/en/articles/9517075-what-are-projects",target:"_blank",children:(0,l.jsx)(g.R,{size:14})})})}),c&&(0,l.jsx)("div",{className:"text-text-400 text-xs flex gap-1",children:(0,l.jsx)(x.Tooltip,{className:"text-center mt-0.5",side:"bottom",tooltipContent:null!=n?n:(0,l.jsx)(w.A,{defaultMessage:"To save space, Claude looks up information as needed.",id:"a/OO1blv/l"}),children:(0,l.jsxs)("div",{className:"flex gap-1 items-center",children:[(0,l.jsx)("div",{className:"w-1.5 h-1.5 bg-text-100 rounded-full"}),(0,l.jsx)(w.A,{defaultMessage:"Retrieving",id:"RmdvWf4BuF"})]})})})]}),u>=100&&(0,l.jsx)("div",{className:"text-text-400 text-xs",children:(0,l.jsx)(w.A,{defaultMessage:"Remove an existing file in order to add to knowledge",id:"mSQjDnX2IA"})})]})}},60956:(e,t,s)=>{s.d(t,{jE:()=>n});var l=s(27541);let n=()=>{let e=(0,l.useRouter)(),t=(0,l.useSearchParams)();return(s,l)=>{let n=new URLSearchParams(t);l?n.set(s,l):n.delete(s);let a=n.toString(),i=a?"".concat(window.location.pathname,"?").concat(a).concat(window.location.hash):"".concat(window.location.pathname).concat(window.location.hash);e.replace(i)}}},61987:(e,t,s)=>{s.d(t,{b:()=>E,N:()=>T});var l=s(54568),n=s(7620),a=s(47479),i=s(35984),r=s(54787),o=s(68067),d=s(2e3),c=s(59880),u=s(39109),x=s(61295),m=s(90215),p=s(32536),f=s(59666),h=s(34385),g=s(93714),j=s(71462);let v=e=>{let{doc:t,canEditKnowledgeBase:s,...i}=e,{mutate:r}=(0,h.gG)(t.project_uuid),o=(0,n.useMemo)(()=>new TextEncoder().encode(t.content).length,[t]),d={created_at:t.created_at,file_name:t.file_name,file_size:o,file_type:"",extracted_content:t.content,origin:j.R.UserUpload};return(0,l.jsx)(a.NM,{...i,file:d,handleRemove:()=>r({docUuid:t.uuid})})},y=e=>{let{file:t,projectUuid:s,canEditKnowledgeBase:n,...i}=e,{mutate:r,isPending:o}=(0,h.KU)(s);return(0,l.jsx)(a.NM,{...i,file:t,handleRemove:()=>{r({file_uuids:[t.file_uuid]})},isLoading:o})};var w=s(65891),S=s(81478),b=s(67453),N=s(89919),M=s(18868),A=s(10369),C=s(22167),k=s(46868);function D(e){let{projectUuid:t,syncSource:s,isActionsHidden:a,canEditKnowledgeBase:r,...o}=e,{mutateAsync:c}=(0,g.bG)(t),{isUpdating:u,handleUpdate:x,isFailing:m}=function(e){let{projectUuid:t,syncSource:s}=e,[l,a]=(0,n.useState)(!1),{addSuccess:r}=(0,i.Y)(),o=(0,A.A)(),{mutate:d}=(0,g.M3)(t,{onSuccess:()=>{r(o.formatMessage({defaultMessage:"Sync started",id:"yyuAtTi0E+"}))}});(0,n.useEffect)(()=>{a(!1)},[s.status]);let c=(0,C.z3)(s)||l,u=(0,C.Dd)(s),x=(0,n.useCallback)(()=>{c||(a(!0),d({sync_source_uuid:s.uuid,sync_source_config:s.config}))},[c,d,s.config,s.uuid]);return{isUpdating:c,isFailing:u,handleUpdate:x}}({projectUuid:t,syncSource:s});return(0,l.jsx)(k.br,{...o,location:"project",projectUuid:t,syncSource:s,handleRemove:()=>c(s.uuid),actions:s.type===d.v8.GITHUB?(0,l.jsx)(U,{handleUpdate:x,isFailing:m,isSyncing:u}):void 0,isSyncing:u||m})}function U(e){let{handleUpdate:t,isFailing:s,isSyncing:n}=e,i=(0,A.A)();return(0,l.jsx)(b.Tooltip,{tooltipContent:n?i.formatMessage({defaultMessage:"Syncing...",id:"S92mvo6R0o"}):s?i.formatMessage({defaultMessage:"Sync failed. Click to retry",id:"zOAqlyzs1U"}):i.formatMessage({defaultMessage:"Sync now",id:"SwsYB/OerA"}),children:(0,l.jsx)(a.G,{className:"!w-[18px] !px-0 shrink-0",onClick:t,children:n?(0,l.jsx)(N.P,{size:12,className:"animate-spin"}):s?(0,l.jsx)(M.N,{size:12}):(0,l.jsx)(N.P,{size:12})})})}var P=s(51461);let _="project_syncs",O="project_docs",R="project_linked_files";function E(e){let{project:t,canEditKnowledgeBase:s=!1,isUploadingDoc:i=!1,isUploadingDriveSync:o=!1,isUploadingOutlineSync:d=!1,isUploadingGithubSync:h=!1,isUploadingMcpSync:g=!1,setIsUploadingDoc:j,setIsUploadingDriveSync:w,setIsUploadingOutlineSync:b,setIsUploadingGithubSync:N,setIsUploadingMcpSync:M,maxItems:A,onViewAll:C,isEditable:k}=e,{githubSyncSources:U,driveSyncSources:E,outlineSyncSources:z,mcpResourcesSyncSources:F,projectDocs:G,linkedFiles:K,isFetchingKnowledge:V,knowledgeCount:B}=T({projectUuid:t.uuid,maxItems:A}),{isDeleting:J,selectedItems:H,handleSelect:W,selectAllItems:X,isInSelectionMode:q,toggleSelectMode:Y,handleDeleteSelected:$}=L({githubSyncSources:U,driveSyncSources:E,outlineSyncSources:z,mcpResourcesSyncSources:F,projectDocs:G,linkedFiles:K,projectUuid:t.uuid,isEnabled:s});I({clearUploadingState:()=>null==j?void 0:j(!1),numItems:G.length+K.length}),I({clearUploadingState:()=>null==N?void 0:N(!1),numItems:U.length}),I({clearUploadingState:()=>null==w?void 0:w(!1),numItems:E.length}),I({clearUploadingState:()=>null==b?void 0:b(!1),numItems:z.length}),I({clearUploadingState:()=>null==M?void 0:M(!1),numItems:F.length});let Q=new Set(H.map(e=>{let{uuid:t}=e;return t}));if(V)return(0,l.jsx)(r.j,{className:"!rounded-2xl !h-[10rem] !w-full !bg-bg-200",variant:"light"});if(0===B&&!i&&!o&&!d&&!h&&!g)return(0,l.jsxs)("div",{className:"text-center h-[10rem] bg-bg-200 rounded-2xl flex flex-col gap-3 items-center justify-center text-text-500 font-small",children:[(0,l.jsx)(p.default,{src:"/images/illustrations/project-knowledge-light-mode.svg",alt:"",width:105,height:56,className:"dark:hidden"}),(0,l.jsx)(p.default,{src:"/images/illustrations/project-knowledge-dark-mode.svg",alt:"",width:105,height:56,className:"hidden dark:block"}),(0,l.jsx)("div",{className:"max-w-[14.5rem]",children:(0,l.jsx)(f.A,{defaultMessage:"Add PDFs, documents, or other text to reference in this project.",id:"EC12TWMoUS"})})]});let Z=(0,l.jsx)(u.N,{children:q&&(0,l.jsx)(x.P.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},children:(0,l.jsx)(S.g,{isLoading:J,numSelected:H.length,totalNumItems:B,handleSelectAll:X,handleCancel:()=>Y(!1),handleDeleteSelected:$})},"item-management-menu")}),ee={size:"stretch",isEditable:k,isInSelectionMode:q};return(0,l.jsxs)("div",{className:"flex flex-col mb-1",children:[(0,l.jsxs)(m.o,{children:[(0,l.jsx)(u.N,{children:s&&(0,l.jsx)(x.P.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},className:"mb-3",children:(0,l.jsx)(P.H,{projectUuid:t.uuid})})}),(0,l.jsx)("div",{className:"ml-1 -mr-2.5",children:Z}),(0,l.jsx)("ul",{className:"grid grid-cols-[repeat(auto-fill,minmax(120px,1fr))] gap-3 mt-3",children:(0,l.jsxs)(u.N,{initial:!1,children:[(0,l.jsx)(a.NG,{isShown:o,...ee}),E.map(e=>(0,l.jsx)(D,{projectUuid:t.uuid,syncSource:e,canEditKnowledgeBase:s,isActionsHidden:q||!s,...ee,isSelected:Q.has(e.uuid),handleSelect:(t,s)=>W({uuid:e.uuid,type:_},t,s)},e.uuid)),(0,l.jsx)(a.NG,{isShown:d,...ee},"outline-sync-loading-indicator"),z.map(e=>(0,l.jsx)(D,{projectUuid:t.uuid,syncSource:e,canEditKnowledgeBase:s,isActionsHidden:q||!s,...ee,isSelected:Q.has(e.uuid),handleSelect:(t,s)=>W({uuid:e.uuid,type:_},t,s)},e.uuid)),(0,l.jsx)(a.NG,{isShown:h,...ee},"github-sync-loading-indicator"),U.map(e=>(0,n.createElement)(D,{...ee,key:e.uuid,projectUuid:t.uuid,syncSource:e,canEditKnowledgeBase:s,isActionsHidden:q||!s,isSelected:Q.has(e.uuid),handleSelect:(t,s)=>W({uuid:e.uuid,type:_},t,s)})),(0,l.jsx)(a.NG,{isShown:g,...ee},"mcp-sync-loading-indicator"),F.map(e=>(0,n.createElement)(D,{...ee,key:e.uuid,projectUuid:t.uuid,syncSource:e,canEditKnowledgeBase:s,isActionsHidden:q||!s,isSelected:Q.has(e.uuid),handleSelect:(t,s)=>W({uuid:e.uuid,type:_},t,s)})),(0,l.jsx)(a.NG,{isShown:i,...ee},"doc-upload-loading-indicator"),G.map(e=>(0,n.createElement)(v,{...ee,key:e.uuid,doc:e,canEditKnowledgeBase:s,isSelected:Q.has(e.uuid),handleSelect:(t,s)=>W({uuid:e.uuid,type:O},t,s)})),K.map(e=>(0,n.createElement)(y,{...ee,key:e.file_uuid,file:e,projectUuid:t.uuid,canEditKnowledgeBase:s,handleSelect:(t,s)=>W({uuid:e.file_uuid,type:R},t,s),isSelected:Q.has(e.file_uuid)}))]})})]}),!!C&&!!A&&B>A&&(0,l.jsx)("div",{children:(0,l.jsxs)("button",{onClick:C,className:"hover:text-text-000 hover:underline !px-0 text-sm",children:[(0,l.jsx)(f.A,{defaultMessage:"View all {count} files",id:"b36mSZ46cW",values:{count:B}}),(0,l.jsx)(c.Q,{size:16,className:"inline-block pl-1"})]})})]})}let I=e=>{let{clearUploadingState:t,numItems:s}=e,l=(0,n.useRef)(s);(0,n.useEffect)(()=>{s>l.current&&t(),l.current=s},[s,t])},T=e=>{let{projectUuid:t,maxItems:s}=e,l=(0,o.fS)("nebula_drift_enabled"),{data:n=[],isLoading:a}=(0,h.MO)(t),i=[...n],{data:r=[],isLoading:c}=(0,g.CO)(t),{data:u=[],isLoading:x}=(0,h.uE)(t),m=[...u],p=r.filter(e=>{let{type:t}=e;return t===d.v8.GDRIVE}),f=r.filter(e=>{let{type:t}=e;return t===d.v8.OUTLINE}),j=r.filter(e=>{let{type:t}=e;return t===d.v8.GITHUB}),v=l?r.filter(e=>{let{type:t}=e;return t===d.v8.MCP_RESOURCES}):[];if(s){let e=s;[p,f,j,v,i,m].forEach(t=>{t.splice(e),e=Math.max(0,e-t.length)})}let y=[i,r,m].reduce((e,t)=>{var s;return e+(null!=(s=null==t?void 0:t.length)?s:0)},0);return{driveSyncSources:p,outlineSyncSources:f,githubSyncSources:j,mcpResourcesSyncSources:v,projectDocs:i,linkedFiles:m,isFetchingKnowledge:a||c||x,knowledgeCount:y}},L=e=>{let{githubSyncSources:t,driveSyncSources:s,outlineSyncSources:l,mcpResourcesSyncSources:n,projectDocs:a,linkedFiles:r,projectUuid:o,isEnabled:d}=e,c=s.map(e=>{let{uuid:t}=e;return{type:_,uuid:t}}).concat(t.map(e=>{let{uuid:t}=e;return{type:_,uuid:t}})).concat(l.map(e=>{let{uuid:t}=e;return{type:_,uuid:t}})).concat(n.map(e=>{let{uuid:t}=e;return{type:_,uuid:t}})).concat(a.map(e=>{let{uuid:t}=e;return{type:O,uuid:t}})).concat(r.map(e=>{let{file_uuid:t}=e;return{type:R,uuid:t}})),{selectedItems:u,handleSelect:x,selectAllItems:m,isInSelectionMode:p,toggleSelectMode:f}=(0,w.m)(c,!d),{addError:j}=(0,i.Y)(),{mutateAsync:v,isPending:y}=(0,g.z_)(o),{mutateAsync:S,isPending:b}=(0,h.Aw)(o),{mutateAsync:N,isPending:M}=(0,h.KU)(o),A=async()=>{let e=u.filter(e=>{let{type:t}=e;return t===O}),t=u.filter(e=>{let{type:t}=e;return t===_}),s=u.filter(e=>{let{type:t}=e;return t===R});f(!1);try{await Promise.all([e.length?S({doc_uuids:e.map(e=>{let{uuid:t}=e;return t})}):Promise.resolve(),t.length?v({sync_source_uuids:t.map(e=>{let{uuid:t}=e;return t})}):Promise.resolve(),s.length?N({file_uuids:s.map(e=>{let{uuid:t}=e;return t})}):Promise.resolve()])}catch(e){j("Something went wrong while deleting. Refresh the page and try again",{error:e})}};return{isDeleting:b||y||M,selectedItems:u,handleSelect:x,selectAllItems:m,isInSelectionMode:p,toggleSelectMode:f,handleDeleteSelected:A}}},65891:(e,t,s)=>{s.d(t,{m:()=>n});var l=s(7620);let n=(e,t)=>{let[s,n]=(0,l.useState)(!1),[a,i]=(0,l.useState)([]);return(0,l.useEffect)(()=>{let t=a.filter(t=>e.some(e=>e.uuid===t.uuid&&e.type===t.type));t.length!==a.length&&i(t)},[e]),(0,l.useEffect)(()=>{n(a.length>0)},[a]),{selectedItems:a,handleSelect:(s,l,n)=>{t||(l?((s,l)=>{t||i(t=>{if(!l||0===Object.keys(t).length)return[...t,s];let n=t[Object.keys(t).length-1],a=e.findIndex(e=>{let{uuid:t,type:s}=e;return t===n.uuid&&s===n.type});if(-1===a)return[...t,s];let i=e.findIndex(e=>{let{uuid:t}=e;return t===s.uuid}),r=Math.min(a+1,i),o=Math.max(a-1,i),d=e.slice(r,o+1),c=t.map(e=>{let{uuid:t}=e;return t});return[...t,...d.filter(e=>{let{uuid:t}=e;return -1===c.indexOf(t)})]})})(s,n):(e=>{t||i(t=>t.filter(t=>{let{uuid:s,type:l}=t;return s!==e.uuid||l!==e.type}))})(s))},selectAllItems:()=>{t||(a.length===e.length?i([]):i(e))},isInSelectionMode:!t&&s,toggleSelectMode:e=>{n(e),e||i([])}}}},81478:(e,t,s)=>{s.d(t,{g:()=>u});var l=s(54568),n=s(13750),a=s(89626),i=s(23812),r=s(67453),o=s(68067);s(7620);var d=s(59666),c=s(22624);let u=e=>{let{isLoading:t=!1,numSelected:s,totalNumItems:u,handleSelectAll:x,handleCancel:m,handleDeleteSelected:p,handleMoveToProject:f}=e,h=(0,c.K)(),g=(0,o.fS)("move_conversation_to_projects");return(0,l.jsxs)("div",{className:"flex items-center rounded-lg w-full gap-2.5",children:[(0,l.jsx)(r.Tooltip,{tooltipContent:s<u?(0,l.jsx)(d.A,{defaultMessage:"Select all",id:"94Fg25VD0N"}):(0,l.jsx)(d.A,{defaultMessage:"Deselect all",id:"Spd88Hdc8Z"}),side:"bottom",disableHoverableContent:!0,children:(0,l.jsx)("div",{children:(0,l.jsx)(n.Sc,{checked:s>0,variant:s===u?"check":"minus",onChange:x,label:0===s?(0,l.jsx)(d.A,{defaultMessage:"Select all",id:"94Fg25VD0N"}):(0,l.jsx)(d.A,{defaultMessage:"Select all ({numSelected})",id:"DyqTu9FCTX",values:{numSelected:s}}),hideLabel:!0,disabled:0===u})})}),(0,l.jsx)("div",{className:"font-base text-text-400",children:(0,l.jsx)(d.A,{defaultMessage:"<format>{count}</format> selected",id:"N0IAIYom8U",values:{format:e=>(0,l.jsx)("span",{className:"tabular-nums",children:e}),count:s}})}),(0,l.jsxs)("div",{className:"mr-auto flex gap-1",children:[f&&h&&g&&(0,l.jsx)(i.$,{size:"icon",tooltip:s>0&&(0,l.jsx)(d.A,{defaultMessage:"Move {numSelected, plural, one {# chat} other {# chats}} to a project",id:"TNDo7KthuR",values:{numSelected:s}}),variant:"ghost",disabled:0===s,onClick:f,children:(0,l.jsx)(a.JtL,{})}),(0,l.jsx)(i.$,{size:"icon",tooltip:s>0&&(0,l.jsx)(d.A,{defaultMessage:"Delete {numSelected} selected {numSelected, plural, one {item} other {items}}",id:"TmuLafn4Jw",values:{numSelected:s}}),variant:"ghost",disabled:0===s,onClick:p,loading:t,children:(0,l.jsx)(a.lMJ,{})})]}),(0,l.jsx)(i.$,{tooltip:(0,l.jsx)(d.A,{defaultMessage:"Cancel",id:"47FYwba+bI"}),size:"icon",variant:"ghost",onClick:m,children:(0,l.jsx)(a.X,{})})]})}}}]);